ALTER TABLE traces DROP COLUMN IF EXISTS HttpResponseBody,
    DROP COLUMN IF EXISTS HttpRequestBody,
    DROP COLUMN IF EXISTS HttpUrl,
    DROP COLUMN IF EXISTS HighlightKey,
    MODIFY COLUMN IF EXISTS HighlightType MATERIALIZED TraceAttributes ['highlight.type'],
    DROP COLUMN IF EXISTS HttpAttributes,
    DROP COLUMN IF EXISTS ProcessAttributes,
    DROP COLUMN IF EXISTS OsAttributes,
    DROP COLUMN IF EXISTS TelemetryAttributes,
    DROP COLUMN IF EXISTS WsAttributes,
    DROP COLUMN IF EXISTS EventAttributes,
    DROP COLUMN IF EXISTS DbAttributes;
ALTER TABLE traces_sampling_new DROP COLUMN IF EXISTS HttpResponseBody,
    DROP COLUMN IF EXISTS HttpRequestBody,
    DROP COLUMN IF EXISTS HttpUrl,
    DROP COLUMN IF EXISTS HighlightKey,
    MODIFY COLUMN IF EXISTS HighlightType MATERIALIZED TraceAttributes ['highlight.type'],
    DROP COLUMN IF EXISTS HttpAttributes,
    DROP COLUMN IF EXISTS ProcessAttributes,
    DROP COLUMN IF EXISTS OsAttributes,
    DROP COLUMN IF EXISTS TelemetryAttributes,
    DROP COLUMN IF EXISTS WsAttributes,
    DROP COLUMN IF EXISTS EventAttributes,
    DROP COLUMN IF EXISTS DbAttributes;
ALTER TABLE traces_sampling_new_mv TO traces_sampling_new (
        `Timestamp` DateTime64(9),
        `UUID` UUID,
        `TraceId` String,
        `SpanId` String,
        `ParentSpanId` String,
        `ProjectId` UInt32,
        `SecureSessionId` String,
        `TraceState` String,
        `SpanName` LowCardinality(String),
        `SpanKind` LowCardinality(String),
        `Duration` Int64,
        `ServiceName` LowCardinality(String),
        `ServiceVersion` String,
        `TraceAttributes` Map(LowCardinality(String), String),
        `StatusCode` LowCardinality(String),
        `StatusMessage` String,
        `Events.Timestamp` Array(DateTime64(9)),
        `Events.Name` Array(LowCardinality(String)),
        `Events.Attributes` Array(Map(LowCardinality(String), String)),
        `Links.TraceId` Array(String),
        `Links.SpanId` Array(String),
        `Links.TraceState` Array(String),
        `Links.Attributes` Array(Map(LowCardinality(String), String))
    ) AS
SELECT *
FROM traces;