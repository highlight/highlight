name: Backend
on:
    push:
        branches:
            - '**'
            - '!master'
        paths:
            - 'backend/**'
jobs:
    backend:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2
            - name: Setup Go
              uses: actions/setup-go@v2
            # taken from https://stackoverflow.com/questions/39792766/checking-to-find-out-if-go-code-has-been-formatted
            - name: Check formatting
              run: test -z $(gofmt -l backend/)
            - name: Build binary
              run: cd backend && go build .
