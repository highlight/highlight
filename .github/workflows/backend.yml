name: Backend
on:
    push:
        branches:
            - '**'
            - '!master'
        paths:
            - 'backend/**'
            - '.github/workflows/backend.yml'
jobs:
    backend:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2
            - name: Setup Go
              uses: actions/setup-go@v2
            - name: Format
              run: if [ "$(gofmt -s -l . | wc -l)" -gt 0 ]; then exit 1; fi
            - name: Build binary
              run: cd backend && go build .
