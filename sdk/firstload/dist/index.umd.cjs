(function(Se,Ne){typeof exports=="object"&&typeof module!="undefined"?Ne(exports):typeof define=="function"&&define.amd?define(["exports"],Ne):(Se=typeof globalThis!="undefined"?globalThis:Se||self,Ne(Se.H={}))})(this,function(Se){"use strict";var OC=Object.defineProperty,wC=Object.defineProperties;var LC=Object.getOwnPropertyDescriptors;var ao=Object.getOwnPropertySymbols;var Qd=Object.prototype.hasOwnProperty,$d=Object.prototype.propertyIsEnumerable;var _a=(Se,Ne,we)=>Ne in Se?OC(Se,Ne,{enumerable:!0,configurable:!0,writable:!0,value:we}):Se[Ne]=we,rt=(Se,Ne)=>{for(var we in Ne||(Ne={}))Qd.call(Ne,we)&&_a(Se,we,Ne[we]);if(ao)for(var we of ao(Ne))$d.call(Ne,we)&&_a(Se,we,Ne[we]);return Se},It=(Se,Ne)=>wC(Se,LC(Ne));var Ea=(Se,Ne)=>{var we={};for(var ze in Se)Qd.call(Se,ze)&&Ne.indexOf(ze)<0&&(we[ze]=Se[ze]);if(Se!=null&&ao)for(var ze of ao(Se))Ne.indexOf(ze)<0&&$d.call(Se,ze)&&(we[ze]=Se[ze]);return we};var _e=(Se,Ne,we)=>(_a(Se,typeof Ne!="symbol"?Ne+"":Ne,we),we);var Rt=(Se,Ne,we)=>new Promise((ze,Mr)=>{var lo=bt=>{try{jn(we.next(bt))}catch(bn){Mr(bn)}},co=bt=>{try{jn(we.throw(bt))}catch(bn){Mr(bn)}},jn=bt=>bt.done?ze(bt.value):Promise.resolve(bt.value).then(lo,co);jn((we=we.apply(Se,Ne)).next())});function Ne(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const we=({apiKey:e})=>{(function(t,n){var i=t.amplitude||{_q:[],_iq:{}},s=n.createElement("script");s.type="text/javascript",s.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",s.crossOrigin="anonymous",s.async=!0,s.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",s.onload=function(){t.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(e)};var l=n.getElementsByTagName("script")[0];l.parentNode.insertBefore(s,l);function d(L,B){L.prototype[B]=function(){return this._q.push([B].concat(Array.prototype.slice.call(arguments,0))),this}}for(var h=function(){return this._q=[],this},b=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],g=0;g<b.length;g++)d(h,b[g]);i.Identify=h;for(var S=function(){return this._q=[],this},_=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],R=0;R<_.length;R++)d(S,_[R]);i.Revenue=S;var N=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function w(L){function B(x){L[x]=function(){L._q.push([x].concat(Array.prototype.slice.call(arguments,0)))}}for(var re=0;re<N.length;re++)B(N[re])}w(i),i.getInstance=function(L){return L=(!L||L.length===0?"$default_instance":L).toLowerCase(),Object.prototype.hasOwnProperty.call(i._iq,L)||(i._iq[L]={_q:[]},w(i._iq[L])),i._iq[L]},t.amplitude=i})(window,document)};var ze;(function(e){e.RECORDING_START_TIME="highlightRecordingStartTime",e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_DATA="sessionData",e.SESSION_SECURE_ID="sessionSecureID",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject",e.PAYLOAD_ID="payloadId"})(ze||(ze={}));const Mr=({projectToken:e})=>{if(window.mixpanel)return;(function(n,i){if(!i.__SV){var s,l;window.mixpanel=i,i._i=[],i.init=function(d,h,b){function g(R,N){var w=N.split(".");w.length==2&&(R=R[w[0]],N=w[1]),R[N]=function(){R.push([N].concat(Array.prototype.slice.call(arguments,0)))}}var S=i;for(typeof b!="undefined"?S=i[b]=[]:b="mixpanel",S.people=S.people||[],S.toString=function(R){var N="mixpanel";return b!=="mixpanel"&&(N+="."+b),R||(N+=" (stub)"),N},S.people.toString=function(){return S.toString(1)+".people (stub)"},s="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),l=0;l<s.length;l++)g(S,s[l]);var _="set set_once union unset remove delete".split(" ");S.get_group=function(){function R(B){N[B]=function(){call2_args=arguments,call2=[B].concat(Array.prototype.slice.call(call2_args,0)),S.push([w,call2])}}for(var N={},w=["get_group"].concat(Array.prototype.slice.call(arguments,0)),L=0;L<_.length;L++)R(_[L]);return N},i._i.push([d,h,b])},i.__SV=1.2}})(document,window.mixpanel||[]);const t=document.createElement("script");t.src=lo,document.head.appendChild(t),t.addEventListener("load",()=>{var n;(n=window.mixpanel)==null||n.init(e)})},lo="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";function co(e,t,n){try{if(!(t in e))return()=>{};const i=e[t],s=n(i);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=s,()=>{e[t]=i}}catch(i){return()=>{}}}function jn(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let i=e.parentElement,s=[];if(i.children&&i.children.length>0)for(let l=0;l<i.children.length;l++){let d=i.children[l];d.localName&&d.localName.toLowerCase&&d.localName.toLowerCase()===n&&s.push(d)}s.length>1&&(n+=":eq("+s.indexOf(e)+")"),t=n+(t?">"+t:""),e=i}return t}function bt(e){return Object.prototype.toString.call(e)==="[object Object]"}function bn(e,t){if(t===0)return!0;const n=Object.keys(e);for(const i of n)if(bt(e[i])&&bn(e[i],t-1))return!0;return!1}function uo(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const i=[],s=[];return JSON.stringify(e,function(h,b){if(i.length>0){const g=i.indexOf(this);~g?i.splice(g+1):i.push(this),~g?s.splice(g,1/0,h):s.push(h),~i.indexOf(b)&&(i[0]===b?b="[Circular ~]":b="[Circular ~."+s.slice(0,i.indexOf(b)).join(".")+"]")}else i.push(b);if(b==null)return b;if(l(b))return d(b);if(b instanceof Event){const g={};for(const S in b){const _=b[S];Array.isArray(_)?g[S]=jn(_.length?_[0]:null):g[S]=_}return g}else{if(b instanceof Node)return b instanceof HTMLElement?b?b.outerHTML:"":b.nodeName;if(b instanceof Error)return b.name+": "+b.message}return b});function l(h){return bt(h)&&Object.keys(h).length>n.numOfKeysLimit||typeof h=="function"?!0:h instanceof Event&&h.isTrusted===!1?Object.keys(h).length===1:!!(bt(h)&&bn(h,n.depthOfLimit))}function d(h){let b=h.toString();return n.stringLengthLimit&&b.length>n.stringLengthLimit&&(b=`${b.slice(0,n.stringLengthLimit)}...`),b}}var Qn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ra(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var Na={exports:{}},po={exports:{}},Za;function qd(){return Za||(Za=1,function(e,t){(function(n,i){e.exports=i()})(Qn,function(){function n(L){return!isNaN(parseFloat(L))&&isFinite(L)}function i(L){return L.charAt(0).toUpperCase()+L.substring(1)}function s(L){return function(){return this[L]}}var l=["isConstructor","isEval","isNative","isToplevel"],d=["columnNumber","lineNumber"],h=["fileName","functionName","source"],b=["args"],g=["evalOrigin"],S=l.concat(d,h,b,g);function _(L){if(L)for(var B=0;B<S.length;B++)L[S[B]]!==void 0&&this["set"+i(S[B])](L[S[B]])}_.prototype={getArgs:function(){return this.args},setArgs:function(L){if(Object.prototype.toString.call(L)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=L},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(L){if(L instanceof _)this.evalOrigin=L;else if(L instanceof Object)this.evalOrigin=new _(L);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var L=this.getFileName()||"",B=this.getLineNumber()||"",re=this.getColumnNumber()||"",x=this.getFunctionName()||"";return this.getIsEval()?L?"[eval] ("+L+":"+B+":"+re+")":"[eval]:"+B+":"+re:x?x+" ("+L+":"+B+":"+re+")":L+":"+B+":"+re}},_.fromString=function(B){var re=B.indexOf("("),x=B.lastIndexOf(")"),Xe=B.substring(0,re),Me=B.substring(re+1,x).split(","),Ie=B.substring(x+1);if(Ie.indexOf("@")===0)var ot=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(Ie,""),Vn=ot[1],xt=ot[2],Ut=ot[3];return new _({functionName:Xe,args:Me||void 0,fileName:Vn,lineNumber:xt||void 0,columnNumber:Ut||void 0})};for(var R=0;R<l.length;R++)_.prototype["get"+i(l[R])]=s(l[R]),_.prototype["set"+i(l[R])]=function(L){return function(B){this[L]=!!B}}(l[R]);for(var N=0;N<d.length;N++)_.prototype["get"+i(d[N])]=s(d[N]),_.prototype["set"+i(d[N])]=function(L){return function(B){if(!n(B))throw new TypeError(L+" must be a Number");this[L]=Number(B)}}(d[N]);for(var w=0;w<h.length;w++)_.prototype["get"+i(h[w])]=s(h[w]),_.prototype["set"+i(h[w])]=function(L){return function(B){this[L]=String(B)}}(h[w]);return _})}(po)),po.exports}(function(e,t){(function(n,i){e.exports=i(qd())})(Qn,function(i){var s=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(b){if(typeof b.stacktrace!="undefined"||typeof b["opera#sourceloc"]!="undefined")return this.parseOpera(b);if(b.stack&&b.stack.match(l))return this.parseV8OrIE(b);if(b.stack)return this.parseFFOrSafari(b);throw new Error("Cannot parse given Error object")},extractLocation:function(b){if(b.indexOf(":")===-1)return[b];var g=/(.+?)(?::(\d+))?(?::(\d+))?$/,S=g.exec(b.replace(/[()]/g,""));return[S[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(b){var g=b.stack.split(`
`).filter(function(S){return!!S.match(l)},this);return g.map(function(S){S.indexOf("(eval ")>-1&&(S=S.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var _=S.replace(/^\s+/,"").replace(/\(eval code/g,"("),R=_.match(/ (\((.+):(\d+):(\d+)\)$)/);_=R?_.replace(R[0],""):_;var N=_.split(/\s+/).slice(1),w=this.extractLocation(R?R[1]:N.pop()),L=N.join(" ")||void 0,B=["eval","<anonymous>"].indexOf(w[0])>-1?void 0:w[0];return new i({functionName:L,fileName:B,lineNumber:w[1],columnNumber:w[2],source:S})},this)},parseFFOrSafari:function(b){var g=b.stack.split(`
`).filter(function(S){return!S.match(d)},this);return g.map(function(S){if(S.indexOf(" > eval")>-1&&(S=S.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),S.indexOf("@")===-1&&S.indexOf(":")===-1)return new i({functionName:S});var _=/((.*".+"[^@]*)?[^@]*)(?:@)/,R=S.match(_),N=R&&R[1]?R[1]:void 0,w=this.extractLocation(S.replace(_,""));return new i({functionName:N,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:S})},this)},parseOpera:function(b){return!b.stacktrace||b.message.indexOf(`
`)>-1&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var g=/Line (\d+).*script (?:in )?(\S+)/i,S=b.message.split(`
`),_=[],R=2,N=S.length;R<N;R+=2){var w=g.exec(S[R]);w&&_.push(new i({fileName:w[2],lineNumber:w[1],source:S[R]}))}return _},parseOpera10:function(b){for(var g=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,S=b.stacktrace.split(`
`),_=[],R=0,N=S.length;R<N;R+=2){var w=g.exec(S[R]);w&&_.push(new i({functionName:w[3]||void 0,fileName:w[2],lineNumber:w[1],source:S[R]}))}return _},parseOpera11:function(b){var g=b.stack.split(`
`).filter(function(S){return!!S.match(s)&&!S.match(/^Error created at/)},this);return g.map(function(S){var _=S.split("@"),R=this.extractLocation(_.pop()),N=_.shift()||"",w=N.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,L;N.match(/\(([^)]*)\)/)&&(L=N.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var B=L===void 0||L==="[arguments not available]"?void 0:L.split(",");return new i({functionName:w,args:B,fileName:R[0],lineNumber:R[1],columnNumber:R[2],source:S})},this)}}})})(Na);var ep=Na.exports;const xr=Ia(ep);function tp(e,t){const n=t.logger;if(!n)return()=>{};let i;typeof n=="string"?i=window[n]:i=n;const s=[];if(t.level.includes("error")&&window){const d=h=>{const{message:b,error:g}=h;let S=[];g&&(S=xr.parse(g));const _=[uo(b,t.stringifyOptions)];e({type:"Error",trace:S,time:Date.now(),value:_})};window.addEventListener("error",d),s.push(()=>{window&&window.removeEventListener("error",d)})}for(const d of t.level)s.push(l(i,d));return()=>{s.forEach(d=>d())};function l(d,h){return d[h]?co(d,h,b=>(...g)=>{b.apply(this,g);try{const S=xr.parse(new Error),_=t.serializeConsoleAttributes?g.map(R=>typeof R=="object"?uo(R,t.stringifyOptions):R):g.filter(R=>typeof R!="object").map(R=>`${R}`);e({type:h,trace:S.slice(1),value:_,attributes:uo(g.filter(R=>typeof R=="object").reduce((R,N)=>rt(rt({},R),N),{}),t.stringifyOptions),time:Date.now()})}catch(S){b("highlight logger error:",S,...g)}}):()=>{}}}var ho={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=i;function n(s,l,d,h){return JSON.stringify(s,i(l,h),d)}function i(s,l){var d=[],h=[];return l==null&&(l=function(b,g){return d[0]===g?"[Circular ~]":"[Circular ~."+h.slice(0,d.indexOf(g)).join(".")+"]"}),function(b,g){if(d.length>0){var S=d.indexOf(this);~S?d.splice(S+1):d.push(this),~S?h.splice(S,1/0,b):h.push(b),~d.indexOf(g)&&(g=l.call(this,b,g))}else d.push(g);return s==null?g:s.call(this,b,g)}}})(ho,ho.exports);var np=ho.exports;const Ur=Ia(np);function mo(e,t,n,i){var h,b,g,S;let s=[];try{s=xr.parse(i!=null?i:t)}catch(_){s=xr.parse(new Error)}let l={};t instanceof Error&&(t=t.message,t.cause&&(l={"exception.cause":t.cause}));const d=ip(s);e({event:Ur(t),type:"window.onerror",url:window.location.href,source:n!=null?n:"",lineNumber:(h=d[0])!=null&&h.lineNumber?(b=d[0])==null?void 0:b.lineNumber:0,columnNumber:(g=d[0])!=null&&g.columnNumber?(S=d[0])==null?void 0:S.columnNumber:0,stackTrace:d,timestamp:new Date().toISOString(),payload:l?Ur(l):void 0})}const rp=(e,{enablePromisePatch:t})=>{if(typeof window=="undefined")return()=>{};const n=window.onerror=(d,h,b,g,S)=>{mo(e,d,h,S)},i=window.onunhandledrejection=d=>{if(d.reason){const h=d.promise;h.getStack?mo(e,d.reason,d.type,h.getStack()):mo(e,d.reason,d.type)}},s=window.Promise,l=class extends s{constructor(b){super(b);_e(this,"promiseCreationError");this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const b=typeof window.Zone=="undefined";return t&&b}};return l.shouldPatch()&&(window.Promise=l),()=>{window.Promise=s,window.onunhandledrejection=i,window.onerror=n}},ip=e=>{var n,i;if(e.length===0)return e;const t=e[0];return(n=t.fileName)!=null&&n.includes("highlight.run")||(i=t.fileName)!=null&&i.includes("highlight.io")||t.functionName==="new highlightPromise"?e.slice(1):e},op=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var Ca;(function(e){e.DeviceMemory="DeviceMemory",e.ViewportHeight="ViewportHeight",e.ViewportWidth="ViewportWidth",e.ScreenHeight="ScreenHeight",e.ScreenWidth="ScreenWidth",e.ViewportArea="ViewportArea"})(Ca||(Ca={}));var Oa;(function(e){e.Device="Device",e.WebVital="WebVital",e.Performance="Performance",e.Frontend="Frontend",e.Backend="Backend"})(Oa||(Oa={}));const wa=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],La=["websocket error",'\\"ResizeObserver loop'],Ga=(e,t,n)=>{const i=Va(t,e.headers,n);return It(rt({},e),{headers:i})},Va=(e,t,n)=>{var s,l;const i=rt({},t);return n?((s=Object.keys(i))==null||s.forEach(d=>{[...n].includes(d==null?void 0:d.toLowerCase())||(i[d]="[REDACTED]")}),i):((l=Object.keys(i))==null||l.forEach(d=>{[...sp,...e].includes(d==null?void 0:d.toLowerCase())&&(i[d]="[REDACTED]")}),i)},sp=["authorization","cookie","proxy-authorization","token"],fo=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"];let ap="localStorage";class lp{constructor(){_e(this,"storage",{})}getItem(t){var n;return(n=this.storage[t])!=null?n:""}setItem(t,n){this.storage[t]=n}removeItem(t){delete this.storage[t]}}let cp=new lp;const Xa=()=>{try{switch(ap){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch(e){return cp}},Pa=e=>Xa().getItem(e),up=(e,t)=>Xa().setItem(e,t),dp=15*60*1e3,pp=()=>{let e=JSON.parse(Pa(ze.SESSION_DATA)||"{}");if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<dp)return e},Wa=function(){var e;return(e=Pa(ze.SESSION_SECURE_ID))!=null?e:""};var hp={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ka="X-Highlight-Request",Aa=e=>{let t=e;return!e.startsWith("https://")&&!e.startsWith("http://")&&(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},mp=(e,{headersToRedact:t,headersToRecord:n,requestResponseSanitizer:i})=>{var b,g;let s=e;if(i){let _=!0;try{s.request.body=JSON.parse(s.request.body)}catch(N){_=!1}let R=!0;try{s.response.body=JSON.parse(s.response.body)}catch(N){R=!1}try{s=i(s)}catch(N){}finally{_=_&&!!((b=s==null?void 0:s.request)!=null&&b.body),R=R&&!!((g=s==null?void 0:s.response)!=null&&g.body),_&&(s.request.body=JSON.stringify(s.request.body)),R&&(s.response.body=JSON.stringify(s.response.body))}if(!s)return null}const S=s,{request:l,response:d}=S,h=Ea(S,["request","response"]);return rt({request:Ga(l,t,n),response:Ga(d,t,n)},h)},Ma=(e,t,n,i)=>{e.sort((b,g)=>b.responseEnd-g.responseEnd);const s={xmlhttprequest:{},others:{},fetch:{}},l=e.reduce((b,g)=>{const S=Aa(g.name);return g.initiatorType===n?b[n][S]=[...b[n][S]||[],g]:b.others[S]=[...b.others[S]||[],g],b},s);let d={};d=t.reduce((b,g)=>{const S=Aa(g.request.url);return b[S]=[...b[S]||[],g],b},d);for(let b in l[n]){const g=l[n][b],S=d[b];if(!S)continue;const _=Math.max(g.length-S.length,0);for(let R=_;R<g.length;R++)g[R]&&(g[R].requestResponsePair=S[R-_])}let h=[];for(let b in l)for(let g in l[b])h=h.concat(l[b][g]);return h.sort((b,g)=>b.fetchStart-g.fetchStart).reduce((b,g)=>{let S=g.requestResponsePair;return S&&(S=mp(g.requestResponsePair,i),!S)||(g.toJSON=function(){const _=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:_+this.startTime,connectStartAbs:_+this.connectStart,connectEndAbs:_+this.connectEnd,domainLookupStartAbs:_+this.domainLookupStart,domainLookupEndAbs:_+this.domainLookupEnd,fetchStartAbs:_+this.fetchStart,redirectStartAbs:_+this.redirectStart,redirectEndAbs:_+this.redirectEnd,requestStartAbs:_+this.requestStart,responseStartAbs:_+this.responseStart,responseEndAbs:_+this.responseEnd,secureConnectionStartAbs:_+this.secureConnectionStart,workerStartAbs:_+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:S}},b.push(g)),b},[])},fp=(e,t)=>{var n;return e.toLocaleLowerCase().includes((n=hp.REACT_APP_PUBLIC_GRAPH_URI)!=null?n:"highlight.io")||e.toLocaleLowerCase().includes("highlight.io")||e.toLocaleLowerCase().includes(t)},Dr=(e,t,n)=>!fp(e,t)||Fr(e,n),Fr=(e,t)=>{var s;let n=[];t===!0?(n=["localhost",/^\//],(s=window==null?void 0:window.location)!=null&&s.host&&n.push(window.location.host)):t instanceof Array&&(n=t);let i=!1;return n.forEach(l=>{e.match(l)&&(i=!0)}),i};function bp(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*i));return t}const bo=()=>[Wa(),bp(10)],xa=(e,t)=>e+"/"+t,yp=(e,t,n,i,s,l)=>{const d=XMLHttpRequest.prototype,h=d.open,b=d.send,g=d.setRequestHeader;return d.open=function(S,_){return typeof _=="string"?this._url=_:this._url=_.toString(),this._method=S,this._requestHeaders={},this._shouldRecordHeaderAndBody=!i.some(R=>this._url.toLowerCase().includes(R)),h.apply(this,arguments)},d.setRequestHeader=function(S,_){return this._requestHeaders[S]=_,g.apply(this,arguments)},d.send=function(S){if(!Dr(this._url,t,n))return b.apply(this,arguments);const[_,R]=bo();Fr(this._url,n)&&this.setRequestHeader(ka,xa(_,R));const N=this._shouldRecordHeaderAndBody,w={sessionSecureID:_,id:R,url:this._url,verb:this._method,headers:N?this._requestHeaders:{},body:void 0};if(N&&S){const L=Ua(S,w.url);L&&(this._body=L,w.body=Ht(L,s,l,w.headers))}return this.addEventListener("load",function(){return Rt(this,null,function*(){const L={status:this.status,headers:{},body:void 0};if(N){const x=this.getAllResponseHeaders().trim().split(/[\r\n]+/),Xe={};if(x.forEach(function(Me){const Ie=Me.split(": "),ot=Ie.shift();Xe[ot]=Ie.join(": ")}),L.headers=Xe,S){const Me=Ua(S,w.url);Me&&(w.body=Ht(Me,s,l,L.headers))}if(this.responseType===""||this.responseType==="text")L.body=Ht(this.responseText,s,l,L.headers),L.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const Me=yield this.response.text();L.body=Ht(Me,s,l,L.headers),L.size=this.response.size}catch(Me){}}else try{L.body=Ht(this.response,s,l,L.headers)}catch(Me){}}e({request:w,response:L,urlBlocked:!N})})}),this.addEventListener("error",function(){return Rt(this,null,function*(){const L={status:this.status,headers:void 0,body:void 0};e({request:w,response:L,urlBlocked:!1})})}),b.apply(this,arguments)},()=>{d.open=h,d.send=b,d.setRequestHeader=g}},Ua=(e,t)=>{if(typeof e=="string"){if(!((t!=null&&t.includes("localhost")||t!=null&&t.includes("highlight.run"))&&e.includes("pushPayload")))return e}else if(typeof e=="object"||typeof e=="number"||typeof e=="boolean")return Ur(e);return null},Da=64*1024,Sp={"application/json":64*1024*1024,"text/plain":64*1024*1024},Ht=(e,t,n,i)=>{var l,d,h;let s=Da;if(i){let b="";typeof i.get=="function"?b=(l=i.get("content-type"))!=null?l:"":b=(d=i["content-type"])!=null?d:"";try{b=b.split(";")[0]}catch(g){}s=(h=Sp[b])!=null?h:Da}if(e){if(t)try{const b=JSON.parse(e);Array.isArray(b)?b.forEach(g=>{Object.keys(g).forEach(S=>{t.includes(S.toLocaleLowerCase())&&(g[S]="[REDACTED]")})}):Object.keys(b).forEach(g=>{t.includes(g.toLocaleLowerCase())&&(b[g]="[REDACTED]")}),e=JSON.stringify(b)}catch(b){}if(n)try{const b=JSON.parse(e);Object.keys(b).forEach(g=>{n.includes(g.toLocaleLowerCase())||(b[g]="[REDACTED]")}),e=JSON.stringify(b)}catch(b){}}try{e=e.slice(0,s)}catch(b){}return e},gp=(e,t,n,i,s,l)=>{const d=window._fetchProxy;return window._fetchProxy=function(h,b){const{method:g,url:S}=Tp(h,b);if(!Dr(S,t,n))return d.call(this,h,b);const[_,R]=bo();if(Fr(S,n)){b=b||{};let B=new Headers(b.headers);h instanceof Request&&[...h.headers].forEach(([re,x])=>B.set(re,x)),B.set(ka,xa(_,R)),b.headers=Object.fromEntries(B.entries())}const N={sessionSecureID:_,id:R,headers:{},body:void 0,url:S,verb:g},w=!i.some(B=>S.toLowerCase().includes(B));w&&(N.headers=Object.fromEntries(new Headers(b==null?void 0:b.headers).entries()),N.body=Ht(b==null?void 0:b.body,s,l,b==null?void 0:b.headers));let L=d.call(this,h,b);return vp(L,N,e,w,s,l),L},()=>{window._fetchProxy=d}},Tp=(e,t)=>{const n=t&&t.method||typeof e=="object"&&"method"in e&&e.method||"GET";let i;return typeof e=="object"?"url"in e&&e.url?i=e.url:i=e.toString():i=e,{method:n,url:i}},vp=(e,t,n,i,s,l)=>{const d=h=>Rt(this,null,function*(){let b={body:void 0,headers:void 0,status:0,size:0},g=!1,S=!i;"stack"in h||h instanceof Error?(b=It(rt({},b),{body:h.message,status:0,size:void 0}),g=!0):"status"in h&&(b=It(rt({},b),{status:h.status}),i&&(b.body=yield Fa(h,l,s),b.headers=Object.fromEntries(h.headers.entries()),b.size=b.body.length*8),(h.type==="opaque"||h.type==="opaqueredirect")&&(S=!0,b=It(rt({},b),{body:"CORS blocked request"})),g=!0),g&&n({request:t,response:b,urlBlocked:S})});e.then(d).catch(()=>{})},Fa=(e,t,n)=>Rt(this,null,function*(){let i;try{const l=e.clone().body;if(l){let d=l.getReader(),h=new TextDecoder,b,g="";for(;!(b=yield d.read()).done;){let S=b.value;g+=h.decode(S)}i=g,i=Ht(i,n,t,e.headers)}else i=""}catch(s){i=`Unable to clone response: ${s}`}return i}),_p=(e,t,n)=>{const i=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=e;const s=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=l=>{const _=l,{message:d,size:h}=_,b=Ea(_,["message","size"]),S=n.some(R=>l.name.toLowerCase().includes(R))?b:l;t(S)},()=>{window._highlightWebSocketRequestCallback=i,window._highlightWebSocketEventCallback=s}},Ep=({xhrCallback:e,fetchCallback:t,webSocketRequestCallback:n,webSocketEventCallback:i,disableWebSocketRecording:s,bodyKeysToRedact:l,backendUrl:d,tracingOrigins:h,urlBlocklist:b,sessionSecureID:g,bodyKeysToRecord:S})=>{const _=yp(e,d,h,b,l,S),R=gp(t,d,h,b,l,S),N=s?()=>{}:_p(n,i,b);return()=>{_(),R(),N()}};var Ip={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};class yo{constructor(t){_e(this,"disableConsoleRecording");_e(this,"reportConsoleErrors");_e(this,"enablePromisePatch");_e(this,"consoleMethodsToRecord");_e(this,"listeners");_e(this,"errors");_e(this,"messages");_e(this,"options");_e(this,"hasNetworkRecording",!0);_e(this,"_backendUrl");_e(this,"disableNetworkRecording");_e(this,"enableRecordingNetworkContents");_e(this,"xhrNetworkContents");_e(this,"fetchNetworkContents");_e(this,"disableRecordingWebSocketContents");_e(this,"webSocketNetworkContents");_e(this,"webSocketEventContents");_e(this,"tracingOrigins");_e(this,"networkHeadersToRedact");_e(this,"networkBodyKeysToRedact");_e(this,"networkBodyKeysToRecord");_e(this,"networkHeaderKeysToRecord");_e(this,"lastNetworkRequestTimestamp");_e(this,"urlBlocklist");_e(this,"requestResponseSanitizer");var n,i;this.options=t,this.disableConsoleRecording=!!t.disableConsoleRecording,this.reportConsoleErrors=(n=t.reportConsoleErrors)!=null?n:!1,this.enablePromisePatch=(i=t.enablePromisePatch)!=null?i:!0,this.consoleMethodsToRecord=t.consoleMethodsToRecord||[...op],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const t=this;this.disableConsoleRecording||this.listeners.push(tp(n=>{var i,s,l;if(this.reportConsoleErrors&&(n.type==="Error"||n.type==="error")&&n.value&&n.trace){const d=Ur(n.value);if(wa.includes(d)||La.some(h=>d.includes(h)))return;t.errors.push({event:d,type:"console.error",url:window.location.href,source:(i=n.trace[0])!=null&&i.fileName?n.trace[0].fileName:"",lineNumber:(s=n.trace[0])!=null&&s.lineNumber?n.trace[0].lineNumber:0,columnNumber:(l=n.trace[0])!=null&&l.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString()})}t.messages.push(n)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(rp(n=>{wa.includes(n.event)||La.some(i=>n.event.includes(i))||t.errors.push(n)},{enablePromisePatch:this.enablePromisePatch})),this.options.enableOtelTracing&&Promise.resolve().then(()=>Gc).then(({shutdown:n})=>{this.listeners.push(n)}),yo.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(t=>t()),this.listeners=[]}static setupNetworkListener(t,n){var i,s,l,d,h,b,g,S,_,R,N,w;t._backendUrl=(n==null?void 0:n.backendUrl)||Ip.REACT_APP_PUBLIC_GRAPH_URI||"https://pub.highlight.run",t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],t.networkHeadersToRedact=[],t.urlBlocklist=[],t.tracingOrigins=n.tracingOrigins||[],(n==null?void 0:n.disableNetworkRecording)!==void 0?(t.disableNetworkRecording=n==null?void 0:n.disableNetworkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[],t.networkBodyKeysToRecord=[],t.networkBodyKeysToRecord=[]):typeof(n==null?void 0:n.networkRecording)=="boolean"?(t.disableNetworkRecording=!n.networkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[]):(((i=n.networkRecording)==null?void 0:i.enabled)!==void 0?t.disableNetworkRecording=!n.networkRecording.enabled:t.disableNetworkRecording=!1,t.enableRecordingNetworkContents=((s=n.networkRecording)==null?void 0:s.recordHeadersAndBody)||!1,t.disableRecordingWebSocketContents=((l=n.networkRecording)==null?void 0:l.disableWebSocketEventRecordings)||!1,t.networkHeadersToRedact=((h=(d=n.networkRecording)==null?void 0:d.networkHeadersToRedact)==null?void 0:h.map(L=>L.toLowerCase()))||[],t.networkBodyKeysToRedact=((g=(b=n.networkRecording)==null?void 0:b.networkBodyKeysToRedact)==null?void 0:g.map(L=>L.toLowerCase()))||[],t.urlBlocklist=((_=(S=n.networkRecording)==null?void 0:S.urlBlocklist)==null?void 0:_.map(L=>L.toLowerCase()))||[],t.urlBlocklist=[...t.urlBlocklist,...fo],t.requestResponseSanitizer=(R=n.networkRecording)==null?void 0:R.requestResponseSanitizer,t.networkHeaderKeysToRecord=(N=n.networkRecording)==null?void 0:N.headerKeysToRecord,t.networkHeaderKeysToRecord&&(t.networkHeadersToRedact=[],t.networkHeaderKeysToRecord=t.networkHeaderKeysToRecord.map(L=>L.toLocaleLowerCase())),t.networkBodyKeysToRecord=(w=n.networkRecording)==null?void 0:w.bodyKeysToRecord,t.networkBodyKeysToRecord&&(t.networkBodyKeysToRedact=[],t.networkBodyKeysToRecord=t.networkBodyKeysToRecord.map(L=>L.toLocaleLowerCase()))),!t.disableNetworkRecording&&t.enableRecordingNetworkContents&&t.listeners.push(Ep({xhrCallback:L=>{t.xhrNetworkContents.push(L)},fetchCallback:L=>{t.fetchNetworkContents.push(L)},webSocketRequestCallback:L=>{t.webSocketNetworkContents&&t.webSocketNetworkContents.push(L)},webSocketEventCallback:L=>{t.webSocketEventContents.push(L)},disableWebSocketRecording:t.disableRecordingWebSocketContents,bodyKeysToRedact:t.networkBodyKeysToRedact,backendUrl:t._backendUrl,tracingOrigins:t.tracingOrigins,urlBlocklist:t.urlBlocklist,sessionSecureID:n.sessionSecureID,bodyKeysToRecord:t.networkBodyKeysToRecord}))}static getRecordedNetworkResources(t,n){var l,d;let i=[],s=[];if(!t.disableNetworkRecording){const h=((l=window==null?void 0:window.performance)==null?void 0:l.timeOrigin)||0;i=performance.getEntriesByType("resource");const b=(n-h)*2;if(i=i.filter(g=>g.responseEnd<t.lastNetworkRequestTimestamp?!1:Dr(g.name,t._backendUrl,t.tracingOrigins)).map(g=>It(rt({},g.toJSON()),{offsetStartTime:g.startTime-b,offsetResponseEnd:g.responseEnd-b,offsetFetchStart:g.fetchStart-b})),t.lastNetworkRequestTimestamp=((d=i.at(-1))==null?void 0:d.responseEnd)||t.lastNetworkRequestTimestamp,t.enableRecordingNetworkContents){const g={headersToRedact:t.networkHeadersToRedact,headersToRecord:t.networkHeaderKeysToRecord,requestResponseSanitizer:t.requestResponseSanitizer};i=Ma(i,t.xhrNetworkContents,"xmlhttprequest",g),i=Ma(i,t.fetchNetworkContents,"fetch",g)}}return t.disableRecordingWebSocketContents||(s=t.webSocketNetworkContents||[]),[...i,...s]}static getRecordedWebSocketEvents(t){let n=[];return!t.disableNetworkRecording&&!t.disableRecordingWebSocketContents&&(n=t.webSocketEventContents),n}static clearRecordedNetworkResources(t){t.disableNetworkRecording||(t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],performance.clearResourceTimings())}}const Rp=()=>{var l;const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var n="";const i=typeof window!="undefined"&&((l=window.crypto)==null?void 0:l.getRandomValues),s=new Uint32Array(28);i&&window.crypto.getRandomValues(s);for(let d=0;d<28;d++)i?n+=t.charAt(s[d]%t.length):n+=t.charAt(Math.floor(Math.random()*t.length));return n},Np=({next:e,payload:t})=>{if(typeof window!="undefined"&&typeof document!="undefined"&&"H"in window){if(t.obj.type==="track"){const n=t.obj.event,i=t.obj.properties;window.H.track(n,i)}else if(t.obj.type==="identify"){const n=t.obj.userId;if(n!=null&&n.length){const i=t.obj.traits;window.H.identify(n,i)}}}e(t)};function Zp(e){var t;e.on&&((t=e.webContents)!=null&&t.send)&&(e.on("focus",()=>{e.webContents.send("highlight.run",{visible:!0})}),e.on("blur",()=>{e.webContents.send("highlight.run",{visible:!1})}),e.on("close",()=>{e.webContents.send("highlight.run",{visible:!1})}))}const Cp="9.1.0",So=()=>{if(typeof window!="undefined"){if(typeof window._highlightFetchPatch!="undefined")return;window._originalFetch=window.fetch,window._fetchProxy=(e,t)=>window._originalFetch(e,t),window._highlightFetchPatch=(e,t)=>window._fetchProxy.call(window||global,e,t),window.fetch=window._highlightFetchPatch}},Ya=()=>null,go=()=>{if(typeof window!="undefined"){if(typeof window._highlightWebSocketRequestCallback!="undefined")return;window._highlightWebSocketRequestCallback=Ya,window._highlightWebSocketEventCallback=Ya;const e=new Proxy(window.WebSocket,{construct(t,n){const[,i]=bo(),s=new t(...n),l=S=>{window._highlightWebSocketRequestCallback({socketId:i,initiatorType:"websocket",type:"open",name:s.url,startTimeAbs:performance.timeOrigin+S.timeStamp})},d=S=>{window._highlightWebSocketRequestCallback({socketId:i,initiatorType:"websocket",type:"close",name:s.url,responseEndAbs:performance.timeOrigin+S.timeStamp}),s.removeEventListener("open",l),s.removeEventListener("error",b),s.removeEventListener("message",h),s.removeEventListener("close",d)},h=S=>{const{data:_}=S,R=typeof _=="string"?S.data:void 0;let N;typeof _=="string"?N=_.length:_ instanceof Blob?N=_.size:N=_.byteLength||0,window._highlightWebSocketEventCallback({socketId:i,type:"received",name:s.url,timeStamp:performance.timeOrigin+S.timeStamp,size:N,message:R})},b=S=>{window._highlightWebSocketEventCallback({socketId:i,type:"error",name:s.url,timeStamp:performance.timeOrigin+S.timeStamp,size:0})};s.addEventListener("open",l),s.addEventListener("error",b),s.addEventListener("message",h),s.addEventListener("close",d);const g=new Proxy(s.send,{apply:function(S,_,R){const N=R[0],w=typeof N=="string"?N:void 0;let L;typeof N=="string"?L=N.length:N instanceof Blob?L=N.size:L=N.byteLength||0,window._highlightWebSocketEventCallback({socketId:i,type:"sent",name:s.url,timeStamp:performance.timeOrigin+performance.now(),size:L,message:w}),S.apply(_,R)}});return s.send=g,s}});window.WebSocket=e}},Op=()=>{var e,t;typeof chrome!="undefined"&&((e=chrome==null?void 0:chrome.runtime)!=null&&e.onMessage)&&((t=chrome==null?void 0:chrome.runtime)==null||t.onMessage.addListener((n,i,s)=>{const l=n.action;switch(console.log(`[highlight] received '${l}' event from extension.`),l){case"init":{ke.init(1,{debug:!0}),ke.getSessionURL().then(d=>{s({url:d})});break}case"stop":{ke.stop(),s({success:!0});break}}return!0}))};Se.MetricCategory=void 0,function(e){e.Device="Device",e.WebVital="WebVital",e.Frontend="Frontend",e.Backend="Backend"}(Se.MetricCategory||(Se.MetricCategory={}));const Xt=(e,t)=>{console.warn(`highlight.run warning: (${e}): `,t)},wp=200;let Yr=[],To,Ee,Hr,Ha=!1,Kr;const ke={options:void 0,init:(e,t)=>{var n,i,s,l,d,h,b,g;try{if(ke.options=t,typeof window=="undefined"||typeof document=="undefined")return;if(!e){console.info("Highlight is not initializing because projectID was passed undefined.");return}let S=pp(),_=Rp();if(S!=null&&S.sessionSecureID)_=S.sessionSecureID;else{const N=It(rt({},S),{projectID:+e,sessionSecureID:_});up(ze.SESSION_DATA,JSON.stringify(N))}if(Ha)return{sessionSecureID:_};Ha=!0,t!=null&&t.enableOtelTracing&&Promise.resolve().then(()=>Gc).then(({setupBrowserTracing:N,getTracer:w})=>{var L,B;N({endpoint:t==null?void 0:t.otlpEndpoint,projectId:e,sessionSecureId:_,environment:(L=t==null?void 0:t.environment)!=null?L:"production",networkRecordingOptions:typeof(t==null?void 0:t.networkRecording)=="object"?t.networkRecording:void 0,tracingOrigins:t==null?void 0:t.tracingOrigins,serviceName:(B=t==null?void 0:t.serviceName)!=null?B:"highlight-browser"}),Kr=w}),So(),go(),Promise.resolve().then(()=>eN).then(w=>Rt(this,[w],function*({Highlight:N}){Ee=new N(R,Hr),So(),go(),t!=null&&t.manualStart||(yield Ee.initialize())}));const R={organizationID:e,debug:t==null?void 0:t.debug,backendUrl:t==null?void 0:t.backendUrl,tracingOrigins:t==null?void 0:t.tracingOrigins,disableNetworkRecording:t==null?void 0:t.disableNetworkRecording,networkRecording:t==null?void 0:t.networkRecording,disableBackgroundRecording:t==null?void 0:t.disableBackgroundRecording,disableConsoleRecording:t==null?void 0:t.disableConsoleRecording,disableSessionRecording:t==null?void 0:t.disableSessionRecording,reportConsoleErrors:t==null?void 0:t.reportConsoleErrors,consoleMethodsToRecord:t==null?void 0:t.consoleMethodsToRecord,privacySetting:t==null?void 0:t.privacySetting,enableSegmentIntegration:t==null?void 0:t.enableSegmentIntegration,enableCanvasRecording:t==null?void 0:t.enableCanvasRecording,enablePerformanceRecording:t==null?void 0:t.enablePerformanceRecording,enablePromisePatch:t==null?void 0:t.enablePromisePatch,samplingStrategy:t==null?void 0:t.samplingStrategy,inlineImages:t==null?void 0:t.inlineImages,inlineStylesheet:t==null?void 0:t.inlineStylesheet,recordCrossOriginIframe:t==null?void 0:t.recordCrossOriginIframe,firstloadVersion:Cp,environment:(t==null?void 0:t.environment)||"production",appVersion:t==null?void 0:t.version,serviceName:t==null?void 0:t.serviceName,sessionShortcut:t==null?void 0:t.sessionShortcut,sessionSecureID:_,storageMode:t==null?void 0:t.storageMode,sendMode:t==null?void 0:t.sendMode};return Hr=new yo(R),t!=null&&t.manualStart||Hr.startListening(),!((i=(n=t==null?void 0:t.integrations)==null?void 0:n.mixpanel)!=null&&i.disabled)&&((l=(s=t==null?void 0:t.integrations)==null?void 0:s.mixpanel)!=null&&l.projectToken)&&Mr(t.integrations.mixpanel),!((h=(d=t==null?void 0:t.integrations)==null?void 0:d.amplitude)!=null&&h.disabled)&&((g=(b=t==null?void 0:t.integrations)==null?void 0:b.amplitude)!=null&&g.apiKey)&&we(t.integrations.amplitude),{sessionSecureID:_}}catch(S){Xt("init",S)}},snapshot:e=>Rt(this,null,function*(){try{if(Ee&&Ee.ready)return yield Ee.snapshot(e)}catch(t){Xt("snapshot",t)}}),addSessionFeedback:({verbatim:e,userName:t,userEmail:n,timestampOverride:i})=>{try{ke.onHighlightReady(()=>Ee.addSessionFeedback({verbatim:e,timestamp:i||new Date().toISOString(),user_email:n,user_name:t}))}catch(s){Xt("error",s)}},consumeError:(e,t,n)=>{try{ke.onHighlightReady(()=>Ee.consumeCustomError(e,t,JSON.stringify(n)))}catch(i){Xt("error",i)}},consume:(e,t)=>{try{ke.onHighlightReady(()=>Ee.consumeError(e,t))}catch(n){Xt("error",n)}},error:(e,t)=>{try{ke.onHighlightReady(()=>Ee.pushCustomError(e,JSON.stringify(t)))}catch(n){Xt("error",n)}},track:(e,t={})=>{var n,i,s,l,d,h,b,g,S,_,R;try{ke.onHighlightReady(()=>Ee.addProperties(It(rt({},t),{event:e})));const N=Ee==null?void 0:Ee.getCurrentSessionURL();(s=(i=(n=ke.options)==null?void 0:n.integrations)==null?void 0:i.mixpanel)!=null&&s.disabled||(l=window.mixpanel)!=null&&l.track&&window.mixpanel.track(e,It(rt({},t),{highlightSessionURL:N})),(b=(h=(d=ke.options)==null?void 0:d.integrations)==null?void 0:h.amplitude)!=null&&b.disabled||(g=window.amplitude)!=null&&g.getInstance&&window.amplitude.getInstance().logEvent(e,It(rt({},t),{highlightSessionURL:N})),(R=(_=(S=ke.options)==null?void 0:S.integrations)==null?void 0:_.intercom)!=null&&R.disabled||window.Intercom&&window.Intercom("trackEvent",e,t)}catch(N){Xt("track",N)}},start:e=>{(Ee==null?void 0:Ee.state)==="Recording"&&!(e!=null&&e.forceNew)?e!=null&&e.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(Hr.startListening(),ke.onHighlightReady(()=>Rt(this,null,function*(){yield Ee.initialize(e)}),{waitForReady:!1}))},stop:e=>{(Ee==null?void 0:Ee.state)!=="Recording"?e!=null&&e.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):ke.onHighlightReady(()=>Ee.stopRecording(!0))},identify:(e,t={})=>{var n,i,s,l,d,h,b,g;try{ke.onHighlightReady(()=>Ee.identify(e,t))}catch(S){Xt("identify",S)}if((s=(i=(n=ke.options)==null?void 0:n.integrations)==null?void 0:i.mixpanel)!=null&&s.disabled||(l=window.mixpanel)!=null&&l.identify&&(window.mixpanel.identify(typeof(t==null?void 0:t.email)=="string"?t==null?void 0:t.email:e),t&&(window.mixpanel.track("identify",t),window.mixpanel.people.set(t))),!((b=(h=(d=ke.options)==null?void 0:d.integrations)==null?void 0:h.amplitude)!=null&&b.disabled)&&(g=window.amplitude)!=null&&g.getInstance&&(window.amplitude.getInstance().setUserId(e),Object.keys(t).length>0)){const S=Object.keys(t).reduce((_,R)=>(_.set(R,t[R]),_),new window.amplitude.Identify);window.amplitude.getInstance().identify(S)}},metrics:e=>{try{ke.onHighlightReady(()=>Ee.recordMetric(e.map(t=>It(rt({},t),{category:Se.MetricCategory.Frontend}))))}catch(t){Xt("metrics",t)}},startSpan:(e,t,n,i)=>{const s=Kr();if(!s)return;const l=(d,h)=>Rt(this,null,function*(){try{return yield h(d)}finally{d.end()}});return i===void 0&&n===void 0?s.startActiveSpan(e,d=>l(d,t)):i===void 0?s.startActiveSpan(e,t,d=>l(d,n)):s.startActiveSpan(e,t,n,d=>l(d,i))},startManualSpan:(e,t,n,i)=>{if(typeof Kr!="function")return;const s=Kr();return i===void 0&&n===void 0?s.startActiveSpan(e,t):i===void 0?s.startActiveSpan(e,t,n):s.startActiveSpan(e,t,n,i)},getSessionURL:()=>new Promise((e,t)=>{const n=Wa();n?e(n):t(new Error("Unable to get session URL"))}),getSessionDetails:()=>new Promise((e,t)=>{ke.onHighlightReady(()=>{const n=Ee.getCurrentSessionURL();if(n){const i=Ee.getCurrentSessionTimestamp(),s=new Date().getTime(),l=new URL(n),d=new URL(n);d.searchParams.set("ts",((s-i)/1e3).toString()),e({url:l.toString(),urlWithTimestamp:d.toString()})}else t(new Error("Could not get session URL"))})}),getRecordingState:()=>{var e;return(e=Ee==null?void 0:Ee.state)!=null?e:"NotRecording"},onHighlightReady:(e,t)=>{if(Yr.push({options:t,func:e}),To===void 0){const n=()=>{var s;const i=[];for(const l of Yr)Ee&&(((s=l.options)==null?void 0:s.waitForReady)===!1||Ee.ready)?l.func():i.push(l);Yr=i,To=void 0,Yr.length>0&&(To=setTimeout(n,wp))};n()}}};typeof window!="undefined"&&(window.H=ke),Op(),So(),go();var Lp=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},en="1.8.0",Ka=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Gp(e){var t=new Set([e]),n=new Set,i=e.match(Ka);if(!i)return function(){return!1};var s={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(s.prerelease!=null)return function(b){return b===e};function l(h){return n.add(h),!1}function d(h){return t.add(h),!0}return function(b){if(t.has(b))return!0;if(n.has(b))return!1;var g=b.match(Ka);if(!g)return l(b);var S={major:+g[1],minor:+g[2],patch:+g[3],prerelease:g[4]};return S.prerelease!=null||s.major!==S.major?l(b):s.major===0?s.minor===S.minor&&s.patch<=S.patch?d(b):l(b):s.minor<=S.minor?d(b):l(b)}}var Vp=Gp(en),Xp=en.split(".")[0],$n=Symbol.for("opentelemetry.js.api."+Xp),qn=Lp;function er(e,t,n,i){var s;i===void 0&&(i=!1);var l=qn[$n]=(s=qn[$n])!==null&&s!==void 0?s:{version:en};if(!i&&l[e]){var d=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(d.stack||d.message),!1}if(l.version!==en){var d=new Error("@opentelemetry/api: Registration of version v"+l.version+" for "+e+" does not match previously registered API v"+en);return n.error(d.stack||d.message),!1}return l[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+en+"."),!0}function tn(e){var t,n,i=(t=qn[$n])===null||t===void 0?void 0:t.version;if(!(!i||!Vp(i)))return(n=qn[$n])===null||n===void 0?void 0:n[e]}function tr(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+en+".");var n=qn[$n];n&&delete n[e]}var Pp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},Wp=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},kp=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nr("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nr("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nr("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nr("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nr("verbose",this._namespace,t)},e}();function nr(e,t,n){var i=tn("diag");if(i)return n.unshift(t),i[e].apply(i,Wp([],Pp(n),!1))}var Ge;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Ge||(Ge={}));function Ap(e,t){e<Ge.NONE?e=Ge.NONE:e>Ge.ALL&&(e=Ge.ALL),t=t||{};function n(i,s){var l=t[i];return typeof l=="function"&&e>=s?l.bind(t):function(){}}return{error:n("error",Ge.ERROR),warn:n("warn",Ge.WARN),info:n("info",Ge.INFO),debug:n("debug",Ge.DEBUG),verbose:n("verbose",Ge.VERBOSE)}}var Mp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},xp=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},Up="diag",Nt=function(){function e(){function t(s){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var h=tn("diag");if(h)return h[s].apply(h,xp([],Mp(l),!1))}}var n=this,i=function(s,l){var d,h,b;if(l===void 0&&(l={logLevel:Ge.INFO}),s===n){var g=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((d=g.stack)!==null&&d!==void 0?d:g.message),!1}typeof l=="number"&&(l={logLevel:l});var S=tn("diag"),_=Ap((h=l.logLevel)!==null&&h!==void 0?h:Ge.INFO,s);if(S&&!l.suppressOverrideMessage){var R=(b=new Error().stack)!==null&&b!==void 0?b:"<failed to generate stacktrace>";S.warn("Current logger will be overwritten from "+R),_.warn("Current logger will overwrite one already registered from "+R)}return er("diag",_,n,!0)};n.setLogger=i,n.disable=function(){tr(Up,n)},n.createComponentLogger=function(s){return new kp(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Dp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},Fp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yp=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=Dp(t,2),i=n[0],s=n[1];return[i,s]})},e.prototype.setEntry=function(t,n){var i=new e(this._entries);return i._entries.set(t,n),i},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var l=new e(this._entries);try{for(var d=Fp(i),h=d.next();!h.done;h=d.next()){var b=h.value;l._entries.delete(b)}}catch(g){t={error:g}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return l},e.prototype.clear=function(){return new e},e}(),Hp=Symbol("BaggageEntryMetadata"),Kp=Nt.instance();function Jp(e){return e===void 0&&(e={}),new Yp(new Map(Object.entries(e)))}function Ja(e){return typeof e!="string"&&(Kp.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:Hp,toString:function(){return e}}}function rr(e){return Symbol.for(e)}var Bp=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(i){return n._currentContext.get(i)},n.setValue=function(i,s){var l=new e(n._currentContext);return l._currentContext.set(i,s),l},n.deleteValue=function(i){var s=new e(n._currentContext);return s._currentContext.delete(i),s}}return e}(),yt=new Bp,vo=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],zp=function(){function e(){function t(i){return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(console){var d=console[i];if(typeof d!="function"&&(d=console.log),typeof d=="function")return d.apply(console,s)}}}for(var n=0;n<vo.length;n++)this[vo[n].n]=t(vo[n].c)}return e}(),yn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),jp=function(){function e(){}return e.prototype.createHistogram=function(t,n){return ih},e.prototype.createCounter=function(t,n){return rh},e.prototype.createUpDownCounter=function(t,n){return oh},e.prototype.createObservableGauge=function(t,n){return ah},e.prototype.createObservableCounter=function(t,n){return sh},e.prototype.createObservableUpDownCounter=function(t,n){return lh},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),_o=function(){function e(){}return e}(),Qp=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,i){},t}(_o),$p=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,i){},t}(_o),qp=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,i){},t}(_o),Eo=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),eh=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Eo),th=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Eo),nh=function(e){yn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Eo),Ba=new jp,rh=new Qp,ih=new qp,oh=new $p,sh=new eh,ah=new th,lh=new nh;function ch(){return Ba}var Io;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(Io||(Io={}));var za={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},ja={set:function(e,t,n){e!=null&&(e[t]=n)}},uh=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},dh=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},ph=function(){function e(){}return e.prototype.active=function(){return yt},e.prototype.with=function(t,n,i){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];return n.call.apply(n,dh([i],uh(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),hh=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},mh=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},Ro="context",fh=new ph,Jr=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return er(Ro,t,Nt.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,i){for(var s,l=[],d=3;d<arguments.length;d++)l[d-3]=arguments[d];return(s=this._getContextManager()).with.apply(s,mh([t,n,i],hh(l),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return tn(Ro)||fh},e.prototype.disable=function(){this._getContextManager().disable(),tr(Ro,Nt.instance())},e}(),lt;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(lt||(lt={}));var No="0000000000000000",Zo="00000000000000000000000000000000",Co={traceId:Zo,spanId:No,traceFlags:lt.NONE},ir=function(){function e(t){t===void 0&&(t=Co),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),Oo=rr("OpenTelemetry Context Key SPAN");function wo(e){return e.getValue(Oo)||void 0}function bh(){return wo(Jr.getInstance().active())}function Lo(e,t){return e.setValue(Oo,t)}function yh(e){return e.deleteValue(Oo)}function Sh(e,t){return Lo(e,new ir(t))}function Qa(e){var t;return(t=wo(e))===null||t===void 0?void 0:t.spanContext()}var gh=/^([0-9a-f]{32})$/i,Th=/^[0-9a-f]{16}$/i;function Br(e){return gh.test(e)&&e!==Zo}function $a(e){return Th.test(e)&&e!==No}function Sn(e){return Br(e.traceId)&&$a(e.spanId)}function vh(e){return new ir(e)}var Go=Jr.getInstance(),qa=function(){function e(){}return e.prototype.startSpan=function(t,n,i){i===void 0&&(i=Go.active());var s=!!(n!=null&&n.root);if(s)return new ir;var l=i&&Qa(i);return _h(l)&&Sn(l)?new ir(l):new ir},e.prototype.startActiveSpan=function(t,n,i,s){var l,d,h;if(!(arguments.length<2)){arguments.length===2?h=n:arguments.length===3?(l=n,h=i):(l=n,d=i,h=s);var b=d!=null?d:Go.active(),g=this.startSpan(t,l,b),S=Lo(b,g);return Go.with(S,h,void 0,g)}},e}();function _h(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Eh=new qa,el=function(){function e(t,n,i,s){this._provider=t,this.name=n,this.version=i,this.options=s}return e.prototype.startSpan=function(t,n,i){return this._getTracer().startSpan(t,n,i)},e.prototype.startActiveSpan=function(t,n,i,s){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Eh},e}(),Ih=function(){function e(){}return e.prototype.getTracer=function(t,n,i){return new qa},e}(),Rh=new Ih,Vo=function(){function e(){}return e.prototype.getTracer=function(t,n,i){var s;return(s=this.getDelegateTracer(t,n,i))!==null&&s!==void 0?s:new el(this,t,n,i)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Rh},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,i){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,i)},e}(),Pt;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Pt||(Pt={}));var gn;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(gn||(gn={}));var zr;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(zr||(zr={}));var Xo="[_0-9a-z-*/]",Nh="[a-z]"+Xo+"{0,255}",Zh="[a-z0-9]"+Xo+"{0,240}@[a-z]"+Xo+"{0,13}",Ch=new RegExp("^(?:"+Nh+"|"+Zh+")$"),Oh=/^[ -~]{0,255}[!-~]$/,wh=/,|=/;function Lh(e){return Ch.test(e)}function Gh(e){return Oh.test(e)&&!wh.test(e)}var tl=32,Vh=512,nl=",",rl="=",Xh=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var i=this._clone();return i._internalState.has(t)&&i._internalState.delete(t),i._internalState.set(t,n),i},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,i){return n.push(i+rl+t.get(i)),n},[]).join(nl)},e.prototype._parse=function(t){t.length>Vh||(this._internalState=t.split(nl).reverse().reduce(function(n,i){var s=i.trim(),l=s.indexOf(rl);if(l!==-1){var d=s.slice(0,l),h=s.slice(l+1,i.length);Lh(d)&&Gh(h)&&n.set(d,h)}return n},new Map),this._internalState.size>tl&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,tl))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function Ph(e){return new Xh(e)}var me=Jr.getInstance(),de=Nt.instance(),Wh=function(){function e(){}return e.prototype.getMeter=function(t,n,i){return Ba},e}(),kh=new Wh,Po="metrics",Ah=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return er(Po,t,Nt.instance())},e.prototype.getMeterProvider=function(){return tn(Po)||kh},e.prototype.getMeter=function(t,n,i){return this.getMeterProvider().getMeter(t,n,i)},e.prototype.disable=function(){tr(Po,Nt.instance())},e}(),jr=Ah.getInstance(),Mh=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),Wo=rr("OpenTelemetry Baggage Key");function il(e){return e.getValue(Wo)||void 0}function xh(){return il(Jr.getInstance().active())}function Uh(e,t){return e.setValue(Wo,t)}function Dh(e){return e.deleteValue(Wo)}var ko="propagation",Fh=new Mh,Yh=function(){function e(){this.createBaggage=Jp,this.getBaggage=il,this.getActiveBaggage=xh,this.setBaggage=Uh,this.deleteBaggage=Dh}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return er(ko,t,Nt.instance())},e.prototype.inject=function(t,n,i){return i===void 0&&(i=ja),this._getGlobalPropagator().inject(t,n,i)},e.prototype.extract=function(t,n,i){return i===void 0&&(i=za),this._getGlobalPropagator().extract(t,n,i)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){tr(ko,Nt.instance())},e.prototype._getGlobalPropagator=function(){return tn(ko)||Fh},e}(),it=Yh.getInstance(),Ao="trace",Hh=function(){function e(){this._proxyTracerProvider=new Vo,this.wrapSpanContext=vh,this.isSpanContextValid=Sn,this.deleteSpan=yh,this.getSpan=wo,this.getActiveSpan=bh,this.getSpanContext=Qa,this.setSpan=Lo,this.setSpanContext=Sh}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=er(Ao,this._proxyTracerProvider,Nt.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return tn(Ao)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){tr(Ao,Nt.instance()),this._proxyTracerProvider=new Vo},e}(),Ze=Hh.getInstance();const Kh=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger:zp,get DiagLogLevel(){return Ge},INVALID_SPANID:No,INVALID_SPAN_CONTEXT:Co,INVALID_TRACEID:Zo,ProxyTracer:el,ProxyTracerProvider:Vo,ROOT_CONTEXT:yt,get SamplingDecision(){return Pt},get SpanKind(){return gn},get SpanStatusCode(){return zr},get TraceFlags(){return lt},get ValueType(){return Io},baggageEntryMetadataFromString:Ja,context:me,createContextKey:rr,createNoopMeter:ch,createTraceState:Ph,default:{context:me,diag:de,metrics:jr,propagation:it,trace:Ze},defaultTextMapGetter:za,defaultTextMapSetter:ja,diag:de,isSpanContextValid:Sn,isValidSpanId:$a,isValidTraceId:Br,metrics:jr,propagation:it,trace:Ze},Symbol.toStringTag,{value:"Module"}));var Mo=rr("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function xo(e){return e.setValue(Mo,!0)}function Jh(e){return e.deleteValue(Mo)}function Qr(e){return e.getValue(Mo)===!0}var Bh="=",Uo=";",$r=",",Do="baggage",zh=180,jh=4096,Qh=8192,$h=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l};function ol(e){return e.reduce(function(t,n){var i=""+t+(t!==""?$r:"")+n;return i.length>Qh?t:i},"")}function sl(e){return e.getAllEntries().map(function(t){var n=$h(t,2),i=n[0],s=n[1],l=encodeURIComponent(i)+"="+encodeURIComponent(s.value);return s.metadata!==void 0&&(l+=Uo+s.metadata.toString()),l})}function Fo(e){var t=e.split(Uo);if(!(t.length<=0)){var n=t.shift();if(n){var i=n.indexOf(Bh);if(!(i<=0)){var s=decodeURIComponent(n.substring(0,i).trim()),l=decodeURIComponent(n.substring(i+1).trim()),d;return t.length>0&&(d=Ja(t.join(Uo))),{key:s,value:l,metadata:d}}}}}function Yo(e){return typeof e!="string"||e.length===0?{}:e.split($r).map(function(t){return Fo(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}const qh=Object.freeze(Object.defineProperty({__proto__:null,getKeyPairs:sl,parseKeyPairsIntoRecord:Yo,parsePairKeyValue:Fo,serializeKeyPairs:ol},Symbol.toStringTag,{value:"Module"}));var Ho=function(){function e(){}return e.prototype.inject=function(t,n,i){var s=it.getBaggage(t);if(!(!s||Qr(t))){var l=sl(s).filter(function(h){return h.length<=jh}).slice(0,zh),d=ol(l);d.length>0&&i.set(n,Do,d)}},e.prototype.extract=function(t,n,i){var s=i.get(n,Do),l=Array.isArray(s)?s.join($r):s;if(!l)return t;var d={};if(l.length===0)return t;var h=l.split($r);return h.forEach(function(b){var g=Fo(b);if(g){var S={value:g.value};g.metadata&&(S.metadata=g.metadata),d[g.key]=S}}),Object.entries(d).length===0?t:it.setBaggage(t,it.createBaggage(d))},e.prototype.fields=function(){return[Do]},e}(),em=function(){function e(t,n){this._monotonicClock=n,this._epochMillis=t.now(),this._performanceMillis=n.now()}return e.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},e}(),al=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tm=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l};function or(e){var t,n,i={};if(typeof e!="object"||e==null)return i;try{for(var s=al(Object.entries(e)),l=s.next();!l.done;l=s.next()){var d=tm(l.value,2),h=d[0],b=d[1];if(!ll(h)){de.warn("Invalid attribute key: "+h);continue}if(!Ko(b)){de.warn("Invalid attribute value set for key: "+h);continue}Array.isArray(b)?i[h]=b.slice():i[h]=b}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}function ll(e){return typeof e=="string"&&e.length>0}function Ko(e){return e==null?!0:Array.isArray(e)?nm(e):cl(e)}function nm(e){var t,n,i;try{for(var s=al(e),l=s.next();!l.done;l=s.next()){var d=l.value;if(d!=null){if(!i){if(cl(d)){i=typeof d;continue}return!1}if(typeof d!==i)return!1}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}function cl(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function ul(){return function(e){de.error(rm(e))}}function rm(e){return typeof e=="string"?e:JSON.stringify(im(e))}function im(e){for(var t={},n=e;n!==null;)Object.getOwnPropertyNames(n).forEach(function(i){if(!t[i]){var s=n[i];s&&(t[i]=String(s))}}),n=Object.getPrototypeOf(n);return t}var dl=ul();function om(e){dl=e}function Wt(e){try{dl(e)}catch(t){}}var St;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(St||(St={}));var Tn=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},sm=",",am=["OTEL_SDK_DISABLED"];function lm(e){return am.indexOf(e)>-1}var cm=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function um(e){return cm.indexOf(e)>-1}var dm=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function pm(e){return dm.indexOf(e)>-1}var sr=1/0,ar=128,pl=128,hl=128,Jo={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ge.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:sr,OTEL_ATTRIBUTE_COUNT_LIMIT:ar,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:sr,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ar,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:sr,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ar,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:pl,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:hl,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:St.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function hm(e,t,n){if(typeof n[e]!="undefined"){var i=String(n[e]);t[e]=i.toLowerCase()==="true"}}function mm(e,t,n,i,s){if(i===void 0&&(i=-1/0),s===void 0&&(s=1/0),typeof n[e]!="undefined"){var l=Number(n[e]);isNaN(l)||(l<i?t[e]=i:l>s?t[e]=s:t[e]=l)}}function fm(e,t,n,i){i===void 0&&(i=sm);var s=n[e];typeof s=="string"&&(t[e]=s.split(i).map(function(l){return l.trim()}))}var bm={ALL:Ge.ALL,VERBOSE:Ge.VERBOSE,DEBUG:Ge.DEBUG,INFO:Ge.INFO,WARN:Ge.WARN,ERROR:Ge.ERROR,NONE:Ge.NONE};function ym(e,t,n){var i=n[e];if(typeof i=="string"){var s=bm[i.toUpperCase()];s!=null&&(t[e]=s)}}function qr(e){var t={};for(var n in Jo){var i=n;switch(i){case"OTEL_LOG_LEVEL":ym(i,t,e);break;default:if(lm(i))hm(i,t,e);else if(um(i))mm(i,t,e);else if(pm(i))fm(i,t,e);else{var s=e[i];typeof s!="undefined"&&s!==null&&(t[i]=String(s))}}}return t}function ml(){return typeof process!="undefined"&&process&&process.env?qr(process.env):qr(Tn)}function Ve(){var e=qr(Tn);return Object.assign({},Jo,e)}function fl(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function lr(e){for(var t=new Uint8Array(e.length/2),n=0,i=0;i<e.length;i+=2){var s=fl(e.charCodeAt(i)),l=fl(e.charCodeAt(i+1));t[n++]=s<<4|l}return t}var Sm=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},gm=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))};function Tm(e){return btoa(String.fromCharCode.apply(String,gm([],Sm(lr(e)),!1)))}var vm=8,_m=16,Em=function(){function e(){this.generateTraceId=bl(_m),this.generateSpanId=bl(vm)}return e}(),ei=Array(32);function bl(e){return function(){for(var n=0;n<e*2;n++)ei[n]=Math.floor(Math.random()*16)+48,ei[n]>=58&&(ei[n]+=39);return String.fromCharCode.apply(null,ei.slice(0,e*2))}}var ct=performance,yl="1.22.0";function Sl(e){for(var t={},n=e.length,i=0;i<n;i++){var s=e[i];s&&(t[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return t}var Im="http.url",Rm="http.user_agent",Bo=Im,Nm=Rm,Zm="cloud.provider",Cm="cloud.account.id",Om="cloud.region",wm="cloud.availability_zone",Lm="cloud.platform",Gm="aws.ecs.container.arn",Vm="aws.ecs.cluster.arn",Xm="aws.ecs.launchtype",Pm="aws.ecs.task.arn",Wm="aws.ecs.task.family",km="aws.ecs.task.revision",Am="aws.eks.cluster.arn",Mm="aws.log.group.names",xm="aws.log.group.arns",Um="aws.log.stream.names",Dm="aws.log.stream.arns",Fm="container.name",Ym="container.id",Hm="container.runtime",Km="container.image.name",Jm="container.image.tag",Bm="deployment.environment",zm="device.id",jm="device.model.identifier",Qm="device.model.name",$m="faas.name",qm="faas.id",ef="faas.version",tf="faas.instance",nf="faas.max_memory",rf="host.id",of="host.name",sf="host.type",af="host.arch",lf="host.image.name",cf="host.image.id",uf="host.image.version",df="k8s.cluster.name",pf="k8s.node.name",hf="k8s.node.uid",mf="k8s.namespace.name",ff="k8s.pod.uid",bf="k8s.pod.name",yf="k8s.container.name",Sf="k8s.replicaset.uid",gf="k8s.replicaset.name",Tf="k8s.deployment.uid",vf="k8s.deployment.name",_f="k8s.statefulset.uid",Ef="k8s.statefulset.name",If="k8s.daemonset.uid",Rf="k8s.daemonset.name",Nf="k8s.job.uid",Zf="k8s.job.name",Cf="k8s.cronjob.uid",Of="k8s.cronjob.name",wf="os.type",Lf="os.description",Gf="os.name",Vf="os.version",Xf="process.pid",Pf="process.executable.name",Wf="process.executable.path",kf="process.command",Af="process.command_line",Mf="process.command_args",xf="process.owner",Uf="process.runtime.name",Df="process.runtime.version",Ff="process.runtime.description",Yf="service.name",Hf="service.namespace",Kf="service.instance.id",Jf="service.version",Bf="telemetry.sdk.name",zf="telemetry.sdk.language",jf="telemetry.sdk.version",Qf="telemetry.auto.version",$f="webengine.name",qf="webengine.version",eb="webengine.description",gt=Sl([Zm,Cm,Om,wm,Lm,Gm,Vm,Xm,Pm,Wm,km,Am,Mm,xm,Um,Dm,Fm,Ym,Hm,Km,Jm,Bm,zm,jm,Qm,$m,qm,ef,tf,nf,rf,of,sf,af,lf,cf,uf,df,pf,hf,mf,ff,bf,yf,Sf,gf,Tf,vf,_f,Ef,If,Rf,Nf,Zf,Cf,Of,wf,Lf,Gf,Vf,Xf,Pf,Wf,kf,Af,Mf,xf,Uf,Df,Ff,Yf,Hf,Kf,Jf,Bf,zf,jf,Qf,$f,qf,eb]),tb="cpp",nb="dotnet",rb="erlang",ib="go",ob="java",sb="nodejs",ab="php",lb="python",cb="ruby",ub="webjs",db=Sl([tb,nb,rb,ib,ob,sb,ab,lb,cb,ub]),vn,ti=(vn={},vn[gt.TELEMETRY_SDK_NAME]="opentelemetry",vn[gt.PROCESS_RUNTIME_NAME]="browser",vn[gt.TELEMETRY_SDK_LANGUAGE]=db.WEBJS,vn[gt.TELEMETRY_SDK_VERSION]=yl,vn);function pb(e){}var gl=9,hb=6,mb=Math.pow(10,hb),ni=Math.pow(10,gl);function Zt(e){var t=e/1e3,n=Math.trunc(t),i=Math.round(e%1e3*mb);return[n,i]}function ri(){var e=ct.timeOrigin;if(typeof e!="number"){var t=ct;e=t.timing&&t.timing.fetchStart}return e}function Kt(e){var t=Zt(ri()),n=Zt(typeof e=="number"?e:ct.now());return Qo(t,n)}function _n(e){if(ii(e))return e;if(typeof e=="number")return e<ri()?Kt(e):Zt(e);if(e instanceof Date)return Zt(e.getTime());throw TypeError("Invalid input type")}function Tl(e,t){var n=t[0]-e[0],i=t[1]-e[1];return i<0&&(n-=1,i+=ni),[n,i]}function fb(e){var t=gl,n=""+"0".repeat(t)+e[1]+"Z",i=n.substr(n.length-t-1),s=new Date(e[0]*1e3).toISOString();return s.replace("000Z",i)}function Ct(e){return e[0]*ni+e[1]}function bb(e){return e[0]*1e3+e[1]/1e6}function zo(e){return e[0]*1e6+e[1]/1e3}function ii(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function jo(e){return ii(e)||typeof e=="number"||e instanceof Date}function Qo(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=ni&&(n[1]-=ni,n[0]+=1),n}var Ot;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Ot||(Ot={}));var yb=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$o=function(){function e(t){t===void 0&&(t={});var n;this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(i){return typeof i.fields=="function"?i.fields():[]}).reduce(function(i,s){return i.concat(s)},[])))}return e.prototype.inject=function(t,n,i){var s,l;try{for(var d=yb(this._propagators),h=d.next();!h.done;h=d.next()){var b=h.value;try{b.inject(t,n,i)}catch(g){de.warn("Failed to inject with "+b.constructor.name+". Err: "+g.message)}}}catch(g){s={error:g}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}},e.prototype.extract=function(t,n,i){return this._propagators.reduce(function(s,l){try{return l.extract(s,n,i)}catch(d){de.warn("Failed to inject with "+l.constructor.name+". Err: "+d.message)}return s},t)},e.prototype.fields=function(){return this._fields.slice()},e}(),qo="[_0-9a-z-*/]",Sb="[a-z]"+qo+"{0,255}",gb="[a-z0-9]"+qo+"{0,240}@[a-z]"+qo+"{0,13}",Tb=new RegExp("^(?:"+Sb+"|"+gb+")$"),vb=/^[ -~]{0,255}[!-~]$/,_b=/,|=/;function Eb(e){return Tb.test(e)}function Ib(e){return vb.test(e)&&!_b.test(e)}var vl=32,Rb=512,_l=",",El="=",Il=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var i=this._clone();return i._internalState.has(t)&&i._internalState.delete(t),i._internalState.set(t,n),i},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,i){return n.push(i+El+t.get(i)),n},[]).join(_l)},e.prototype._parse=function(t){t.length>Rb||(this._internalState=t.split(_l).reverse().reduce(function(n,i){var s=i.trim(),l=s.indexOf(El);if(l!==-1){var d=s.slice(0,l),h=s.slice(l+1,i.length);Eb(d)&&Ib(h)&&n.set(d,h)}return n},new Map),this._internalState.size>vl&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,vl))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),cr="traceparent",oi="tracestate",Nb="00",Zb="(?!ff)[\\da-f]{2}",Cb="(?![0]{32})[\\da-f]{32}",Ob="(?![0]{16})[\\da-f]{16}",wb="[\\da-f]{2}",Lb=new RegExp("^\\s?("+Zb+")-("+Cb+")-("+Ob+")-("+wb+")(-.*)?\\s?$");function Rl(e){var t=Lb.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var es=function(){function e(){}return e.prototype.inject=function(t,n,i){var s=Ze.getSpanContext(t);if(!(!s||Qr(t)||!Sn(s))){var l=Nb+"-"+s.traceId+"-"+s.spanId+"-0"+Number(s.traceFlags||lt.NONE).toString(16);i.set(n,cr,l),s.traceState&&i.set(n,oi,s.traceState.serialize())}},e.prototype.extract=function(t,n,i){var s=i.get(n,cr);if(!s)return t;var l=Array.isArray(s)?s[0]:s;if(typeof l!="string")return t;var d=Rl(l);if(!d)return t;d.isRemote=!0;var h=i.get(n,oi);if(h){var b=Array.isArray(h)?h.join(","):h;d.traceState=new Il(typeof b=="string"?b:void 0)}return Ze.setSpanContext(t,d)},e.prototype.fields=function(){return[cr,oi]},e}(),ts=rr("OpenTelemetry SDK Context Key RPC_METADATA"),ns;(function(e){e.HTTP="http"})(ns||(ns={}));function Gb(e,t){return e.setValue(ts,t)}function Vb(e){return e.deleteValue(ts)}function Xb(e){return e.getValue(ts)}var rs=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Pt.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),si=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Pt.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Pb=function(){function e(t){var n,i,s,l;this._root=t.root,this._root||(Wt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new si),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new si,this._remoteParentNotSampled=(i=t.remoteParentNotSampled)!==null&&i!==void 0?i:new rs,this._localParentSampled=(s=t.localParentSampled)!==null&&s!==void 0?s:new si,this._localParentNotSampled=(l=t.localParentNotSampled)!==null&&l!==void 0?l:new rs}return e.prototype.shouldSample=function(t,n,i,s,l,d){var h=Ze.getSpanContext(t);return!h||!Sn(h)?this._root.shouldSample(t,n,i,s,l,d):h.isRemote?h.traceFlags&lt.SAMPLED?this._remoteParentSampled.shouldSample(t,n,i,s,l,d):this._remoteParentNotSampled.shouldSample(t,n,i,s,l,d):h.traceFlags&lt.SAMPLED?this._localParentSampled.shouldSample(t,n,i,s,l,d):this._localParentNotSampled.shouldSample(t,n,i,s,l,d)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),Wb=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Br(n)&&this._accumulate(n)<this._upperBound?Pt.RECORD_AND_SAMPLED:Pt.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,i=0;i<t.length/8;i++){var s=i*8,l=parseInt(t.slice(s,s+8),16);n=(n^l)>>>0}return n},e}(),kb="[object Object]",Ab="[object Null]",Mb="[object Undefined]",xb=Function.prototype,Nl=xb.toString,Ub=Nl.call(Object),Db=Fb(Object.getPrototypeOf,Object),Zl=Object.prototype,Cl=Zl.hasOwnProperty,nn=Symbol?Symbol.toStringTag:void 0,Ol=Zl.toString;function Fb(e,t){return function(n){return e(t(n))}}function wl(e){if(!Yb(e)||Hb(e)!==kb)return!1;var t=Db(e);if(t===null)return!0;var n=Cl.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Nl.call(n)===Ub}function Yb(e){return e!=null&&typeof e=="object"}function Hb(e){return e==null?e===void 0?Mb:Ab:nn&&nn in Object(e)?Kb(e):Jb(e)}function Kb(e){var t=Cl.call(e,nn),n=e[nn],i=!1;try{e[nn]=void 0,i=!0}catch(l){}var s=Ol.call(e);return i&&(t?e[nn]=n:delete e[nn]),s}function Jb(e){return Ol.call(e)}var Bb=20;function Ll(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),i=new WeakMap;e.length>0;)n=Gl(n,e.shift(),0,i);return n}function is(e){return ai(e)?e.slice():e}function Gl(e,t,n,i){n===void 0&&(n=0);var s;if(!(n>Bb)){if(n++,li(e)||li(t)||Xl(t))s=is(t);else if(ai(e)){if(s=e.slice(),ai(t))for(var l=0,d=t.length;l<d;l++)s.push(is(t[l]));else if(ur(t))for(var h=Object.keys(t),l=0,d=h.length;l<d;l++){var b=h[l];s[b]=is(t[b])}}else if(ur(e))if(ur(t)){if(!zb(e,t))return t;s=Object.assign({},e);for(var h=Object.keys(t),l=0,d=h.length;l<d;l++){var b=h[l],g=t[b];if(li(g))typeof g=="undefined"?delete s[b]:s[b]=g;else{var S=s[b],_=g;if(Vl(e,b,i)||Vl(t,b,i))delete s[b];else{if(ur(S)&&ur(_)){var R=i.get(S)||[],N=i.get(_)||[];R.push({obj:e,key:b}),N.push({obj:t,key:b}),i.set(S,R),i.set(_,N)}s[b]=Gl(s[b],g,n,i)}}}}else s=t;return s}}function Vl(e,t,n){for(var i=n.get(e[t])||[],s=0,l=i.length;s<l;s++){var d=i[s];if(d.key===t&&d.obj===e)return!0}return!1}function ai(e){return Array.isArray(e)}function Xl(e){return typeof e=="function"}function ur(e){return!li(e)&&!ai(e)&&!Xl(e)&&typeof e=="object"}function li(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function zb(e,t){return!(!wl(e)||!wl(t))}var jb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pl=function(e){jb(t,e);function t(n){var i=e.call(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return t}(Error);function Qb(e,t){var n,i=new Promise(function(l,d){n=setTimeout(function(){d(new Pl("Operation timed out."))},t)});return Promise.race([e,i]).then(function(s){return clearTimeout(n),s},function(s){throw clearTimeout(n),s})}var $b=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function os(e,t){return typeof t=="string"?e===t:!!e.match(t)}function ss(e,t){var n,i;if(!t)return!1;try{for(var s=$b(t),l=s.next();!l.done;l=s.next()){var d=l.value;if(os(e,d))return!0}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1}function qb(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var ey=function(){function e(){var t=this;this._promise=new Promise(function(n,i){t._resolve=n,t._reject=i})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}(),ty=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},ny=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},ci=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new ey}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,ny([this._that],ty(i),!1))).then(function(l){return n._deferred.resolve(l)},function(l){return n._deferred.reject(l)})}catch(l){this._deferred.reject(l)}}return this._deferred.promise},e}();function ry(e,t){return new Promise(function(n){me.with(xo(me.active()),function(){e.export(t,function(i){n(i)})})})}var Wl={_export:ry};const iy=Object.freeze(Object.defineProperty({__proto__:null,AlwaysOffSampler:rs,AlwaysOnSampler:si,AnchoredClock:em,BindOnceFuture:ci,CompositePropagator:$o,DEFAULT_ATTRIBUTE_COUNT_LIMIT:ar,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:sr,DEFAULT_ENVIRONMENT:Jo,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:pl,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:hl,get ExportResultCode(){return Ot},ParentBasedSampler:Pb,get RPCType(){return ns},RandomIdGenerator:Em,SDK_INFO:ti,TRACE_PARENT_HEADER:cr,TRACE_STATE_HEADER:oi,TimeoutError:Pl,TraceIdRatioBasedSampler:Wb,TraceState:Il,get TracesSamplerValues(){return St},VERSION:yl,W3CBaggagePropagator:Ho,W3CTraceContextPropagator:es,_globalThis:Tn,addHrTimes:Qo,baggageUtils:qh,callWithTimeout:Qb,deleteRPCMetadata:Vb,getEnv:Ve,getEnvWithoutDefaults:ml,getRPCMetadata:Xb,getTimeOrigin:ri,globalErrorHandler:Wt,hexToBase64:Tm,hexToBinary:lr,hrTime:Kt,hrTimeDuration:Tl,hrTimeToMicroseconds:zo,hrTimeToMilliseconds:bb,hrTimeToNanoseconds:Ct,hrTimeToTimeStamp:fb,internal:Wl,isAttributeKey:ll,isAttributeValue:Ko,isTimeInput:jo,isTimeInputHrTime:ii,isTracingSuppressed:Qr,isUrlIgnored:ss,isWrapped:qb,loggingErrorHandler:ul,merge:Ll,millisToHrTime:Zt,otperformance:ct,parseEnvironment:qr,parseTraceParent:Rl,sanitizeAttributes:or,setGlobalErrorHandler:om,setRPCMetadata:Gb,suppressTracing:xo,timeInputToHrTime:_n,unrefTimer:pb,unsuppressTracing:Jh,urlMatches:os},Symbol.toStringTag,{value:"Module"}));function oy(e){for(var t={},n=e.length,i=0;i<n;i++){var s=e[i];s&&(t[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return t}var sy="aws.lambda.invoked_arn",ay="db.system",ly="db.connection_string",cy="db.user",uy="db.jdbc.driver_classname",dy="db.name",py="db.statement",hy="db.operation",my="db.mssql.instance_name",fy="db.cassandra.keyspace",by="db.cassandra.page_size",yy="db.cassandra.consistency_level",Sy="db.cassandra.table",gy="db.cassandra.idempotence",Ty="db.cassandra.speculative_execution_count",vy="db.cassandra.coordinator.id",_y="db.cassandra.coordinator.dc",Ey="db.hbase.namespace",Iy="db.redis.database_index",Ry="db.mongodb.collection",Ny="db.sql.table",Zy="exception.type",Cy="exception.message",Oy="exception.stacktrace",wy="exception.escaped",Ly="faas.trigger",Gy="faas.execution",Vy="faas.document.collection",Xy="faas.document.operation",Py="faas.document.time",Wy="faas.document.name",ky="faas.time",Ay="faas.cron",My="faas.coldstart",xy="faas.invoked_name",Uy="faas.invoked_provider",Dy="faas.invoked_region",Fy="net.transport",Yy="net.peer.ip",Hy="net.peer.port",Ky="net.peer.name",Jy="net.host.ip",By="net.host.port",zy="net.host.name",jy="net.host.connection.type",Qy="net.host.connection.subtype",$y="net.host.carrier.name",qy="net.host.carrier.mcc",eS="net.host.carrier.mnc",tS="net.host.carrier.icc",nS="peer.service",rS="enduser.id",iS="enduser.role",oS="enduser.scope",sS="thread.id",aS="thread.name",lS="code.function",cS="code.namespace",uS="code.filepath",dS="code.lineno",pS="http.method",hS="http.url",mS="http.target",fS="http.host",bS="http.scheme",yS="http.status_code",SS="http.flavor",gS="http.user_agent",TS="http.request_content_length",vS="http.request_content_length_uncompressed",_S="http.response_content_length",ES="http.response_content_length_uncompressed",IS="http.server_name",RS="http.route",NS="http.client_ip",ZS="aws.dynamodb.table_names",CS="aws.dynamodb.consumed_capacity",OS="aws.dynamodb.item_collection_metrics",wS="aws.dynamodb.provisioned_read_capacity",LS="aws.dynamodb.provisioned_write_capacity",GS="aws.dynamodb.consistent_read",VS="aws.dynamodb.projection",XS="aws.dynamodb.limit",PS="aws.dynamodb.attributes_to_get",WS="aws.dynamodb.index_name",kS="aws.dynamodb.select",AS="aws.dynamodb.global_secondary_indexes",MS="aws.dynamodb.local_secondary_indexes",xS="aws.dynamodb.exclusive_start_table",US="aws.dynamodb.table_count",DS="aws.dynamodb.scan_forward",FS="aws.dynamodb.segment",YS="aws.dynamodb.total_segments",HS="aws.dynamodb.count",KS="aws.dynamodb.scanned_count",JS="aws.dynamodb.attribute_definitions",BS="aws.dynamodb.global_secondary_index_updates",zS="messaging.system",jS="messaging.destination",QS="messaging.destination_kind",$S="messaging.temp_destination",qS="messaging.protocol",eg="messaging.protocol_version",tg="messaging.url",ng="messaging.message_id",rg="messaging.conversation_id",ig="messaging.message_payload_size_bytes",og="messaging.message_payload_compressed_size_bytes",sg="messaging.operation",ag="messaging.consumer_id",lg="messaging.rabbitmq.routing_key",cg="messaging.kafka.message_key",ug="messaging.kafka.consumer_group",dg="messaging.kafka.client_id",pg="messaging.kafka.partition",hg="messaging.kafka.tombstone",mg="rpc.system",fg="rpc.service",bg="rpc.method",yg="rpc.grpc.status_code",Sg="rpc.jsonrpc.version",gg="rpc.jsonrpc.request_id",Tg="rpc.jsonrpc.error_code",vg="rpc.jsonrpc.error_message",_g="message.type",Eg="message.id",Ig="message.compressed_size",Rg="message.uncompressed_size",kt=oy([sy,ay,ly,cy,uy,dy,py,hy,my,fy,by,yy,Sy,gy,Ty,vy,_y,Ey,Iy,Ry,Ny,Zy,Cy,Oy,wy,Ly,Gy,Vy,Xy,Py,Wy,ky,Ay,My,xy,Uy,Dy,Fy,Yy,Hy,Ky,Jy,By,zy,jy,Qy,$y,qy,eS,tS,nS,rS,iS,oS,sS,aS,lS,cS,uS,dS,pS,hS,mS,fS,bS,yS,SS,gS,TS,vS,_S,ES,IS,RS,NS,ZS,CS,OS,wS,LS,GS,VS,XS,PS,WS,kS,AS,MS,xS,US,DS,FS,YS,HS,KS,JS,BS,zS,jS,QS,$S,qS,eg,tg,ng,rg,ig,og,sg,ag,lg,cg,ug,dg,pg,hg,mg,fg,bg,yg,Sg,gg,Tg,vg,_g,Eg,Ig,Rg]),Ng="exception",Zg=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cg=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},Og=function(){function e(t,n,i,s,l,d,h,b,g,S){h===void 0&&(h=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:zr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=s,this.parentSpanId=d,this.kind=l,this.links=h;var _=Date.now();this._performanceStartTime=ct.now(),this._performanceOffset=_-(this._performanceStartTime+ri()),this._startTimeProvided=b!=null,this.startTime=this._getTime(b!=null?b:_),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,S!=null&&this.setAttributes(S),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(de.warn("Invalid attribute key: "+t),this):Ko(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(n),this):(de.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,i;try{for(var s=Zg(Object.entries(t)),l=s.next();!l.done;l=s.next()){var d=Cg(l.value,2),h=d[0],b=d[1];this.setAttribute(h,b)}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,i){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return de.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&de.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),jo(n)&&(jo(i)||(i=n),n=void 0);var s=or(n);return this.events.push({name:t,attributes:s,time:this._getTime(i),droppedAttributesCount:0}),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=t,this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){de.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(t),this._duration=Tl(this.startTime,this.endTime),this._duration[0]<0&&(de.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&de.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(t){if(typeof t=="number"&&t<ct.now())return Kt(t+this._performanceOffset);if(typeof t=="number")return Zt(t);if(t instanceof Date)return Zt(t.getTime());if(ii(t))return t;if(this._startTimeProvided)return Zt(Date.now());var n=ct.now()-this._performanceStartTime;return Qo(this.startTime,Zt(n))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){var i={};typeof t=="string"?i[kt.EXCEPTION_MESSAGE]=t:t&&(t.code?i[kt.EXCEPTION_TYPE]=t.code.toString():t.name&&(i[kt.EXCEPTION_TYPE]=t.name),t.message&&(i[kt.EXCEPTION_MESSAGE]=t.message),t.stack&&(i[kt.EXCEPTION_STACKTRACE]=t.stack)),i[kt.EXCEPTION_TYPE]||i[kt.EXCEPTION_MESSAGE]?this.addEvent(Ng,i,n):de.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&de.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substr(0,n)},e.prototype._truncateToSize=function(t){var n=this,i=this._attributeValueLengthLimit;return i<=0?(de.warn("Attribute value limit must be positive, got "+i),t):typeof t=="string"?this._truncateToLimitUtil(t,i):Array.isArray(t)?t.map(function(s){return typeof s=="string"?n._truncateToLimitUtil(s,i):s}):t},e}(),En;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(En||(En={}));var ui=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:En.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),In=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:En.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),as=function(){function e(t){var n,i,s,l;this._root=t.root,this._root||(Wt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new In),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new In,this._remoteParentNotSampled=(i=t.remoteParentNotSampled)!==null&&i!==void 0?i:new ui,this._localParentSampled=(s=t.localParentSampled)!==null&&s!==void 0?s:new In,this._localParentNotSampled=(l=t.localParentNotSampled)!==null&&l!==void 0?l:new ui}return e.prototype.shouldSample=function(t,n,i,s,l,d){var h=Ze.getSpanContext(t);return!h||!Sn(h)?this._root.shouldSample(t,n,i,s,l,d):h.isRemote?h.traceFlags&lt.SAMPLED?this._remoteParentSampled.shouldSample(t,n,i,s,l,d):this._remoteParentNotSampled.shouldSample(t,n,i,s,l,d):h.traceFlags&lt.SAMPLED?this._localParentSampled.shouldSample(t,n,i,s,l,d):this._localParentNotSampled.shouldSample(t,n,i,s,l,d)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),kl=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Br(n)&&this._accumulate(n)<this._upperBound?En.RECORD_AND_SAMPLED:En.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,i=0;i<t.length/8;i++){var s=i*8,l=parseInt(t.slice(s,s+8),16);n=(n^l)>>>0}return n},e}(),wg=Ve(),Lg=St.AlwaysOn,Rn=1;function Al(){return{sampler:Ml(wg),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Ve().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Ve().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:Ve().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Ve().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:Ve().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:Ve().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:Ve().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:Ve().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function Ml(e){switch(e===void 0&&(e=Ve()),e.OTEL_TRACES_SAMPLER){case St.AlwaysOn:return new In;case St.AlwaysOff:return new ui;case St.ParentBasedAlwaysOn:return new as({root:new In});case St.ParentBasedAlwaysOff:return new as({root:new ui});case St.TraceIdRatio:return new kl(xl(e));case St.ParentBasedTraceIdRatio:return new as({root:new kl(xl(e))});default:return de.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Lg+'".'),new In}}function xl(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return de.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Rn+"."),Rn;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(de.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Rn+"."),Rn):t<0||t>1?(de.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Rn+"."),Rn):t}function Gg(e){var t={sampler:Ml()},n=Al(),i=Object.assign({},n,t,e);return i.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),i.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),i}function Vg(e){var t,n,i,s,l,d,h,b,g,S,_,R,N=Object.assign({},e.spanLimits),w=ml();return N.attributeCountLimit=(d=(l=(s=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(i=e.generalLimits)===null||i===void 0?void 0:i.attributeCountLimit)!==null&&s!==void 0?s:w.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&l!==void 0?l:w.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&d!==void 0?d:ar,N.attributeValueLengthLimit=(R=(_=(S=(b=(h=e.spanLimits)===null||h===void 0?void 0:h.attributeValueLengthLimit)!==null&&b!==void 0?b:(g=e.generalLimits)===null||g===void 0?void 0:g.attributeValueLengthLimit)!==null&&S!==void 0?S:w.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:w.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&R!==void 0?R:sr,Object.assign({},e,{spanLimits:N})}var Xg=function(){function e(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var i=Ve();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:i.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:i.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:i.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:i.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ci(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(de.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&lt.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&de.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(de.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,i){for(var s=[],l=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),d=0,h=l;d<h;d++)s.push(t._flushOneBatch());Promise.all(s).then(function(){n()}).catch(i)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,i){var s=setTimeout(function(){i(new Error("Timeout"))},t._exportTimeoutMillis);me.with(xo(me.active()),function(){var l;t._finishedSpans.length<=t._maxExportBatchSize?(l=t._finishedSpans,t._finishedSpans=[]):l=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var d=function(){return t._exporter.export(l,function(_){var R;clearTimeout(s),_.code===Ot.SUCCESS?n():i((R=_.error)!==null&&R!==void 0?R:new Error("BatchSpanProcessor: span export failed"))})},h=null,b=0,g=l.length;b<g;b++){var S=l[b];S.resource.asyncAttributesPending&&S.resource.waitForAsyncAttributes&&(h!=null||(h=[]),h.push(S.resource.waitForAsyncAttributes()))}h===null?d():Promise.all(h).then(d,function(_){Wt(_),i(_)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var n=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(i){t._isExporting=!1,Wt(i)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis))}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),Pg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ul=function(e){Pg(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.onInit(i),s}return t.prototype.onInit=function(n){var i=this;(n==null?void 0:n.disableAutoFlushOnDocumentHide)!==!0&&typeof document!="undefined"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&i.forceFlush()},this._pageHideListener=function(){i.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){typeof document!="undefined"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(Xg),Wg=8,kg=16,Ag=function(){function e(){this.generateTraceId=Dl(kg),this.generateSpanId=Dl(Wg)}return e}(),di=Array(32);function Dl(e){return function(){for(var n=0;n<e*2;n++)di[n]=Math.floor(Math.random()*16)+48,di[n]>=58&&(di[n]+=39);return String.fromCharCode.apply(null,di.slice(0,e*2))}}var Mg=function(){function e(t,n,i){this._tracerProvider=i;var s=Gg(n);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=n.idGenerator||new Ag,this.resource=i.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,i){var s,l,d;n===void 0&&(n={}),i===void 0&&(i=me.active()),n.root&&(i=Ze.deleteSpan(i));var h=Ze.getSpan(i);if(Qr(i)){de.debug("Instrumentation suppressed, returning Noop Span");var b=Ze.wrapSpanContext(Co);return b}var g=h==null?void 0:h.spanContext(),S=this._idGenerator.generateSpanId(),_,R,N;!g||!Ze.isSpanContextValid(g)?_=this._idGenerator.generateTraceId():(_=g.traceId,R=g.traceState,N=g.spanId);var w=(s=n.kind)!==null&&s!==void 0?s:gn.INTERNAL,L=((l=n.links)!==null&&l!==void 0?l:[]).map(function(ot){return{context:ot.context,attributes:or(ot.attributes)}}),B=or(n.attributes),re=this._sampler.shouldSample(i,_,t,w,B,L);R=(d=re.traceState)!==null&&d!==void 0?d:R;var x=re.decision===Pt.RECORD_AND_SAMPLED?lt.SAMPLED:lt.NONE,Xe={traceId:_,spanId:S,traceFlags:x,traceState:R};if(re.decision===Pt.NOT_RECORD){de.debug("Recording is off, propagating context in a non-recording span");var b=Ze.wrapSpanContext(Xe);return b}var Me=or(Object.assign(B,re.attributes)),Ie=new Og(this,i,t,Xe,w,N,L,n.startTime,void 0,Me);return Ie},e.prototype.startActiveSpan=function(t,n,i,s){var l,d,h;if(!(arguments.length<2)){arguments.length===2?h=n:arguments.length===3?(l=n,h=i):(l=n,d=i,h=s);var b=d!=null?d:me.active(),g=this.startSpan(t,l,b),S=Ze.setSpan(b,g);return me.with(S,h,void 0,g)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();function xg(){return"unknown_service"}var Jt=function(){return Jt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Jt.apply(this,arguments)},Ug=function(e,t,n,i){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(S){try{g(i.next(S))}catch(_){d(_)}}function b(S){try{g(i.throw(S))}catch(_){d(_)}}function g(S){S.done?l(S.value):s(S.value).then(h,b)}g((i=i.apply(e,t||[])).next())})},Dg=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(S){return b([g,S])}}function b(g){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(l=g[0]&2?s.return:g[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,g[1])).done)return l;switch(s=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(S){g=[6,S],s=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Fg=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},ls=function(){function e(t,n){var i=this,s;this._attributes=t,this.asyncAttributesPending=n!=null,this._syncAttributes=(s=this._attributes)!==null&&s!==void 0?s:{},this._asyncAttributesPromise=n==null?void 0:n.then(function(l){return i._attributes=Object.assign({},i._attributes,l),i.asyncAttributesPending=!1,l},function(l){return de.debug("a resource's async attributes promise rejected: %s",l),i.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[gt.SERVICE_NAME]=xg(),t[gt.TELEMETRY_SDK_LANGUAGE]=ti[gt.TELEMETRY_SDK_LANGUAGE],t[gt.TELEMETRY_SDK_NAME]=ti[gt.TELEMETRY_SDK_NAME],t[gt.TELEMETRY_SDK_VERSION]=ti[gt.TELEMETRY_SDK_VERSION],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&de.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return Ug(this,void 0,void 0,function(){return Dg(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var n=this,i;if(!t)return this;var s=Jt(Jt({},this._syncAttributes),(i=t._syncAttributes)!==null&&i!==void 0?i:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(s);var l=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(d){var h,b=Fg(d,2),g=b[0],S=b[1];return Jt(Jt(Jt(Jt({},n._syncAttributes),g),(h=t._syncAttributes)!==null&&h!==void 0?h:t.attributes),S)});return new e(s,l)},e.EMPTY=new e({}),e}(),pi=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yg=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,i=[];try{for(var s=pi(this._spanProcessors),l=s.next();!l.done;l=s.next()){var d=l.value;i.push(d.forceFlush())}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return new Promise(function(h){Promise.all(i).then(function(){h()}).catch(function(b){Wt(b||new Error("MultiSpanProcessor: forceFlush failed")),h()})})},e.prototype.onStart=function(t,n){var i,s;try{for(var l=pi(this._spanProcessors),d=l.next();!d.done;d=l.next()){var h=d.value;h.onStart(t,n)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}},e.prototype.onEnd=function(t){var n,i;try{for(var s=pi(this._spanProcessors),l=s.next();!l.done;l=s.next()){var d=l.value;d.onEnd(t)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,i=[];try{for(var s=pi(this._spanProcessors),l=s.next();!l.done;l=s.next()){var d=l.value;i.push(d.shutdown())}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return new Promise(function(h,b){Promise.all(i).then(function(){h()},b)})},e}(),Hg=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),rn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(rn||(rn={}));var Kg=function(){function e(t){t===void 0&&(t={});var n;this._registeredSpanProcessors=[],this._tracers=new Map;var i=Ll({},Al(),Vg(t));this.resource=(n=i.resource)!==null&&n!==void 0?n:ls.empty(),this.resource=ls.default().merge(this.resource),this._config=Object.assign({},i,{resource:this.resource});var s=this._buildExporterFromEnv();if(s!==void 0){var l=new Ul(s);this.activeSpanProcessor=l}else this.activeSpanProcessor=new Hg}return e.prototype.getTracer=function(t,n,i){var s=t+"@"+(n||"")+":"+((i==null?void 0:i.schemaUrl)||"");return this._tracers.has(s)||this._tracers.set(s,new Mg({name:t,version:n,schemaUrl:i==null?void 0:i.schemaUrl},this._config,this)),this._tracers.get(s)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return de.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Yg(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),Ze.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&me.setGlobalContextManager(t.contextManager),t.propagator&&it.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(i){return new Promise(function(s){var l,d=setTimeout(function(){s(new Error("Span processor did not completed within timeout period of "+t+" ms")),l=rn.timeout},t);i.forceFlush().then(function(){clearTimeout(d),l!==rn.timeout&&(l=rn.resolved,s(l))}).catch(function(h){clearTimeout(d),l=rn.error,s(h)})})});return new Promise(function(i,s){Promise.all(n).then(function(l){var d=l.filter(function(h){return h!==rn.resolved});d.length>0?s(d):i()}).catch(function(l){return s([l])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(Ve().OTEL_PROPAGATORS)),i=n.map(function(l){var d=t._getPropagator(l);return d||de.warn('Propagator "'+l+'" requested through environment variable is unavailable.'),d}),s=i.reduce(function(l,d){return d&&l.push(d),l},[]);if(s.length!==0)return n.length===1?s[0]:new $o({propagators:s})},e.prototype._buildExporterFromEnv=function(){var t=Ve().OTEL_TRACES_EXPORTER;if(!(t==="none"||t==="")){var n=this._getSpanExporter(t);return n||de.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new es}],["baggage",function(){return new Ho}]]),e._registeredExporters=new Map,e}(),Jg=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bg=function(){function e(){}return e.prototype.export=function(t,n){return this._sendSpans(t,n)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(t){var n;return{resource:{attributes:t.resource.attributes},traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(n=t.spanContext().traceState)===null||n===void 0?void 0:n.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:zo(t.startTime),duration:zo(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},e.prototype._sendSpans=function(t,n){var i,s;try{for(var l=Jg(t),d=l.next();!d.done;d=l.next()){var h=d.value;console.dir(this._exportInfo(h),{depth:3})}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}if(n)return n({code:Ot.SUCCESS})},e}(),zg=function(e,t,n,i){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(S){try{g(i.next(S))}catch(_){d(_)}}function b(S){try{g(i.throw(S))}catch(_){d(_)}}function g(S){S.done?l(S.value):s(S.value).then(h,b)}g((i=i.apply(e,t||[])).next())})},jg=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(S){return b([g,S])}}function b(g){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(l=g[0]&2?s.return:g[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,g[1])).done)return l;switch(s=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(S){g=[6,S],s=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Qg=function(){function e(t){this._exporter=t,this._shutdownOnce=new ci(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return zg(this,void 0,void 0,function(){return jg(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return t.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){var n=this,i,s;if(!this._shutdownOnce.isCalled&&t.spanContext().traceFlags&lt.SAMPLED){var l=function(){return Wl._export(n._exporter,[t]).then(function(h){var b;h.code!==Ot.SUCCESS&&Wt((b=h.error)!==null&&b!==void 0?b:new Error("SimpleSpanProcessor: span export failed (status "+h+")"))}).catch(function(h){Wt(h)})};if(t.resource.asyncAttributesPending){var d=(s=(i=t.resource).waitForAsyncAttributes)===null||s===void 0?void 0:s.call(i).then(function(){return d!=null&&n._unresolvedExports.delete(d),l()},function(h){return Wt(h)});d!=null&&this._unresolvedExports.add(d)}else l()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}(),$g=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},qg=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},eT=function(){function e(){this._enabled=!1,this._currentContext=yt}return e.prototype._bindFunction=function(t,n){t===void 0&&(t=yt);var i=this,s=function(){for(var l=this,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return i.with(t,function(){return n.apply(l,d)})};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),s},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(t,n){return t===void 0&&(t=this.active()),typeof n=="function"?this._bindFunction(t,n):n},e.prototype.disable=function(){return this._currentContext=yt,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=yt,this)},e.prototype.with=function(t,n,i){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];var d=this._currentContext;this._currentContext=t||yt;try{return n.call.apply(n,qg([i],$g(s),!1))}finally{this._currentContext=d}},e}(),tT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),nT=function(e){tT(t,e);function t(n){n===void 0&&(n={});var i=e.call(this,n)||this;if(n.contextManager)throw"contextManager should be defined in register method not in constructor";if(n.propagator)throw"propagator should be defined in register method not in constructor";return i}return t.prototype.register=function(n){n===void 0&&(n={}),n.contextManager===void 0&&(n.contextManager=new eT),n.contextManager&&n.contextManager.enable(),e.prototype.register.call(this,n)},t}(Kg),le;(function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"})(le||(le={}));var cs;function rT(){return cs||(cs=document.createElement("a")),cs}function Bt(e,t){return t in e}function Ye(e,t,n,i){var s=void 0,l=void 0;Bt(n,t)&&typeof n[t]=="number"&&(s=n[t]);var d=i||le.FETCH_START;if(Bt(n,d)&&typeof n[d]=="number"&&(l=n[d]),s!==void 0&&l!==void 0&&s>=l)return e.addEvent(t,s),e}function Nn(e,t){Ye(e,le.FETCH_START,t),Ye(e,le.DOMAIN_LOOKUP_START,t),Ye(e,le.DOMAIN_LOOKUP_END,t),Ye(e,le.CONNECT_START,t),Bt(t,"name")&&t.name.startsWith("https:")&&Ye(e,le.SECURE_CONNECTION_START,t),Ye(e,le.CONNECT_END,t),Ye(e,le.REQUEST_START,t),Ye(e,le.RESPONSE_START,t),Ye(e,le.RESPONSE_END,t);var n=t[le.ENCODED_BODY_SIZE];n!==void 0&&e.setAttribute(kt.HTTP_RESPONSE_CONTENT_LENGTH,n);var i=t[le.DECODED_BODY_SIZE];i!==void 0&&n!==i&&e.setAttribute(kt.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,i)}function iT(e){return e.slice().sort(function(t,n){var i=t[le.FETCH_START],s=n[le.FETCH_START];return i>s?1:i<s?-1:0})}function Fl(){return typeof location!="undefined"?location.origin:void 0}function Yl(e,t,n,i,s,l){s===void 0&&(s=new WeakSet);var d=At(e);e=d.toString();var h=sT(e,t,n,i,s,l);if(h.length===0)return{mainRequest:void 0};if(h.length===1)return{mainRequest:h[0]};var b=iT(h);if(d.origin!==Fl()&&b.length>1){var g=b[0],S=oT(b,g[le.RESPONSE_END],n),_=g[le.RESPONSE_END],R=S[le.FETCH_START];return R<_&&(S=g,g=void 0),{corsPreFlightRequest:g,mainRequest:S}}else return{mainRequest:h[0]}}function oT(e,t,n){for(var i=Ct(n),s=Ct(_n(t)),l=e[1],d,h=e.length,b=1;b<h;b++){var g=e[b],S=Ct(_n(g[le.FETCH_START])),_=Ct(_n(g[le.RESPONSE_END])),R=i-_;S>=s&&(!d||R<d)&&(d=R,l=g)}return l}function sT(e,t,n,i,s,l){var d=Ct(t),h=Ct(n),b=i.filter(function(g){var S=Ct(_n(g[le.FETCH_START])),_=Ct(_n(g[le.RESPONSE_END]));return g.initiatorType.toLowerCase()===(l||"xmlhttprequest")&&g.name===e&&S>=d&&_<=h});return b.length>0&&(b=b.filter(function(g){return!s.has(g)})),b}function At(e){if(typeof URL=="function")return new URL(e,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);var t=rT();return t.href=e,t}function Hl(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var n=lT(e,t);if(t&&n.indexOf("@id")>0)return n;var i="";return e.parentNode&&(i+=Hl(e.parentNode,!1)),i+=n,i}function aT(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var n=Array.from(e.parentNode.childNodes);return n=n.filter(function(i){var s=i.localName;return t.indexOf(i.nodeType)>=0&&s===e.localName}),n.length>=1?n.indexOf(e)+1:0}function lT(e,t){var n=e.nodeType,i=aT(e),s="";if(n===Node.ELEMENT_NODE){var l=e.getAttribute("id");if(t&&l)return'//*[@id="'+l+'"]';s=e.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)s="text()";else if(n===Node.COMMENT_NODE)s="comment()";else return"";return s&&i>1?"/"+s+"["+i+"]":"/"+s}function Kl(e,t){var n=t||[];(typeof n=="string"||n instanceof RegExp)&&(n=[n]);var i=At(e);return i.origin===Fl()?!0:n.some(function(s){return os(e,s)})}var cT=function(){function e(){}return e.prototype.emit=function(t){},e}(),uT=function(){function e(){}return e.prototype.getLogger=function(t,n,i){return new cT},e}(),Jl=new uT,dT=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},hi=Symbol.for("io.opentelemetry.js.api.logs"),dr=dT;function pT(e,t,n){return function(i){return i===e?t:n}}var Bl=1,hT=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(t){return dr[hi]?this.getLoggerProvider():(dr[hi]=pT(Bl,t,Jl),t)},e.prototype.getLoggerProvider=function(){var t,n;return(n=(t=dr[hi])===null||t===void 0?void 0:t.call(dr,Bl))!==null&&n!==void 0?n:Jl},e.prototype.getLogger=function(t,n,i){return this.getLoggerProvider().getLogger(t,n,i)},e.prototype.disable=function(){delete dr[hi]},e}(),zl=hT.getInstance();function jl(e){e===void 0&&(e=[]);for(var t=[],n=0,i=e.length;n<i;n++){var s=e[n];if(Array.isArray(s)){var l=jl(s);t=t.concat(l.instrumentations)}else typeof s=="function"?t.push(new s):s.instrumentationName&&t.push(s)}return{instrumentations:t}}function mT(e,t,n,i){for(var s=0,l=e.length;s<l;s++){var d=e[s];t&&d.setTracerProvider(t),n&&d.setMeterProvider(n),i&&d.setLoggerProvider&&d.setLoggerProvider(i),d.getConfig().enabled||d.enable()}}function fT(e){e.forEach(function(t){return t.disable()})}function bT(e){var t=jl(e.instrumentations).instrumentations,n=e.tracerProvider||Ze.getTracerProvider(),i=e.meterProvider||jr.getMeterProvider(),s=e.loggerProvider||zl.getLoggerProvider();return mT(t,n,i,s),function(){fT(t)}}function us(e){return typeof e=="function"}var $e=console.error.bind(console);function pr(e,t,n){var i=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:i,writable:!0,value:n})}function hr(e){e&&e.logger&&(us(e.logger)?$e=e.logger:$e("new logger isn't a function, not replacing"))}function Ql(e,t,n){if(!e||!e[t]){$e("no original function "+t+" to wrap");return}if(!n){$e("no wrapper function"),$e(new Error().stack);return}if(!us(e[t])||!us(n)){$e("original object and wrapper must be functions");return}var i=e[t],s=n(i,t);return pr(s,"__original",i),pr(s,"__unwrap",function(){e[t]===s&&pr(e,t,i)}),pr(s,"__wrapped",!0),pr(e,t,s),s}function yT(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{$e("must provide one or more modules to patch"),$e(new Error().stack);return}if(!(t&&Array.isArray(t))){$e("must provide one or more functions to wrap on modules");return}e.forEach(function(i){t.forEach(function(s){Ql(i,s,n)})})}function $l(e,t){if(!e||!e[t]){$e("no function to unwrap."),$e(new Error().stack);return}if(!e[t].__unwrap)$e("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function ST(e,t){if(e)Array.isArray(e)||(e=[e]);else{$e("must provide one or more modules to patch"),$e(new Error().stack);return}if(!(t&&Array.isArray(t))){$e("must provide one or more functions to unwrap on modules");return}e.forEach(function(n){t.forEach(function(i){$l(n,i)})})}hr.wrap=Ql,hr.massWrap=yT,hr.unwrap=$l,hr.massUnwrap=ST;var mi=hr,ds=function(){return ds=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ds.apply(this,arguments)},gT=function(){function e(t,n,i){i===void 0&&(i={}),this.instrumentationName=t,this.instrumentationVersion=n,this._wrap=mi.wrap,this._unwrap=mi.unwrap,this._massWrap=mi.massWrap,this._massUnwrap=mi.massUnwrap,this._config=ds({enabled:!0},i),this._diag=de.createComponentLogger({namespace:t}),this._tracer=Ze.getTracer(t,n),this._meter=jr.getMeter(t,n),this._logger=zl.getLogger(t,n),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var t,n=(t=this.init())!==null&&t!==void 0?t:[];return Array.isArray(n)?n:[n]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(t){t===void 0&&(t={}),this._config=Object.assign({},t)},e.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e}(),TT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),fi=function(e){TT(t,e);function t(n,i,s){s===void 0&&(s={});var l=e.call(this,n,i,s)||this;return l._config.enabled&&l.enable(),l}return t}(gT);function bi(e,t,n){var i,s;try{s=e()}catch(l){i=l}finally{if(t(i,s),i&&!n)throw i;return s}}function He(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var mr;(function(e){e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"})(mr||(mr={}));var vT="0.38.0",yi;(function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(yi||(yi={}));var _T=function(){var e,t,n={},i=(t=(e=ct).getEntriesByType)===null||t===void 0?void 0:t.call(e,"navigation")[0];if(i){var s=Object.values(le);s.forEach(function(h){if(Bt(i,h)){var b=i[h];typeof b=="number"&&(n[h]=b)}})}else{var l=ct,d=l.timing;if(d){var s=Object.values(le);s.forEach(function(b){if(Bt(d,b)){var g=d[b];typeof g=="number"&&(n[b]=g)}})}}return n},ql={"first-paint":yi.FIRST_PAINT,"first-contentful-paint":yi.FIRST_CONTENTFUL_PAINT},ET=function(e){var t,n,i=(n=(t=ct).getEntriesByType)===null||n===void 0?void 0:n.call(t,"paint");i&&i.forEach(function(s){var l=s.name,d=s.startTime;Bt(ql,l)&&e.addEvent(ql[l],d)})},IT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),RT=function(e){IT(t,e);function t(n){n===void 0&&(n={});var i=e.call(this,"@opentelemetry/instrumentation-document-load",vT,n)||this;return i.component="document-load",i.version="1",i.moduleName=i.component,i}return t.prototype.init=function(){},t.prototype._onDocumentLoaded=function(){var n=this;window.setTimeout(function(){n._collectPerformance()})},t.prototype._addResourcesSpans=function(n){var i=this,s,l,d=(l=(s=ct).getEntriesByType)===null||l===void 0?void 0:l.call(s,"resource");d&&d.forEach(function(h){i._initResourceSpan(h,n)})},t.prototype._collectPerformance=function(){var n=this,i=Array.from(document.getElementsByTagName("meta")).find(function(d){return d.getAttribute("name")===cr}),s=_T(),l=i&&i.content||"";me.with(it.extract(yt,{traceparent:l}),function(){var d,h=n._startSpan(mr.DOCUMENT_LOAD,le.FETCH_START,s);h&&(me.with(Ze.setSpan(me.active(),h),function(){var b=n._startSpan(mr.DOCUMENT_FETCH,le.FETCH_START,s);b&&(b.setAttribute(Bo,location.href),me.with(Ze.setSpan(me.active(),b),function(){var g;Nn(b,s),n._addCustomAttributesOnSpan(b,(g=n._getConfig().applyCustomAttributesOnSpan)===null||g===void 0?void 0:g.documentFetch),n._endSpan(b,le.RESPONSE_END,s)}))}),h.setAttribute(Bo,location.href),h.setAttribute(Nm,navigator.userAgent),n._addResourcesSpans(h),Ye(h,le.FETCH_START,s),Ye(h,le.UNLOAD_EVENT_START,s),Ye(h,le.UNLOAD_EVENT_END,s),Ye(h,le.DOM_INTERACTIVE,s),Ye(h,le.DOM_CONTENT_LOADED_EVENT_START,s),Ye(h,le.DOM_CONTENT_LOADED_EVENT_END,s),Ye(h,le.DOM_COMPLETE,s),Ye(h,le.LOAD_EVENT_START,s),Ye(h,le.LOAD_EVENT_END,s),ET(h),n._addCustomAttributesOnSpan(h,(d=n._getConfig().applyCustomAttributesOnSpan)===null||d===void 0?void 0:d.documentLoad),n._endSpan(h,le.LOAD_EVENT_END,s))})},t.prototype._endSpan=function(n,i,s){n&&(Bt(s,i)?n.end(s[i]):n.end())},t.prototype._initResourceSpan=function(n,i){var s,l=this._startSpan(mr.RESOURCE_FETCH,le.FETCH_START,n,i);l&&(l.setAttribute(Bo,n.name),Nn(l,n),this._addCustomAttributesOnResourceSpan(l,n,(s=this._getConfig().applyCustomAttributesOnSpan)===null||s===void 0?void 0:s.resourceFetch),this._endSpan(l,le.RESPONSE_END,n))},t.prototype._startSpan=function(n,i,s,l){if(Bt(s,i)&&typeof s[i]=="number"){var d=this.tracer.startSpan(n,{startTime:s[i]},l?Ze.setSpan(me.active(),l):void 0);return d}},t.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},t.prototype._getConfig=function(){return this._config},t.prototype._addCustomAttributesOnSpan=function(n,i){var s=this;i&&bi(function(){return i(n)},function(l){l&&s._diag.error("addCustomAttributesOnSpan",l)},!0)},t.prototype._addCustomAttributesOnResourceSpan=function(n,i,s){var l=this;s&&bi(function(){return s(n,i)},function(d){d&&l._diag.error("addCustomAttributesOnResourceSpan",d)},!0)},t.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},t.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},t}(fi),Si;(function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"})(Si||(Si={}));function NT(e){for(var t={},n=e.length,i=0;i<n;i++){var s=e[i];s&&(t[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return t}var ZT="aws.lambda.invoked_arn",CT="db.system",OT="db.connection_string",wT="db.user",LT="db.jdbc.driver_classname",GT="db.name",VT="db.statement",XT="db.operation",PT="db.mssql.instance_name",WT="db.cassandra.keyspace",kT="db.cassandra.page_size",AT="db.cassandra.consistency_level",MT="db.cassandra.table",xT="db.cassandra.idempotence",UT="db.cassandra.speculative_execution_count",DT="db.cassandra.coordinator.id",FT="db.cassandra.coordinator.dc",YT="db.hbase.namespace",HT="db.redis.database_index",KT="db.mongodb.collection",JT="db.sql.table",BT="exception.type",zT="exception.message",jT="exception.stacktrace",QT="exception.escaped",$T="faas.trigger",qT="faas.execution",ev="faas.document.collection",tv="faas.document.operation",nv="faas.document.time",rv="faas.document.name",iv="faas.time",ov="faas.cron",sv="faas.coldstart",av="faas.invoked_name",lv="faas.invoked_provider",cv="faas.invoked_region",uv="net.transport",dv="net.peer.ip",pv="net.peer.port",hv="net.peer.name",mv="net.host.ip",fv="net.host.port",bv="net.host.name",yv="net.host.connection.type",Sv="net.host.connection.subtype",gv="net.host.carrier.name",Tv="net.host.carrier.mcc",vv="net.host.carrier.mnc",_v="net.host.carrier.icc",Ev="peer.service",Iv="enduser.id",Rv="enduser.role",Nv="enduser.scope",Zv="thread.id",Cv="thread.name",Ov="code.function",wv="code.namespace",Lv="code.filepath",Gv="code.lineno",Vv="http.method",Xv="http.url",Pv="http.target",Wv="http.host",kv="http.scheme",Av="http.status_code",Mv="http.flavor",xv="http.user_agent",Uv="http.request_content_length",Dv="http.request_content_length_uncompressed",Fv="http.response_content_length",Yv="http.response_content_length_uncompressed",Hv="http.server_name",Kv="http.route",Jv="http.client_ip",Bv="aws.dynamodb.table_names",zv="aws.dynamodb.consumed_capacity",jv="aws.dynamodb.item_collection_metrics",Qv="aws.dynamodb.provisioned_read_capacity",$v="aws.dynamodb.provisioned_write_capacity",qv="aws.dynamodb.consistent_read",e_="aws.dynamodb.projection",t_="aws.dynamodb.limit",n_="aws.dynamodb.attributes_to_get",r_="aws.dynamodb.index_name",i_="aws.dynamodb.select",o_="aws.dynamodb.global_secondary_indexes",s_="aws.dynamodb.local_secondary_indexes",a_="aws.dynamodb.exclusive_start_table",l_="aws.dynamodb.table_count",c_="aws.dynamodb.scan_forward",u_="aws.dynamodb.segment",d_="aws.dynamodb.total_segments",p_="aws.dynamodb.count",h_="aws.dynamodb.scanned_count",m_="aws.dynamodb.attribute_definitions",f_="aws.dynamodb.global_secondary_index_updates",b_="messaging.system",y_="messaging.destination",S_="messaging.destination_kind",g_="messaging.temp_destination",T_="messaging.protocol",v_="messaging.protocol_version",__="messaging.url",E_="messaging.message_id",I_="messaging.conversation_id",R_="messaging.message_payload_size_bytes",N_="messaging.message_payload_compressed_size_bytes",Z_="messaging.operation",C_="messaging.consumer_id",O_="messaging.rabbitmq.routing_key",w_="messaging.kafka.message_key",L_="messaging.kafka.consumer_group",G_="messaging.kafka.client_id",V_="messaging.kafka.partition",X_="messaging.kafka.tombstone",P_="rpc.system",W_="rpc.service",k_="rpc.method",A_="rpc.grpc.status_code",M_="rpc.jsonrpc.version",x_="rpc.jsonrpc.request_id",U_="rpc.jsonrpc.error_code",D_="rpc.jsonrpc.error_message",F_="message.type",Y_="message.id",H_="message.compressed_size",K_="message.uncompressed_size",Zn=NT([ZT,CT,OT,wT,LT,GT,VT,XT,PT,WT,kT,AT,MT,xT,UT,DT,FT,YT,HT,KT,JT,BT,zT,jT,QT,$T,qT,ev,tv,nv,rv,iv,ov,sv,av,lv,cv,uv,dv,pv,hv,mv,fv,bv,yv,Sv,gv,Tv,vv,_v,Ev,Iv,Rv,Nv,Zv,Cv,Ov,wv,Lv,Gv,Vv,Xv,Pv,Wv,kv,Av,Mv,xv,Uv,Dv,Fv,Yv,Hv,Kv,Jv,Bv,zv,jv,Qv,$v,qv,e_,t_,n_,r_,i_,o_,s_,a_,l_,c_,u_,d_,p_,h_,m_,f_,b_,y_,S_,g_,T_,v_,__,E_,I_,R_,N_,Z_,C_,O_,w_,L_,G_,V_,X_,P_,W_,k_,A_,M_,x_,U_,D_,F_,Y_,H_,K_]),ec="0.51.1",J_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ps,B_=300,tc=typeof process=="object"&&((ps=process.release)===null||ps===void 0?void 0:ps.name)==="node",z_=function(e){J_(t,e);function t(n){var i=e.call(this,"@opentelemetry/instrumentation-fetch",ec,n)||this;return i.component="fetch",i.version=ec,i.moduleName=i.component,i._usedResources=new WeakSet,i._tasksCount=0,i}return t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addChildSpan=function(n,i){var s=this.tracer.startSpan("CORS Preflight",{startTime:i[le.FETCH_START]},Ze.setSpan(me.active(),n));this._getConfig().ignoreNetworkEvents||Nn(s,i),s.end(i[le.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(n,i){var s=At(i.url);n.setAttribute(Zn.HTTP_STATUS_CODE,i.status),i.statusText!=null&&n.setAttribute(Si.HTTP_STATUS_TEXT,i.statusText),n.setAttribute(Zn.HTTP_HOST,s.host),n.setAttribute(Zn.HTTP_SCHEME,s.protocol.replace(":","")),typeof navigator!="undefined"&&n.setAttribute(Zn.HTTP_USER_AGENT,navigator.userAgent)},t.prototype._addHeaders=function(n,i){if(!Kl(i,this._getConfig().propagateTraceHeaderCorsUrls)){var s={};it.inject(me.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(n instanceof Request)it.inject(me.active(),n.headers,{set:function(l,d,h){return l.set(d,typeof h=="string"?h:String(h))}});else if(n.headers instanceof Headers)it.inject(me.active(),n.headers,{set:function(l,d,h){return l.set(d,typeof h=="string"?h:String(h))}});else if(n.headers instanceof Map)it.inject(me.active(),n.headers,{set:function(l,d,h){return l.set(d,typeof h=="string"?h:String(h))}});else{var s={};it.inject(me.active(),s),n.headers=Object.assign({},s,n.headers||{})}},t.prototype._clearResources=function(){this._tasksCount===0&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(n,i){var s;if(i===void 0&&(i={}),ss(n,this._getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var l=(i.method||"GET").toUpperCase(),d="HTTP "+l;return this.tracer.startSpan(d,{kind:gn.CLIENT,attributes:(s={},s[Si.COMPONENT]=this.moduleName,s[Zn.HTTP_METHOD]=l,s[Zn.HTTP_URL]=n,s)})},t.prototype._findResourceAndAddNetworkEvents=function(n,i,s){var l=i.entries;if(!l.length){if(!performance.getEntriesByType)return;l=performance.getEntriesByType("resource")}var d=Yl(i.spanUrl,i.startTime,s,l,this._usedResources,"fetch");if(d.mainRequest){var h=d.mainRequest;this._markResourceAsUsed(h);var b=d.corsPreFlightRequest;b&&(this._addChildSpan(n,b),this._markResourceAsUsed(b)),this._getConfig().ignoreNetworkEvents||Nn(n,h)}},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._endSpan=function(n,i,s){var l=this,d=Zt(Date.now()),h=Kt();this._addFinalSpanAttributes(n,s),setTimeout(function(){var b;(b=i.observer)===null||b===void 0||b.disconnect(),l._findResourceAndAddNetworkEvents(n,i,h),l._tasksCount--,l._clearResources(),n.end(d)},B_)},t.prototype._patchConstructor=function(){var n=this;return function(i){var s=n;return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var b=this,g=At(d[0]instanceof Request?d[0].url:String(d[0])).href,S=d[0]instanceof Request?d[0]:d[1]||{},_=s._createSpan(g,S);if(!_)return i.apply(this,d);var R=s._prepareSpanData(g);function N(re,x){s._applyAttributesAfterFetch(re,S,x),s._endSpan(re,R,{status:x.status||0,statusText:x.message,url:g})}function w(re,x){s._applyAttributesAfterFetch(re,S,x),x.status>=200&&x.status<400?s._endSpan(re,R,x):s._endSpan(re,R,{status:x.status,statusText:x.statusText,url:g})}function L(re,x,Xe){try{var Me=Xe.clone(),Ie=Xe.clone(),ot=Me.body;if(ot){var Vn=ot.getReader(),xt=function(){Vn.read().then(function(Ut){var zt=Ut.done;zt?w(re,Ie):xt()},function(Ut){N(re,Ut)})};xt()}else w(re,Xe)}finally{x(Xe)}}function B(re,x,Xe){try{N(re,Xe)}finally{x(Xe)}}return new Promise(function(re,x){return me.with(Ze.setSpan(me.active(),_),function(){return s._addHeaders(S,g),s._tasksCount++,i.apply(b,S instanceof Request?[S]:[g,S]).then(L.bind(b,_,re),B.bind(b,_,x))})})}}},t.prototype._applyAttributesAfterFetch=function(n,i,s){var l=this,d=this._getConfig().applyCustomAttributesOnSpan;d&&bi(function(){return d(n,i,s)},function(h){h&&l._diag.error("applyCustomAttributesOnSpan",h)},!0)},t.prototype._prepareSpanData=function(n){var i=Kt(),s=[];if(typeof PerformanceObserver!="function")return{entries:s,startTime:i,spanUrl:n};var l=new PerformanceObserver(function(d){var h=d.getEntries();h.forEach(function(b){b.initiatorType==="fetch"&&b.name===n&&s.push(b)})});return l.observe({entryTypes:["resource"]}),{entries:s,observer:l,startTime:i,spanUrl:n}},t.prototype.enable=function(){if(tc){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}He(fetch)&&(this._unwrap(Tn,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Tn,"fetch",this._patchConstructor())},t.prototype.disable=function(){tc||(this._unwrap(Tn,"fetch"),this._usedResources=new WeakSet)},t}(fi);function j_(e){for(var t={},n=e.length,i=0;i<n;i++){var s=e[i];s&&(t[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return t}var Q_="aws.lambda.invoked_arn",$_="db.system",q_="db.connection_string",eE="db.user",tE="db.jdbc.driver_classname",nE="db.name",rE="db.statement",iE="db.operation",oE="db.mssql.instance_name",sE="db.cassandra.keyspace",aE="db.cassandra.page_size",lE="db.cassandra.consistency_level",cE="db.cassandra.table",uE="db.cassandra.idempotence",dE="db.cassandra.speculative_execution_count",pE="db.cassandra.coordinator.id",hE="db.cassandra.coordinator.dc",mE="db.hbase.namespace",fE="db.redis.database_index",bE="db.mongodb.collection",yE="db.sql.table",SE="exception.type",gE="exception.message",TE="exception.stacktrace",vE="exception.escaped",_E="faas.trigger",EE="faas.execution",IE="faas.document.collection",RE="faas.document.operation",NE="faas.document.time",ZE="faas.document.name",CE="faas.time",OE="faas.cron",wE="faas.coldstart",LE="faas.invoked_name",GE="faas.invoked_provider",VE="faas.invoked_region",XE="net.transport",PE="net.peer.ip",WE="net.peer.port",kE="net.peer.name",AE="net.host.ip",ME="net.host.port",xE="net.host.name",UE="net.host.connection.type",DE="net.host.connection.subtype",FE="net.host.carrier.name",YE="net.host.carrier.mcc",HE="net.host.carrier.mnc",KE="net.host.carrier.icc",JE="peer.service",BE="enduser.id",zE="enduser.role",jE="enduser.scope",QE="thread.id",$E="thread.name",qE="code.function",e0="code.namespace",t0="code.filepath",n0="code.lineno",r0="http.method",i0="http.url",o0="http.target",s0="http.host",a0="http.scheme",l0="http.status_code",c0="http.flavor",u0="http.user_agent",d0="http.request_content_length",p0="http.request_content_length_uncompressed",h0="http.response_content_length",m0="http.response_content_length_uncompressed",f0="http.server_name",b0="http.route",y0="http.client_ip",S0="aws.dynamodb.table_names",g0="aws.dynamodb.consumed_capacity",T0="aws.dynamodb.item_collection_metrics",v0="aws.dynamodb.provisioned_read_capacity",_0="aws.dynamodb.provisioned_write_capacity",E0="aws.dynamodb.consistent_read",I0="aws.dynamodb.projection",R0="aws.dynamodb.limit",N0="aws.dynamodb.attributes_to_get",Z0="aws.dynamodb.index_name",C0="aws.dynamodb.select",O0="aws.dynamodb.global_secondary_indexes",w0="aws.dynamodb.local_secondary_indexes",L0="aws.dynamodb.exclusive_start_table",G0="aws.dynamodb.table_count",V0="aws.dynamodb.scan_forward",X0="aws.dynamodb.segment",P0="aws.dynamodb.total_segments",W0="aws.dynamodb.count",k0="aws.dynamodb.scanned_count",A0="aws.dynamodb.attribute_definitions",M0="aws.dynamodb.global_secondary_index_updates",x0="messaging.system",U0="messaging.destination",D0="messaging.destination_kind",F0="messaging.temp_destination",Y0="messaging.protocol",H0="messaging.protocol_version",K0="messaging.url",J0="messaging.message_id",B0="messaging.conversation_id",z0="messaging.message_payload_size_bytes",j0="messaging.message_payload_compressed_size_bytes",Q0="messaging.operation",$0="messaging.consumer_id",q0="messaging.rabbitmq.routing_key",eI="messaging.kafka.message_key",tI="messaging.kafka.consumer_group",nI="messaging.kafka.client_id",rI="messaging.kafka.partition",iI="messaging.kafka.tombstone",oI="rpc.system",sI="rpc.service",aI="rpc.method",lI="rpc.grpc.status_code",cI="rpc.jsonrpc.version",uI="rpc.jsonrpc.request_id",dI="rpc.jsonrpc.error_code",pI="rpc.jsonrpc.error_message",hI="message.type",mI="message.id",fI="message.compressed_size",bI="message.uncompressed_size",Cn=j_([Q_,$_,q_,eE,tE,nE,rE,iE,oE,sE,aE,lE,cE,uE,dE,pE,hE,mE,fE,bE,yE,SE,gE,TE,vE,_E,EE,IE,RE,NE,ZE,CE,OE,wE,LE,GE,VE,XE,PE,WE,kE,AE,ME,xE,UE,DE,FE,YE,HE,KE,JE,BE,zE,jE,QE,$E,qE,e0,t0,n0,r0,i0,o0,s0,a0,l0,c0,u0,d0,p0,h0,m0,f0,b0,y0,S0,g0,T0,v0,_0,E0,I0,R0,N0,Z0,C0,O0,w0,L0,G0,V0,X0,P0,W0,k0,A0,M0,x0,U0,D0,F0,Y0,H0,K0,J0,B0,z0,j0,Q0,$0,q0,eI,tI,nI,rI,iI,oI,sI,aI,lI,cI,uI,dI,pI,hI,mI,fI,bI]),Mt;(function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"})(Mt||(Mt={}));var nc="0.51.1",hs;(function(e){e.HTTP_STATUS_TEXT="http.status_text"})(hs||(hs={}));var yI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),SI=300,gI=function(e){yI(t,e);function t(n){var i=e.call(this,"@opentelemetry/instrumentation-xml-http-request",nc,n)||this;return i.component="xml-http-request",i.version=nc,i.moduleName=i.component,i._tasksCount=0,i._xhrMem=new WeakMap,i._usedResources=new WeakSet,i}return t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addHeaders=function(n,i){var s=At(i).href;if(!Kl(s,this._getConfig().propagateTraceHeaderCorsUrls)){var l={};it.inject(me.active(),l),Object.keys(l).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var d={};it.inject(me.active(),d),Object.keys(d).forEach(function(h){n.setRequestHeader(h,String(d[h]))})},t.prototype._addChildSpan=function(n,i){var s=this;me.with(Ze.setSpan(me.active(),n),function(){var l=s.tracer.startSpan("CORS Preflight",{startTime:i[le.FETCH_START]});s._getConfig().ignoreNetworkEvents||Nn(l,i),l.end(i[le.RESPONSE_END])})},t.prototype._addFinalSpanAttributes=function(n,i,s){if(typeof s=="string"){var l=At(s);i.status!==void 0&&n.setAttribute(Cn.HTTP_STATUS_CODE,i.status),i.statusText!==void 0&&n.setAttribute(hs.HTTP_STATUS_TEXT,i.statusText),n.setAttribute(Cn.HTTP_HOST,l.host),n.setAttribute(Cn.HTTP_SCHEME,l.protocol.replace(":","")),n.setAttribute(Cn.HTTP_USER_AGENT,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(n,i){var s=this,l=this._getConfig().applyCustomAttributesOnSpan;typeof l=="function"&&bi(function(){return l(n,i)},function(d){d&&s._diag.error("applyCustomAttributesOnSpan",d)},!0)},t.prototype._addResourceObserver=function(n,i){var s=this._xhrMem.get(n);!s||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(s.createdResources={observer:new PerformanceObserver(function(l){var d=l.getEntries(),h=At(i);d.forEach(function(b){b.initiatorType==="xmlhttprequest"&&b.name===h.href&&s.createdResources&&s.createdResources.entries.push(b)})}),entries:[]},s.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){this._tasksCount===0&&this._getConfig().clearTimingResources&&(ct.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(n,i,s,l,d){if(!(!s||!l||!d||!n.createdResources)){var h=n.createdResources.entries;(!h||!h.length)&&(h=ct.getEntriesByType("resource"));var b=Yl(At(s).href,l,d,h,this._usedResources);if(b.mainRequest){var g=b.mainRequest;this._markResourceAsUsed(g);var S=b.corsPreFlightRequest;S&&(this._addChildSpan(i,S),this._markResourceAsUsed(S)),this._getConfig().ignoreNetworkEvents||Nn(i,g)}}},t.prototype._cleanPreviousSpanInformation=function(n){var i=this._xhrMem.get(n);if(i){var s=i.callbackToRemoveEvents;s&&s(),this._xhrMem.delete(n)}},t.prototype._createSpan=function(n,i,s){var l;if(ss(i,this._getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var d=s.toUpperCase(),h=this.tracer.startSpan(d,{kind:gn.CLIENT,attributes:(l={},l[Cn.HTTP_METHOD]=s,l[Cn.HTTP_URL]=At(i).toString(),l)});return h.addEvent(Mt.METHOD_OPEN),this._cleanPreviousSpanInformation(n),this._xhrMem.set(n,{span:h,spanUrl:i}),h},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._patchOpen=function(){var n=this;return function(i){var s=n;return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var b=d[0],g=d[1];return s._createSpan(this,g,b),i.apply(this,d)}}},t.prototype._patchSend=function(){var n=this;function i(S,_,R,N){var w=_.callbackToRemoveEvents;typeof w=="function"&&w();var L=_.span,B=_.spanUrl,re=_.sendStartTime;L&&(n._findResourceAndAddNetworkEvents(_,L,B,re,R),L.addEvent(S,N),n._addFinalSpanAttributes(L,_,B),L.end(N),n._tasksCount--),n._clearResources()}function s(S,_){var R=n._xhrMem.get(_);if(R){R.status=_.status,R.statusText=_.statusText,n._xhrMem.delete(_),R.span&&n._applyAttributesAfterXHR(R.span,_);var N=Kt(),w=Date.now();setTimeout(function(){i(S,R,N,w)},SI)}}function l(){s(Mt.EVENT_ERROR,this)}function d(){s(Mt.EVENT_ABORT,this)}function h(){s(Mt.EVENT_TIMEOUT,this)}function b(){this.status<299?s(Mt.EVENT_LOAD,this):s(Mt.EVENT_ERROR,this)}function g(S){S.removeEventListener("abort",d),S.removeEventListener("error",l),S.removeEventListener("load",b),S.removeEventListener("timeout",h);var _=n._xhrMem.get(S);_&&(_.callbackToRemoveEvents=void 0)}return function(S){return function(){for(var R=this,N=[],w=0;w<arguments.length;w++)N[w]=arguments[w];var L=n._xhrMem.get(this);if(!L)return S.apply(this,N);var B=L.span,re=L.spanUrl;return B&&re&&me.with(Ze.setSpan(me.active(),B),function(){n._tasksCount++,L.sendStartTime=Kt(),B.addEvent(Mt.METHOD_SEND),R.addEventListener("abort",d),R.addEventListener("error",l),R.addEventListener("load",b),R.addEventListener("timeout",h),L.callbackToRemoveEvents=function(){g(R),L.createdResources&&L.createdResources.observer.disconnect()},n._addHeaders(R,re),n._addResourceObserver(R,re)}),S.apply(this,N)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),He(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),He(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(fi),TI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l},rc=1e4,vI=5,_I=1e3,EI=5e3,II=1.5;function RI(e){e===void 0&&(e={});var t={};return Object.entries(e).forEach(function(n){var i=TI(n,2),s=i[0],l=i[1];typeof l!="undefined"?t[s]=String(l):de.warn('Header "'+s+'" has wrong value and will be ignored')}),t}function NI(e,t){return e.endsWith("/")||(e=e+"/"),e+t}function ZI(e){try{var t=new URL(e);return t.pathname===""&&(t.pathname=t.pathname+"/"),t.toString()}catch(n){return de.warn("Could not parse export URL: '"+e+"'"),e}}function CI(e){return typeof e=="number"?e<=0?ic(e,rc):e:OI()}function OI(){var e,t=Number((e=Ve().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:Ve().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?ic(t,rc):t}function ic(e,t){return de.warn("Timeout must be greater than 0",e),t}function wI(e){var t=[429,502,503,504];return t.includes(e)}function LI(e){if(e==null)return-1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?t*1e3:-1;var n=new Date(e).getTime()-Date.now();return n>=0?n:0}var GI=function(){function e(t){t===void 0&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new ci(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:30,this.timeoutMillis=CI(t.timeoutMillis),this.onInit(t)}return e.prototype.export=function(t,n){if(this._shutdownOnce.isCalled){n({code:Ot.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){n({code:Ot.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(function(){n({code:Ot.SUCCESS})}).catch(function(i){n({code:Ot.FAILED,error:i})})},e.prototype._export=function(t){var n=this;return new Promise(function(i,s){try{de.debug("items to be sent",t),n.send(t,i,s)}catch(l){s(l)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return de.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),VI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),fr=function(e){VI(t,e);function t(n,i,s){var l=e.call(this,n)||this;return l.name="OTLPExporterError",l.data=s,l.code=i,l}return t}(Error),gi=function(){return gi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},gi.apply(this,arguments)},XI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l};function PI(e,t,n,i,s){if(navigator.sendBeacon(t,new Blob([e],n)))de.debug("sendBeacon - can send",e),i();else{var l=new fr("sendBeacon - cannot send "+e);s(l)}}function WI(e,t,n,i,s,l){var d,h,b=!1,g=setTimeout(function(){if(clearTimeout(d),b=!0,h.readyState===XMLHttpRequest.DONE){var _=new fr("Request Timeout");l(_)}else h.abort()},i),S=function(_,R){_===void 0&&(_=vI),R===void 0&&(R=_I),h=new XMLHttpRequest,h.open("POST",t);var N={Accept:"application/json","Content-Type":"application/json"};Object.entries(gi(gi({},N),n)).forEach(function(w){var L=XI(w,2),B=L[0],re=L[1];h.setRequestHeader(B,re)}),h.send(e),h.onreadystatechange=function(){if(h.readyState===XMLHttpRequest.DONE&&b===!1)if(h.status>=200&&h.status<=299)de.debug("xhr success",e),s(),clearTimeout(g),clearTimeout(d);else if(h.status&&wI(h.status)&&_>0){var w=void 0;R=II*R,h.getResponseHeader("Retry-After")?w=LI(h.getResponseHeader("Retry-After")):w=Math.round(Math.random()*(EI-R)+R),d=setTimeout(function(){S(_-1,R)},w)}else{var L=new fr("Failed to export with XHR (status: "+h.status+")",h.status);l(L),clearTimeout(g),clearTimeout(d)}},h.onabort=function(){if(b){var w=new fr("Request Timeout");l(w)}clearTimeout(g),clearTimeout(d)},h.onerror=function(){if(b){var w=new fr("Request Timeout");l(w)}clearTimeout(g),clearTimeout(d)}};S()}var kI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),AI=function(e){kI(t,e);function t(n){n===void 0&&(n={});var i=e.call(this,n)||this;return i._useXHR=!1,i._useXHR=!!n.headers||typeof navigator.sendBeacon!="function",i._useXHR?i._headers=Object.assign({},RI(n.headers),Yo(Ve().OTEL_EXPORTER_OTLP_HEADERS)):i._headers={},i}return t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(n,i,s){var l=this;if(this._shutdownOnce.isCalled){de.debug("Shutdown already started. Cannot send objects");return}var d=this.convert(n),h=JSON.stringify(d),b=new Promise(function(S,_){l._useXHR?WI(h,l.url,l._headers,l.timeoutMillis,S,_):PI(h,l.url,{type:"application/json"},S,_)}).then(i,s);this._sendingPromises.push(b);var g=function(){var S=l._sendingPromises.indexOf(b);l._sendingPromises.splice(S,1)};b.then(g,g)},t}(GI);function oc(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function MI(e){var t=Number(BigInt.asUintN(32,e)),n=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:n}}function sc(e){var t=oc(e);return MI(t)}function xI(e){var t=oc(e);return t.toString()}var UI=typeof BigInt!="undefined"?xI:Ct;function ac(e){return e}function lc(e){if(e!==void 0)return lr(e)}var DI={encodeHrTime:sc,encodeSpanContext:lr,encodeOptionalSpanContext:lc};function FI(e){var t,n;if(e===void 0)return DI;var i=(t=e.useLongBits)!==null&&t!==void 0?t:!0,s=(n=e.useHex)!==null&&n!==void 0?n:!1;return{encodeHrTime:i?sc:UI,encodeSpanContext:s?ac:lr,encodeOptionalSpanContext:s?ac:lc}}var YI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l};function Ti(e){return Object.keys(e).map(function(t){return cc(t,e[t])})}function cc(e,t){return{key:e,value:uc(t)}}function uc(e){var t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(uc)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(function(n){var i=YI(n,2),s=i[0],l=i[1];return cc(s,l)})}}:{}}function HI(e,t){var n,i=e.spanContext(),s=e.status;return{traceId:t.encodeSpanContext(i.traceId),spanId:t.encodeSpanContext(i.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(n=i.traceState)===null||n===void 0?void 0:n.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:Ti(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(l){return JI(l,t)}),droppedEventsCount:e.droppedEventsCount,status:{code:s.code,message:s.message},links:e.links.map(function(l){return KI(l,t)}),droppedLinksCount:e.droppedLinksCount}}function KI(e,t){var n;return{attributes:e.attributes?Ti(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(n=e.context.traceState)===null||n===void 0?void 0:n.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function JI(e,t){return{attributes:e.attributes?Ti(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}var BI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,l=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return l};function jI(e,t){var n=FI(t);return{resourceSpans:$I(e,n)}}function QI(e){var t,n,i=new Map;try{for(var s=BI(e),l=s.next();!l.done;l=s.next()){var d=l.value,h=i.get(d.resource);h||(h=new Map,i.set(d.resource,h));var b=d.instrumentationLibrary.name+"@"+(d.instrumentationLibrary.version||"")+":"+(d.instrumentationLibrary.schemaUrl||""),g=h.get(b);g||(g=[],h.set(b,g)),g.push(d)}}catch(S){t={error:S}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}function $I(e,t){for(var n=QI(e),i=[],s=n.entries(),l=s.next();!l.done;){for(var d=zI(l.value,2),h=d[0],b=d[1],g=[],S=b.values(),_=S.next();!_.done;){var R=_.value;if(R.length>0){var N=R[0].instrumentationLibrary,w=N.name,L=N.version,B=N.schemaUrl,re=R.map(function(Xe){return HI(Xe,t)});g.push({scope:{name:w,version:L},spans:re,schemaUrl:B})}_=S.next()}var x={resource:{attributes:Ti(h.attributes),droppedAttributesCount:0},scopeSpans:g,schemaUrl:void 0};i.push(x),l=s.next()}return i}var qI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),dc="v1/traces",eR="http://localhost:4318/"+dc,tR=function(e){qI(t,e);function t(n){n===void 0&&(n={});var i=e.call(this,n)||this;return i._headers=Object.assign(i._headers,Yo(Ve().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),i}return t.prototype.convert=function(n){return jI(n,{useHex:!0,useLongBits:!1})},t.prototype.getDefaultUrl=function(n){return typeof n.url=="string"?n.url:Ve().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?ZI(Ve().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):Ve().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?NI(Ve().OTEL_EXPORTER_OTLP_ENDPOINT,dc):eR},t}(AI),nR="deployment.environment",rR="service.name",iR=nR,oR=rR,ms={};const sR=Ra(Kh),aR=Ra(iy);Object.defineProperty(ms,"__esModule",{value:!0});var pc=ms.BatchSpanProcessorBase=void 0;const On=sR,on=aR;class lR{constructor(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;const i=(0,on.getEnv)();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:i.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:i.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:i.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:i.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new on.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(On.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,n){}onEnd(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&On.TraceFlags.SAMPLED&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&On.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(On.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,n)=>{const i=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let l=0,d=s;l<d;l++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{t()}).catch(n)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,n)=>{const i=setTimeout(()=>{n(new Error("Timeout"))},this._exportTimeoutMillis);On.context.with((0,on.suppressTracing)(On.context.active()),()=>{const s=this._finishedSpans.splice(0,this._maxExportBatchSize),l=()=>this._exporter.export(s,h=>{var b;clearTimeout(i),h.code===on.ExportResultCode.SUCCESS?t():n((b=h.error)!==null&&b!==void 0?b:new Error("BatchSpanProcessor: span export failed"))}),d=s.map(h=>h.resource).filter(h=>h.asyncAttributesPending);d.length===0?l():Promise.all(d.map(h=>{var b;return(b=h.waitForAsyncAttributes)===null||b===void 0?void 0:b.call(h)})).then(l,h=>{(0,on.globalErrorHandler)(h),n(h)})})})}_maybeStartTimer(){if(this._isExporting)return;const t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(n=>{this._isExporting=!1,(0,on.globalErrorHandler)(n)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),(0,on.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}pc=ms.BatchSpanProcessorBase=lR;function fs(e,t){if(!!!e)throw new Error(t)}function cR(e){return typeof e=="object"&&e!==null}function uR(e,t){if(!!!e)throw new Error(t!=null?t:"Unexpected invariant triggered.")}const dR=/\r\n|[\n\r]/g;function bs(e,t){let n=0,i=1;for(const s of e.body.matchAll(dR)){if(typeof s.index=="number"||uR(!1),s.index>=t)break;n=s.index+s[0].length,i+=1}return{line:i,column:t+1-n}}function pR(e){return hc(e.source,bs(e.source,e.start))}function hc(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,s=t.line-1,l=e.locationOffset.line-1,d=t.line+l,h=t.line===1?n:0,b=t.column+h,g=`${e.name}:${d}:${b}
`,S=i.split(/\r\n|[\n\r]/g),_=S[s];if(_.length>120){const R=Math.floor(b/80),N=b%80,w=[];for(let L=0;L<_.length;L+=80)w.push(_.slice(L,L+80));return g+mc([[`${d} |`,w[0]],...w.slice(1,R+1).map(L=>["|",L]),["|","^".padStart(N)],["|",w[R+1]]])}return g+mc([[`${d-1} |`,S[s-1]],[`${d} |`,_],["|","^".padStart(b)],[`${d+1} |`,S[s+1]]])}function mc(e){const t=e.filter(([i,s])=>s!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,s])=>i.padStart(n)+(s?" "+s:"")).join(`
`)}function hR(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class ys extends Error{constructor(t,...n){var i,s,l;const{nodes:d,source:h,positions:b,path:g,originalError:S,extensions:_}=hR(n);super(t),this.name="GraphQLError",this.path=g!=null?g:void 0,this.originalError=S!=null?S:void 0,this.nodes=fc(Array.isArray(d)?d:d?[d]:void 0);const R=fc((i=this.nodes)===null||i===void 0?void 0:i.map(w=>w.loc).filter(w=>w!=null));this.source=h!=null?h:R==null||(s=R[0])===null||s===void 0?void 0:s.source,this.positions=b!=null?b:R==null?void 0:R.map(w=>w.start),this.locations=b&&h?b.map(w=>bs(h,w)):R==null?void 0:R.map(w=>bs(w.source,w.start));const N=cR(S==null?void 0:S.extensions)?S==null?void 0:S.extensions:void 0;this.extensions=(l=_!=null?_:N)!==null&&l!==void 0?l:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),S!=null&&S.stack?Object.defineProperty(this,"stack",{value:S.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ys):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+pR(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+hc(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function fc(e){return e===void 0||e.length===0?void 0:e}function Ke(e,t,n){return new ys(`Syntax Error: ${n}`,{source:e,positions:[t]})}class mR{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class bc{constructor(t,n,i,s,l,d){this.kind=t,this.start=n,this.end=i,this.line=s,this.column=l,this.value=d,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const fR={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};new Set(Object.keys(fR));var wn;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(wn||(wn={}));var Ss;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ss||(Ss={}));var se;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(se||(se={}));function bR(e){return e===9||e===32}function br(e){return e>=48&&e<=57}function yc(e){return e>=97&&e<=122||e>=65&&e<=90}function Sc(e){return yc(e)||e===95}function yR(e){return yc(e)||br(e)||e===95}function SR(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,s=-1;for(let d=0;d<e.length;++d){var l;const h=e[d],b=gR(h);b!==h.length&&(i=(l=i)!==null&&l!==void 0?l:d,s=d,d!==0&&b<n&&(n=b))}return e.map((d,h)=>h===0?d:d.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,s+1)}function gR(e){let t=0;for(;t<e.length&&bR(e.charCodeAt(t));)++t;return t}var U;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(U||(U={}));class TR{constructor(t){const n=new bc(U.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==U.EOF)do if(t.next)t=t.next;else{const n=_R(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===U.COMMENT);return t}}function vR(e){return e===U.BANG||e===U.DOLLAR||e===U.AMP||e===U.PAREN_L||e===U.PAREN_R||e===U.SPREAD||e===U.COLON||e===U.EQUALS||e===U.AT||e===U.BRACKET_L||e===U.BRACKET_R||e===U.BRACE_L||e===U.PIPE||e===U.BRACE_R}function Ln(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function vi(e,t){return gc(e.charCodeAt(t))&&Tc(e.charCodeAt(t+1))}function gc(e){return e>=55296&&e<=56319}function Tc(e){return e>=56320&&e<=57343}function sn(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return U.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Ae(e,t,n,i,s){const l=e.line,d=1+n-e.lineStart;return new bc(t,n,i,l,d,s)}function _R(e,t){const n=e.source.body,i=n.length;let s=t;for(;s<i;){const l=n.charCodeAt(s);switch(l){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++e.line,e.lineStart=s;continue;case 35:return ER(e,s);case 33:return Ae(e,U.BANG,s,s+1);case 36:return Ae(e,U.DOLLAR,s,s+1);case 38:return Ae(e,U.AMP,s,s+1);case 40:return Ae(e,U.PAREN_L,s,s+1);case 41:return Ae(e,U.PAREN_R,s,s+1);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return Ae(e,U.SPREAD,s,s+3);break;case 58:return Ae(e,U.COLON,s,s+1);case 61:return Ae(e,U.EQUALS,s,s+1);case 64:return Ae(e,U.AT,s,s+1);case 91:return Ae(e,U.BRACKET_L,s,s+1);case 93:return Ae(e,U.BRACKET_R,s,s+1);case 123:return Ae(e,U.BRACE_L,s,s+1);case 124:return Ae(e,U.PIPE,s,s+1);case 125:return Ae(e,U.BRACE_R,s,s+1);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?OR(e,s):RR(e,s)}if(br(l)||l===45)return IR(e,s,l);if(Sc(l))return wR(e,s);throw Ke(e.source,s,l===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Ln(l)||vi(n,s)?`Unexpected character: ${sn(e,s)}.`:`Invalid character: ${sn(e,s)}.`)}return Ae(e,U.EOF,i,i)}function ER(e,t){const n=e.source.body,i=n.length;let s=t+1;for(;s<i;){const l=n.charCodeAt(s);if(l===10||l===13)break;if(Ln(l))++s;else if(vi(n,s))s+=2;else break}return Ae(e,U.COMMENT,t,s,n.slice(t+1,s))}function IR(e,t,n){const i=e.source.body;let s=t,l=n,d=!1;if(l===45&&(l=i.charCodeAt(++s)),l===48){if(l=i.charCodeAt(++s),br(l))throw Ke(e.source,s,`Invalid number, unexpected digit after 0: ${sn(e,s)}.`)}else s=gs(e,s,l),l=i.charCodeAt(s);if(l===46&&(d=!0,l=i.charCodeAt(++s),s=gs(e,s,l),l=i.charCodeAt(s)),(l===69||l===101)&&(d=!0,l=i.charCodeAt(++s),(l===43||l===45)&&(l=i.charCodeAt(++s)),s=gs(e,s,l),l=i.charCodeAt(s)),l===46||Sc(l))throw Ke(e.source,s,`Invalid number, expected digit but got: ${sn(e,s)}.`);return Ae(e,d?U.FLOAT:U.INT,t,s,i.slice(t,s))}function gs(e,t,n){if(!br(n))throw Ke(e.source,t,`Invalid number, expected digit but got: ${sn(e,t)}.`);const i=e.source.body;let s=t+1;for(;br(i.charCodeAt(s));)++s;return s}function RR(e,t){const n=e.source.body,i=n.length;let s=t+1,l=s,d="";for(;s<i;){const h=n.charCodeAt(s);if(h===34)return d+=n.slice(l,s),Ae(e,U.STRING,t,s+1,d);if(h===92){d+=n.slice(l,s);const b=n.charCodeAt(s+1)===117?n.charCodeAt(s+2)===123?NR(e,s):ZR(e,s):CR(e,s);d+=b.value,s+=b.size,l=s;continue}if(h===10||h===13)break;if(Ln(h))++s;else if(vi(n,s))s+=2;else throw Ke(e.source,s,`Invalid character within String: ${sn(e,s)}.`)}throw Ke(e.source,s,"Unterminated string.")}function NR(e,t){const n=e.source.body;let i=0,s=3;for(;s<12;){const l=n.charCodeAt(t+s++);if(l===125){if(s<5||!Ln(i))break;return{value:String.fromCodePoint(i),size:s}}if(i=i<<4|yr(l),i<0)break}throw Ke(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+s)}".`)}function ZR(e,t){const n=e.source.body,i=vc(n,t+2);if(Ln(i))return{value:String.fromCodePoint(i),size:6};if(gc(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const s=vc(n,t+8);if(Tc(s))return{value:String.fromCodePoint(i,s),size:12}}throw Ke(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function vc(e,t){return yr(e.charCodeAt(t))<<12|yr(e.charCodeAt(t+1))<<8|yr(e.charCodeAt(t+2))<<4|yr(e.charCodeAt(t+3))}function yr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function CR(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ke(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function OR(e,t){const n=e.source.body,i=n.length;let s=e.lineStart,l=t+3,d=l,h="";const b=[];for(;l<i;){const g=n.charCodeAt(l);if(g===34&&n.charCodeAt(l+1)===34&&n.charCodeAt(l+2)===34){h+=n.slice(d,l),b.push(h);const S=Ae(e,U.BLOCK_STRING,t,l+3,SR(b).join(`
`));return e.line+=b.length-1,e.lineStart=s,S}if(g===92&&n.charCodeAt(l+1)===34&&n.charCodeAt(l+2)===34&&n.charCodeAt(l+3)===34){h+=n.slice(d,l),d=l+1,l+=4;continue}if(g===10||g===13){h+=n.slice(d,l),b.push(h),g===13&&n.charCodeAt(l+1)===10?l+=2:++l,h="",d=l,s=l;continue}if(Ln(g))++l;else if(vi(n,l))l+=2;else throw Ke(e.source,l,`Invalid character within String: ${sn(e,l)}.`)}throw Ke(e.source,l,"Unterminated string.")}function wR(e,t){const n=e.source.body,i=n.length;let s=t+1;for(;s<i;){const l=n.charCodeAt(s);if(yR(l))++s;else break}return Ae(e,U.NAME,t,s,n.slice(t,s))}const LR=10,_c=2;function Ec(e){return _i(e,[])}function _i(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return GR(e,t);default:return String(e)}}function GR(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(VR(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:_i(i,n)}else if(Array.isArray(e))return PR(e,n);return XR(e,n)}function VR(e){return typeof e.toJSON=="function"}function XR(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>_c?"["+WR(e)+"]":"{ "+n.map(([s,l])=>s+": "+_i(l,t)).join(", ")+" }"}function PR(e,t){if(e.length===0)return"[]";if(t.length>_c)return"[Array]";const n=Math.min(LR,e.length),i=e.length-n,s=[];for(let l=0;l<n;++l)s.push(_i(e[l],t));return i===1?s.push("... 1 more item"):i>1&&s.push(`... ${i} more items`),"["+s.join(", ")+"]"}function WR(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const kR=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var i;const s=n.prototype[Symbol.toStringTag],l=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(s===l){const d=Ec(t);throw new Error(`Cannot use ${s} "${d}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Ic{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||fs(!1,`Body must be a string. Received: ${Ec(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||fs(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||fs(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function AR(e){return kR(e,Ic)}function MR(e,t){return new xR(e,t).parseDocument()}class xR{constructor(t,n={}){const i=AR(t)?t:new Ic(t);this._lexer=new TR(i),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(U.NAME);return this.node(t,{kind:se.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:se.DOCUMENT,definitions:this.many(U.SOF,this.parseDefinition,U.EOF)})}parseDefinition(){if(this.peek(U.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===U.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ke(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(U.BRACE_L))return this.node(t,{kind:se.OPERATION_DEFINITION,operation:wn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(U.NAME)&&(i=this.parseName()),this.node(t,{kind:se.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(U.NAME);switch(t.value){case"query":return wn.QUERY;case"mutation":return wn.MUTATION;case"subscription":return wn.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(U.PAREN_L,this.parseVariableDefinition,U.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:se.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(U.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(U.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(U.DOLLAR),this.node(t,{kind:se.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:se.SELECTION_SET,selections:this.many(U.BRACE_L,this.parseSelection,U.BRACE_R)})}parseSelection(){return this.peek(U.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,s;return this.expectOptionalToken(U.COLON)?(i=n,s=this.parseName()):s=n,this.node(t,{kind:se.FIELD,alias:i,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(U.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(U.PAREN_L,n,U.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(U.COLON),this.node(n,{kind:se.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(U.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(U.NAME)?this.node(t,{kind:se.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:se.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:se.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:se.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case U.BRACKET_L:return this.parseList(t);case U.BRACE_L:return this.parseObject(t);case U.INT:return this.advanceLexer(),this.node(n,{kind:se.INT,value:n.value});case U.FLOAT:return this.advanceLexer(),this.node(n,{kind:se.FLOAT,value:n.value});case U.STRING:case U.BLOCK_STRING:return this.parseStringLiteral();case U.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:se.BOOLEAN,value:!0});case"false":return this.node(n,{kind:se.BOOLEAN,value:!1});case"null":return this.node(n,{kind:se.NULL});default:return this.node(n,{kind:se.ENUM,value:n.value})}case U.DOLLAR:if(t)if(this.expectToken(U.DOLLAR),this._lexer.token.kind===U.NAME){const i=this._lexer.token.value;throw Ke(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:se.STRING,value:t.value,block:t.kind===U.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:se.LIST,values:this.any(U.BRACKET_L,n,U.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:se.OBJECT,fields:this.any(U.BRACE_L,n,U.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(U.COLON),this.node(n,{kind:se.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(U.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(U.AT),this.node(n,{kind:se.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(U.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(U.BRACKET_R),n=this.node(t,{kind:se.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(U.BANG)?this.node(t,{kind:se.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:se.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(U.STRING)||this.peek(U.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),s=this.many(U.BRACE_L,this.parseOperationTypeDefinition,U.BRACE_R);return this.node(t,{kind:se.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:s})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(U.COLON);const i=this.parseNamedType();return this.node(t,{kind:se.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),s=this.parseConstDirectives();return this.node(t,{kind:se.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:s})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),s=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),d=this.parseFieldsDefinition();return this.node(t,{kind:se.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:s,directives:l,fields:d})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(U.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(U.BRACE_L,this.parseFieldDefinition,U.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),s=this.parseArgumentDefs();this.expectToken(U.COLON);const l=this.parseTypeReference(),d=this.parseConstDirectives();return this.node(t,{kind:se.FIELD_DEFINITION,description:n,name:i,arguments:s,type:l,directives:d})}parseArgumentDefs(){return this.optionalMany(U.PAREN_L,this.parseInputValueDef,U.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(U.COLON);const s=this.parseTypeReference();let l;this.expectOptionalToken(U.EQUALS)&&(l=this.parseConstValueLiteral());const d=this.parseConstDirectives();return this.node(t,{kind:se.INPUT_VALUE_DEFINITION,description:n,name:i,type:s,defaultValue:l,directives:d})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),s=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),d=this.parseFieldsDefinition();return this.node(t,{kind:se.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:s,directives:l,fields:d})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),s=this.parseConstDirectives(),l=this.parseUnionMemberTypes();return this.node(t,{kind:se.UNION_TYPE_DEFINITION,description:n,name:i,directives:s,types:l})}parseUnionMemberTypes(){return this.expectOptionalToken(U.EQUALS)?this.delimitedMany(U.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),s=this.parseConstDirectives(),l=this.parseEnumValuesDefinition();return this.node(t,{kind:se.ENUM_TYPE_DEFINITION,description:n,name:i,directives:s,values:l})}parseEnumValuesDefinition(){return this.optionalMany(U.BRACE_L,this.parseEnumValueDefinition,U.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(t,{kind:se.ENUM_VALUE_DEFINITION,description:n,name:i,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ke(this._lexer.source,this._lexer.token.start,`${Ei(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),s=this.parseConstDirectives(),l=this.parseInputFieldsDefinition();return this.node(t,{kind:se.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:s,fields:l})}parseInputFieldsDefinition(){return this.optionalMany(U.BRACE_L,this.parseInputValueDef,U.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===U.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(U.BRACE_L,this.parseOperationTypeDefinition,U.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:se.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:se.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),l=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&l.length===0)throw this.unexpected();return this.node(t,{kind:se.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:s,fields:l})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),l=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&l.length===0)throw this.unexpected();return this.node(t,{kind:se.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:s,fields:l})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:se.UNION_TYPE_EXTENSION,name:n,directives:i,types:s})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:se.ENUM_TYPE_EXTENSION,name:n,directives:i,values:s})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:se.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:s})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(U.AT);const i=this.parseName(),s=this.parseArgumentDefs(),l=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const d=this.parseDirectiveLocations();return this.node(t,{kind:se.DIRECTIVE_DEFINITION,description:n,name:i,arguments:s,repeatable:l,locations:d})}parseDirectiveLocations(){return this.delimitedMany(U.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ss,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new mR(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw Ke(this._lexer.source,n.start,`Expected ${Rc(t)}, found ${Ei(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===U.NAME&&n.value===t)this.advanceLexer();else throw Ke(this._lexer.source,n.start,`Expected "${t}", found ${Ei(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===U.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t!=null?t:this._lexer.token;return Ke(this._lexer.source,n.start,`Unexpected ${Ei(n)}.`)}any(t,n,i){this.expectToken(t);const s=[];for(;!this.expectOptionalToken(i);)s.push(n.call(this));return s}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(i));return s}return[]}many(t,n,i){this.expectToken(t);const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(i));return s}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==U.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Ke(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Ei(e){const t=e.value;return Rc(e.kind)+(t!=null?` "${t}"`:"")}function Rc(e){return vR(e)?`"${e}"`:e}function UR(e){return e===void 0&&(e={}),typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}var Nc="OT_ZONE_CONTEXT",DR=function(){function e(){this._enabled=!1,this._zoneCounter=0}return e.prototype._activeContextFromZone=function(t){return t&&t.get(Nc)||yt},e.prototype._bindFunction=function(t,n){var i=this,s=function(){for(var l=this,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return i.with(t,function(){return n.apply(l,d)})};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),s},e.prototype._bindListener=function(t,n){var i=n;return i.__ot_listeners!==void 0||(i.__ot_listeners={},typeof i.addEventListener=="function"&&(i.addEventListener=this._patchAddEventListener(i,i.addEventListener,t)),typeof i.removeEventListener=="function"&&(i.removeEventListener=this._patchRemoveEventListener(i,i.removeEventListener))),n},e.prototype._createZoneName=function(){this._zoneCounter++;var t=Math.random();return this._zoneCounter+"-"+t},e.prototype._createZone=function(t,n){var i;return Zone.current.fork({name:t,properties:(i={},i[Nc]=n,i)})},e.prototype._getActiveZone=function(){return Zone.current},e.prototype._patchAddEventListener=function(t,n,i){var s=this;return function(l,d,h){t.__ot_listeners===void 0&&(t.__ot_listeners={});var b=t.__ot_listeners[l];b===void 0&&(b=new WeakMap,t.__ot_listeners[l]=b);var g=s.bind(i,d);return b.set(d,g),n.call(this,l,g,h)}},e.prototype._patchRemoveEventListener=function(t,n){return function(i,s){if(t.__ot_listeners===void 0||t.__ot_listeners[i]===void 0)return n.call(this,i,s);var l=t.__ot_listeners[i],d=l.get(s);return l.delete(s),n.call(this,i,d||s)}},e.prototype.active=function(){if(!this._enabled)return yt;var t=this._getActiveZone(),n=this._activeContextFromZone(t);return n||yt},e.prototype.bind=function(t,n){return t===void 0&&(t=this.active()),typeof n=="function"?this._bindFunction(t,n):(UR(n)&&this._bindListener(t,n),n)},e.prototype.disable=function(){return this._enabled=!1,this},e.prototype.enable=function(){return this._enabled=!0,this},e.prototype.with=function(t,n,i){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];var d=this._createZoneName(),h=this._createZone(d,t);return h.run(n,i,s)},e}(),Gn;(function(e){e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url"})(Gn||(Gn={}));var Zc="0.38.0",FR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),YR="OT_ZONE_CONTEXT",HR="Navigation:",KR=["click"];function JR(){return!1}var BR=function(e){FR(t,e);function t(n){var i,s=e.call(this,"@opentelemetry/instrumentation-user-interaction",Zc,n)||this;return s.version=Zc,s.moduleName="user-interaction",s._spansData=new WeakMap,s._wrappedListeners=new WeakMap,s._eventsSpanMap=new WeakMap,s._eventNames=new Set((i=n==null?void 0:n.eventNames)!==null&&i!==void 0?i:KR),s._shouldPreventSpanCreation=typeof(n==null?void 0:n.shouldPreventSpanCreation)=="function"?n.shouldPreventSpanCreation:JR,s}return t.prototype.init=function(){},t.prototype._checkForTimeout=function(n,i){var s=this._spansData.get(i);s&&(n.source==="setTimeout"?s.hrTimeLastTimeout=Kt():n.source!=="Promise.then"&&n.source!=="setTimeout"&&(s.hrTimeLastTimeout=void 0))},t.prototype._allowEventName=function(n){return this._eventNames.has(n)},t.prototype._createSpan=function(n,i,s){var l;if(n instanceof HTMLElement&&n.getAttribute&&!n.hasAttribute("disabled")&&this._allowEventName(i)){var d=Hl(n,!0);try{var h=this.tracer.startSpan(i,{attributes:(l={},l[Gn.EVENT_TYPE]=i,l[Gn.TARGET_ELEMENT]=n.tagName,l[Gn.TARGET_XPATH]=d,l[Gn.HTTP_URL]=window.location.href,l)},s?Ze.setSpan(me.active(),s):void 0);return this._shouldPreventSpanCreation(i,n,h)===!0?void 0:(this._spansData.set(h,{taskCount:0}),h)}catch(b){this._diag.error("failed to start create new user interaction span",b)}}},t.prototype._decrementTask=function(n){var i=this._spansData.get(n);i&&(i.taskCount--,i.taskCount===0&&this._tryToEndSpan(n,i.hrTimeLastTimeout))},t.prototype._getCurrentSpan=function(n){var i=n.get(YR);return i&&Ze.getSpan(i)},t.prototype._incrementTask=function(n){var i=this._spansData.get(n);i&&i.taskCount++},t.prototype.addPatchedListener=function(n,i,s,l){var d=this._wrappedListeners.get(s);d||(d=new Map,this._wrappedListeners.set(s,d));var h=d.get(i);return h||(h=new Map,d.set(i,h)),h.has(n)?!1:(h.set(n,l),!0)},t.prototype.removePatchedListener=function(n,i,s){var l=this._wrappedListeners.get(s);if(l){var d=l.get(i);if(d){var h=d.get(n);return h&&(d.delete(n),d.size===0&&(l.delete(i),l.size===0&&this._wrappedListeners.delete(s))),h}}},t.prototype._invokeListener=function(n,i,s){return typeof n=="function"?n.apply(i,s):n.handleEvent(s[0])},t.prototype._patchAddEventListener=function(){var n=this;return function(i){return function(l,d,h){if(!d)return i.call(this,l,d,h);var b=h&&typeof h=="object"&&h.once,g=function(){for(var S=this,_=[],R=0;R<arguments.length;R++)_[R]=arguments[R];var N,w=_[0],L=w==null?void 0:w.target;w&&(N=n._eventsSpanMap.get(w)),b&&n.removePatchedListener(this,l,d);var B=n._createSpan(L,l,N);return B?(w&&n._eventsSpanMap.set(w,B),me.with(Ze.setSpan(me.active(),B),function(){var re=n._invokeListener(d,S,_);return B.end(),re})):n._invokeListener(d,this,_)};if(n.addPatchedListener(this,l,d,g))return i.call(this,l,g,h)}}},t.prototype._patchRemoveEventListener=function(){var n=this;return function(i){return function(l,d,h){var b=n.removePatchedListener(this,l,d);return b?i.call(this,l,b,h):i.call(this,l,d,h)}}},t.prototype._getPatchableEventTargets=function(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]},t.prototype._patchHistoryApi=function(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())},t.prototype._patchHistoryMethod=function(){var n=this;return function(i){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var h=""+location.pathname+location.hash+location.search,b=i.apply(this,l),g=""+location.pathname+location.hash+location.search;return h!==g&&n._updateInteractionName(g),b}}},t.prototype._unpatchHistoryApi=function(){He(history.replaceState)&&this._unwrap(history,"replaceState"),He(history.pushState)&&this._unwrap(history,"pushState"),He(history.back)&&this._unwrap(history,"back"),He(history.forward)&&this._unwrap(history,"forward"),He(history.go)&&this._unwrap(history,"go")},t.prototype._updateInteractionName=function(n){var i=Ze.getSpan(me.active());i&&typeof i.updateName=="function"&&i.updateName(HR+" "+n)},t.prototype._patchZoneCancelTask=function(){var n=this;return function(i){return function(l){var d=Zone.current,h=n._getCurrentSpan(d);return h&&n._shouldCountTask(l,d)&&n._decrementTask(h),i.call(this,l)}}},t.prototype._patchZoneScheduleTask=function(){var n=this;return function(i){return function(l){var d=Zone.current,h=n._getCurrentSpan(d);return h&&n._shouldCountTask(l,d)&&(n._incrementTask(h),n._checkForTimeout(l,h)),i.call(this,l)}}},t.prototype._patchZoneRunTask=function(){var n=this;return function(i){return function(l,d,h){var b=Array.isArray(h)&&h[0]instanceof Event?h[0]:void 0,g=b==null?void 0:b.target,S,_=this;if(g){if(S=n._createSpan(g,l.eventName),S)return n._incrementTask(S),_.run(function(){try{return me.with(Ze.setSpan(me.active(),S),function(){var R=Zone.current;return l._zone=R,i.call(R,l,d,h)})}finally{n._decrementTask(S)}})}else S=n._getCurrentSpan(_);try{return i.call(_,l,d,h)}finally{S&&n._shouldCountTask(l,_)&&n._decrementTask(S)}}}},t.prototype._shouldCountTask=function(n,i){if(n._zone&&(i=n._zone),!i||!n.data||n.data.isPeriodic)return!1;var s=this._getCurrentSpan(i);return!s||!this._spansData.get(s)?!1:n.type==="macroTask"||n.type==="microTask"},t.prototype._tryToEndSpan=function(n,i){if(n){var s=this._spansData.get(n);s&&(n.end(i),this._spansData.delete(n))}},t.prototype.enable=function(){var n=this,i=this.getZoneWithPrototype();if(this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!i),i)He(i.prototype.runTask)&&(this._unwrap(i.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),He(i.prototype.scheduleTask)&&(this._unwrap(i.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),He(i.prototype.cancelTask)&&(this._unwrap(i.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(i.prototype,"runTask",this._patchZoneRunTask()),this._wrap(i.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(i.prototype,"cancelTask",this._patchZoneCancelTask());else{this._zonePatched=!1;var s=this._getPatchableEventTargets();s.forEach(function(l){He(l.addEventListener)&&(n._unwrap(l,"addEventListener"),n._diag.debug("removing previous patch from method addEventListener")),He(l.removeEventListener)&&(n._unwrap(l,"removeEventListener"),n._diag.debug("removing previous patch from method removeEventListener")),n._wrap(l,"addEventListener",n._patchAddEventListener()),n._wrap(l,"removeEventListener",n._patchRemoveEventListener())})}this._patchHistoryApi()},t.prototype.disable=function(){var n=this,i=this.getZoneWithPrototype();if(this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!i),i&&this._zonePatched)He(i.prototype.runTask)&&this._unwrap(i.prototype,"runTask"),He(i.prototype.scheduleTask)&&this._unwrap(i.prototype,"scheduleTask"),He(i.prototype.cancelTask)&&this._unwrap(i.prototype,"cancelTask");else{var s=this._getPatchableEventTargets();s.forEach(function(l){He(l.addEventListener)&&n._unwrap(l,"addEventListener"),He(l.removeEventListener)&&n._unwrap(l,"removeEventListener")})}this._unpatchHistoryApi()},t.prototype.getZoneWithPrototype=function(){var n=window;return n.Zone},t}(fi),Cc={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let wt;const zR=e=>{var b,g,S,_;if(wt!==void 0){console.warn("OTEL already initialized. Skipping...");return}const t=e.backendUrl||Cc.REACT_APP_PUBLIC_GRAPH_URI||"https://pub.highlight.run",n=[...(b=e.urlBlocklist)!=null?b:[],...fo],i=Cc.DEBUG==="true",s=(g=e.endpoint)!=null?g:"https://otel.highlight.io:4318",l=(S=e.environment)!=null?S:"production";wt=new nT({resource:new ls({[oR]:(_=e.serviceName)!=null?_:"highlight-browser",[iR]:l,"highlight.project_id":e.projectId,"highlight.session_id":e.sessionSecureId})}),i&&wt.addSpanProcessor(new Qg(new Bg));const d=new tR({url:s+"/v1/traces",concurrencyLimit:10,compression:"gzip"}),h=new jR(d,{backendUrl:t,urlBlocklist:n,tracingOrigins:e.tracingOrigins});wt.addSpanProcessor(h),wt.addSpanProcessor(new Ul(d,{maxExportBatchSize:15})),bT({instrumentations:[new RT,new BR,new z_({propagateTraceHeaderCorsUrls:/.*/,applyCustomAttributesOnSpan:(R,N,w)=>Rt(this,null,function*(){var x,Xe,Me;const L=R.attributes["http.url"],B=(x=N.method)!=null?x:"GET";if(R.updateName(wc(L,B,N.body)),!(w instanceof Response)){R.setAttributes({"http.response.error":w.message,"http.response.status":w.status});return}Lc(R,N.body,N.headers,e.networkRecordingOptions);const re=yield Fa(w,(Xe=e.networkRecordingOptions)==null?void 0:Xe.bodyKeysToRecord,(Me=e.networkRecordingOptions)==null?void 0:Me.networkBodyKeysToRedact);R.setAttribute("http.response.body",re),console.log("::: traceFlags",R.spanContext().traceFlags,L)})}),new gI({propagateTraceHeaderCorsUrls:/.*/,applyCustomAttributesOnSpan:(R,N)=>{var re,x;const w=N,L=wc(w._url,w._method,N.responseText);R.updateName(L),Lc(R,w._body,w._requestHeaders,e.networkRecordingOptions);const B=Ht(w._body,(re=e.networkRecordingOptions)==null?void 0:re.networkBodyKeysToRedact,(x=e.networkRecordingOptions)==null?void 0:x.bodyKeysToRecord,w._requestHeaders);R.setAttribute("http.request.body",B),console.log("::: traceFlags",R.spanContext().traceFlags)}})]}),wt.register({contextManager:new DR,propagator:new $o({propagators:[new Ho,new es]})})};class jR extends pc{constructor(n,i){var s,l,d;super(n);_e(this,"backendUrl");_e(this,"urlBlocklist");_e(this,"tracingOrigins");this.backendUrl=(s=i.backendUrl)!=null?s:"",this.urlBlocklist=(l=i.urlBlocklist)!=null?l:fo,this.tracingOrigins=(d=i.tracingOrigins)!=null?d:!1}onStart(){}onEnd(n){const i=n.attributes["http.url"];if(typeof i=="string"){const s=!this.urlBlocklist.some(h=>i.toLowerCase().includes(h)),l=Dr(i,this.backendUrl,this.tracingOrigins),d=Fr(i,this.tracingOrigins);(!s||!l||!d)&&(n.spanContext().traceFlags=0)}}onShutdown(){}}const Oc="highlight-browser",QR=()=>wt.getTracer(Oc),$R=()=>Rt(this,null,function*(){wt!==void 0&&(yield wt.forceFlush(),wt.shutdown())}),wc=(e,t,n)=>{var d,h,b;let i;const s=new URL(e).pathname;let l=`${t} - ${s}`;try{if(i=typeof n=="string"?JSON.parse(n):n,i&&i.query){const g=MR(i.query),S=((d=g.definitions[0])==null?void 0:d.kind)==="OperationDefinition"?(b=(h=g.definitions[0])==null?void 0:h.name)==null?void 0:b.value:void 0;S&&(l=`${S} (GraphQL: ${s})`)}}catch(g){}return l},Lc=(e,t,n,i)=>{var h;const s=typeof t=="string"?t:String(t);let l;try{l=t?JSON.parse(s):void 0,l.operationName&&e.setAttribute("graphql.operation.name",l.operationName)}catch(b){}const d=Va((h=i==null?void 0:i.networkHeadersToRedact)!=null?h:[],n,i==null?void 0:i.headerKeysToRecord);e.setAttributes({"highlight.type":"http.request","http.request.headers":JSON.stringify(d),"http.request.body":s})},Gc=Object.freeze(Object.defineProperty({__proto__:null,BROWSER_TRACER_NAME:Oc,getTracer:QR,setupBrowserTracing:zR,shutdown:$R},Symbol.toStringTag,{value:"Module"}));var Ts={exports:{}};(function(e,t){(function(n,i){i(t)})(Qn,function(n){var i=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,g=(o,r,a)=>r in o?i(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a,S=(o,r)=>{for(var a in r||(r={}))h.call(r,a)&&g(o,a,r[a]);if(d)for(var a of d(r))b.call(r,a)&&g(o,a,r[a]);return o},_=(o,r)=>s(o,l(r)),R=(o,r)=>{var a={};for(var c in o)h.call(o,c)&&r.indexOf(c)<0&&(a[c]=o[c]);if(o!=null&&d)for(var c of d(o))r.indexOf(c)<0&&b.call(o,c)&&(a[c]=o[c]);return a},N=(o,r,a)=>(g(o,typeof r!="symbol"?r+"":r,a),a),w=(o,r,a)=>new Promise((c,u)=>{var p=f=>{try{y(a.next(f))}catch(T){u(T)}},m=f=>{try{y(a.throw(f))}catch(T){u(T)}},y=f=>f.done?c(f.value):Promise.resolve(f.value).then(p,m);y((a=a.apply(o,r)).next())});function L(o,r){for(var a=0;a<r.length;a++){const c=r[a];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in o)){const p=Object.getOwnPropertyDescriptor(c,u);p&&Object.defineProperty(o,u,p.get?p:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var B,re=Object.defineProperty,x=(o,r,a)=>(((c,u,p)=>{u in c?re(c,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[u]=p})(o,typeof r!="symbol"?r+"":r,a),a),Xe=Object.defineProperty,Me=(o,r,a)=>(((c,u,p)=>{u in c?Xe(c,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[u]=p})(o,typeof r!="symbol"?r+"":r,a),a),Ie=(o=>(o[o.Document=0]="Document",o[o.DocumentType=1]="DocumentType",o[o.Element=2]="Element",o[o.Text=3]="Text",o[o.CDATA=4]="CDATA",o[o.Comment=5]="Comment",o))(Ie||{});const ot={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Vn={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},xt={},Ut={};function zt(o,r,a){var c;const u=`${o}.${String(a)}`;if(Ut[u])return Ut[u].call(r);const p=function(y){if(xt[y])return xt[y];const f=globalThis[y],T=f.prototype,v=y in ot?ot[y]:void 0,I=!!(v&&v.every(k=>{var G,A;return!!((A=(G=Object.getOwnPropertyDescriptor(T,k))==null?void 0:G.get)!=null&&A.toString().includes("[native code]"))})),Z=y in Vn?Vn[y]:void 0,C=!!(Z&&Z.every(k=>{var G;return typeof T[k]=="function"&&((G=T[k])==null?void 0:G.toString().includes("[native code]"))}));if(I&&C)return xt[y]=f.prototype,f.prototype;try{const k=document.createElement("iframe");document.body.appendChild(k);const G=k.contentWindow;if(!G)return f.prototype;const A=G[y].prototype;return document.body.removeChild(k),A?xt[y]=A:T}catch(k){return T}}(o),m=(c=Object.getOwnPropertyDescriptor(p,a))==null?void 0:c.get;return m?(Ut[u]=m,m.call(r)):r[a]}function vs(o){return zt("Node",o,"childNodes")}function Ii(o){return zt("Node",o,"parentNode")}function _s(o){return zt("Node",o,"parentElement")}function Es(o){return zt("Node",o,"textContent")}function Is(o){return o&&"shadowRoot"in o?zt("Element",o,"shadowRoot"):null}function Vc(o){return o.nodeType===o.ELEMENT_NODE}function Sr(o){const r=o&&"host"in o&&"mode"in o&&function(a){return a&&"host"in a?zt("ShadowRoot",a,"host"):null}(o)||null;return!!(r&&"shadowRoot"in r&&Is(r)===o)}function gr(o){return Object.prototype.toString.call(o)==="[object ShadowRoot]"}function Ri(o){try{const a=o.rules||o.cssRules;return a?((r=Array.from(a,Xc).join("")).includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")&&(r=r.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),r):null}catch(a){return null}var r}function Xc(o){let r;if(function(a){return"styleSheet"in a}(o))try{r=Ri(o.styleSheet)||function(a){const{cssText:c}=a;if(c.split('"').length<3)return c;const u=["@import",`url(${JSON.stringify(a.href)})`];return a.layerName===""?u.push("layer"):a.layerName&&u.push(`layer(${a.layerName})`),a.supportsText&&u.push(`supports(${a.supportsText})`),a.media.length&&u.push(a.media.mediaText),u.join(" ")+";"}(o)}catch(a){}else if(function(a){return"selectorText"in a}(o)&&o.selectorText.includes(":"))return function(a){const c=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return a.replace(c,"$1\\$2")}(o.cssText);return r||o.cssText}class Pc{constructor(){Me(this,"idNodeMap",new Map),Me(this,"nodeMetaMap",new WeakMap)}getId(r){var a;if(!r)return-1;const c=(a=this.getMeta(r))==null?void 0:a.id;return c!=null?c:-1}getNode(r){return this.idNodeMap.get(r)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(r){return this.nodeMetaMap.get(r)||null}removeNodeFromMap(r){const a=this.getId(r);this.idNodeMap.delete(a),r.childNodes&&r.childNodes.forEach(c=>this.removeNodeFromMap(c))}has(r){return this.idNodeMap.has(r)}hasNode(r){return this.nodeMetaMap.has(r)}add(r,a){const c=a.id;this.idNodeMap.set(c,r),this.nodeMetaMap.set(r,a)}replace(r,a){const c=this.getNode(r);if(c){const u=this.nodeMetaMap.get(c);u&&this.nodeMetaMap.set(a,u)}this.idNodeMap.set(r,a)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Rs({element:o,maskInputOptions:r,tagName:a,type:c,value:u,overwriteRecord:p,maskInputFn:m}){let y=u||"";return Mc({maskInputOptions:r,tagName:a,type:c,overwriteRecord:p})&&(y=m?m(y,o):"*".repeat(y.length)),y}function Xn(o){return o.toLowerCase()}const Wc="__rrweb_original__";function Ns(o){const r=o.type;return o.hasAttribute("data-rr-is-password")?"password":r?Xn(r):null}function kc(o,r){var a;let c;try{c=new URL(o,r!=null?r:window.location.href)}catch(p){return null}const u=c.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(a=u==null?void 0:u[1])!=null?a:null}function Zs(o){return o=((o=o.replace(/[^ -~]+/g,""))==null?void 0:o.split(" ").map(r=>Math.random().toString(20).substr(2,r.length)).join(" "))||""}function Cs(o){return o==="img"||o==="video"||o==="audio"||o==="source"}const tN=[new RegExp(/[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*/),new RegExp(/[0-9]{9,16}/),new RegExp(/[0-9]{3}-?[0-9]{2}-?[0-9]{4}/),new RegExp(/[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}/),new RegExp(/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}/),new RegExp(/[0-9]{1,5}.?[0-9]{0,3}\s[a-zA-Z]{2,30}\s[a-zA-Z]{2,15}/),new RegExp(/(?:[0-9]{1,3}.){3}[0-9]{1,3}/)];function Ac(o){return!!o&&tN.some(r=>r.test(o))}const Mc=({maskInputOptions:o,tagName:r,type:a,overwriteRecord:c})=>{const u=a&&a.toLowerCase();return!(c==="true"||!o[r.toLowerCase()]&&(!u||!o[u]))};let nN=1;const rN=new RegExp("[^a-z0-9-_:]"),Tr=-2;function xc(){return nN++}let Pn,Uc;const iN=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,oN=/^(?:[a-z+]+:)?\/\//i,sN=/^www\..*/i,aN=/^(data:)([^,]*),(.*)/i;function Ni(o,r){return(o||"").replace(iN,(a,c,u,p,m,y)=>{const f=u||m||y,T=c||p||"";if(!f)return a;if(oN.test(f)||sN.test(f))return`url(${T}${f}${T})`;if(aN.test(f))return`url(${T}${f}${T})`;if(f[0]==="/")return`url(${T}${function(Z){let C="";return C=Z.indexOf("//")>-1?Z.split("/").slice(0,3).join("/"):Z.split("/")[0],C=C.split("?")[0],C}(r)+f}${T})`;const v=r.split("/"),I=f.split("/");v.pop();for(const Z of I)Z!=="."&&(Z===".."?v.pop():v.push(Z));return`url(${T}${v.join("/")}${T})`})}const lN=/^[^ \t\n\r\u000c]+/,cN=/^[, \t\n\r\u000c]+/,Dc=new WeakMap;function vr(o,r){return r&&r.trim()!==""?Zi(o,r):r}function uN(o){return!!(o.tagName==="svg"||o.ownerSVGElement)}function Zi(o,r){let a=Dc.get(o);if(a||(a=o.createElement("a"),Dc.set(o,a)),r){if(r.startsWith("blob:")||r.startsWith("data:"))return r}else r="";return a.setAttribute("href",r),a.href}function Fc(o,r,a,c){return c&&(a==="src"||a==="href"&&(r!=="use"||c[0]!=="#")||a==="xlink:href"&&c[0]!=="#"?vr(o,c):a!=="background"||r!=="table"&&r!=="td"&&r!=="th"?a==="srcset"?function(u,p){if(p.trim()==="")return p;let m=0;function y(T){let v;const I=T.exec(p.substring(m));return I?(v=I[0],m+=v.length,v):""}const f=[];for(;y(cN),!(m>=p.length);){let T=y(lN);if(T.slice(-1)===",")T=vr(u,T.substring(0,T.length-1)),f.push(T);else{let v="";T=vr(u,T);let I=!1;for(;;){const Z=p.charAt(m);if(Z===""){f.push((T+v).trim());break}if(I)Z===")"&&(I=!1);else{if(Z===","){m+=1,f.push((T+v).trim());break}Z==="("&&(I=!0)}v+=Z,m+=1}}}return f.join(", ")}(o,c):a==="style"?Ni(c,Zi(o)):r==="object"&&a==="data"?vr(o,c):c:vr(o,c))}function Yc(o,r,a){return(o==="video"||o==="audio")&&r==="autoplay"}function Hc(o,r,a){try{if(typeof r=="string"){if(o.classList.contains(r))return!0}else for(let c=o.classList.length;c--;){const u=o.classList[c];if(r.test(u))return!0}if(a)return o.matches(a)}catch(c){}return!1}function Ci(o,r,a){if(!o)return!1;if(o.nodeType!==o.ELEMENT_NODE)return!!a&&Ci(Ii(o),r,a);for(let c=o.classList.length;c--;){const u=o.classList[c];if(r.test(u))return!0}return!!a&&Ci(Ii(o),r,a)}function Kc(o,r,a,c){let u;if(Vc(o)){if(u=o,!vs(u).length)return!1}else{if(_s(o)===null)return!1;u=_s(o)}try{if(typeof r=="string"){if(c){if(u.closest(`.${r}`))return!0}else if(u.classList.contains(r))return!0}else if(Ci(u,r,c))return!0;if(a){if(c){if(u.closest(a))return!0}else if(u.matches(a))return!0}}catch(p){}return!1}function dN(o,r){const{doc:a,mirror:c,blockClass:u,blockSelector:p,needsMask:m,inlineStylesheet:y,maskInputOptions:f={},maskTextClass:T,maskTextFn:v,maskInputFn:I,dataURLOptions:Z={},inlineImages:C,recordCanvas:k,keepIframeSrcFn:G,newlyAddedElement:A=!1,privacySetting:V}=r,X=function(O,P){if(!P.hasNode(O))return;const Y=P.getId(O);return Y===1?void 0:Y}(a,c);switch(o.nodeType){case o.DOCUMENT_NODE:return o.compatMode!=="CSS1Compat"?{type:Ie.Document,childNodes:[],compatMode:o.compatMode}:{type:Ie.Document,childNodes:[]};case o.DOCUMENT_TYPE_NODE:return{type:Ie.DocumentType,name:o.name,publicId:o.publicId,systemId:o.systemId,rootId:X};case o.ELEMENT_NODE:return function(O,P){const{doc:Y,blockClass:j,blockSelector:te,inlineStylesheet:ne,maskInputOptions:Q={},maskInputFn:z,maskTextClass:ee,dataURLOptions:K={},inlineImages:E,recordCanvas:M,keepIframeSrcFn:H,newlyAddedElement:F=!1,privacySetting:oe,rootId:W}=P;let J=Hc(O,j,te);const ve=Hc(O,ee,null),ye=oe==="strict";let pe=function($){if($ instanceof HTMLFormElement)return"form";const ue=Xn($.tagName);return rN.test(ue)?"div":ue}(O),ae={};const nt=O.attributes.length;for(let $=0;$<nt;$++){const ue=O.attributes[$];Yc(pe,ue.name)||(ae[ue.name]=Fc(Y,pe,Xn(ue.name),ue.value))}if(pe==="link"&&ne){const $=Array.from(Y.styleSheets).find(Fe=>Fe.href===O.href);let ue=null;$&&(ue=Ri($)),ue&&(delete ae.rel,delete ae.href,ae._cssText=Ni(ue,$.href))}if(pe==="style"&&O.sheet&&!(O.innerText||Es(O)||"").trim().length){const $=Ri(O.sheet);$&&(ae._cssText=Ni($,Zi(Y)))}if(pe==="input"||pe==="textarea"||pe==="select"){const $=O.value,ue=O.checked;ae.type!=="radio"&&ae.type!=="checkbox"&&ae.type!=="submit"&&ae.type!=="button"&&$?ae.value=Rs({element:O,type:Ns(O),tagName:pe,value:$,overwriteRecord:O.getAttribute("data-hl-record"),maskInputOptions:Q,maskInputFn:z}):ue&&(ae.checked=ue)}if(pe==="option"&&(O.selected&&!Q.select?ae.selected=!0:delete ae.selected),pe==="canvas"&&M){if(O.__context==="2d")(function($){const ue=$.getContext("2d");if(!ue)return!0;for(let Fe=0;Fe<$.width;Fe+=50)for(let Be=0;Be<$.height;Be+=50){const qt=ue.getImageData,kr=Wc in qt?qt[Wc]:qt;if(new Uint32Array(kr.call(ue,Fe,Be,Math.min(50,$.width-Fe),Math.min(50,$.height-Be)).data.buffer).some(ro=>ro!==0))return!1}return!0})(O)||(ae.rr_dataURL=O.toDataURL(K.type,K.quality));else if(!("__context"in O)){const $=O.toDataURL(K.type,K.quality),ue=Y.createElement("canvas");ue.width=O.width,ue.height=O.height,$!==ue.toDataURL(K.type,K.quality)&&(ae.rr_dataURL=$)}}if(pe==="img"&&E&&!J&&!ve&&!ye){Pn||(Pn=Y.createElement("canvas"),Uc=Pn.getContext("2d"));const $=O,ue=$.currentSrc||$.getAttribute("src")||"<unknown-src>",Fe=$.crossOrigin,Be=()=>{$.removeEventListener("load",Be);try{Pn.width=$.naturalWidth,Pn.height=$.naturalHeight,Uc.drawImage($,0,0),ae.rr_dataURL=Pn.toDataURL(K.type,K.quality)}catch(qt){if($.crossOrigin!=="anonymous")return $.crossOrigin="anonymous",void($.complete&&$.naturalWidth!==0?Be():$.addEventListener("load",Be));console.warn(`Cannot inline img src=${ue}! Error: ${qt}`)}$.crossOrigin==="anonymous"&&(Fe?ae.crossOrigin=Fe:$.removeAttribute("crossorigin"))};$.complete&&$.naturalWidth!==0?Be():$.addEventListener("load",Be)}if(pe==="audio"||pe==="video"){const $=ae;$.rr_mediaState=O.paused?"paused":"played",$.rr_mediaCurrentTime=O.currentTime,$.rr_mediaPlaybackRate=O.playbackRate,$.rr_mediaMuted=O.muted,$.rr_mediaLoop=O.loop,$.rr_mediaVolume=O.volume}if(F||(O.scrollLeft&&(ae.rr_scrollLeft=O.scrollLeft),O.scrollTop&&(ae.rr_scrollTop=O.scrollTop)),J||ve||ye&&Cs(pe)){const{width:$,height:ue}=O.getBoundingClientRect();ae={class:ae.class,rr_width:`${$}px`,rr_height:`${ue}px`}}ye&&Cs(pe)&&(J=!0),pe!=="iframe"||H(ae.src)||(O.contentDocument||(ae.rr_src=ae.src),delete ae.src);let Qe;try{customElements.get(pe)&&(Qe=!0)}catch($){}if(E&&pe==="video"){const $=O;if($.src===""||$.src.indexOf("blob:")!==-1){const{width:ue,height:Fe}=O.getBoundingClientRect();ae={width:ue,height:Fe,rr_width:`${ue}px`,rr_height:`${Fe}px`,rr_inlined_video:!0},pe="canvas";const Be=Y.createElement("canvas");Be.width=O.width,Be.height=O.height,ae.rr_dataURL=Be.toDataURL(K.type,K.quality)}}return{type:Ie.Element,tagName:pe,attributes:ae,childNodes:[],isSVG:uN(O)||void 0,needBlock:J,needMask:ve,rootId:W,isCustom:Qe}}(o,{doc:a,blockClass:u,blockSelector:p,inlineStylesheet:y,maskInputOptions:f,maskInputFn:I,maskTextClass:T,dataURLOptions:Z,inlineImages:C,recordCanvas:k,keepIframeSrcFn:G,newlyAddedElement:A,privacySetting:V,rootId:X});case o.TEXT_NODE:return function(O,P){var Y,j;const{needsMask:te,maskTextFn:ne,privacySetting:Q,rootId:z}=P,ee=Ii(O),K=ee&&ee.tagName;let E=Es(O);const M=K==="STYLE"||void 0,H=K==="SCRIPT"||void 0;let F=!1;if(M&&E){try{O.nextSibling||O.previousSibling||(Y=ee.sheet)!=null&&Y.cssRules&&(E=Ri(ee.sheet))}catch(ve){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${ve}`,O)}E=Ni(E,Zi(P.doc)),F=!0}H?(E="SCRIPT_PLACEHOLDER",F=!0):K==="NOSCRIPT"&&(E="",F=!0),!M&&!H&&E&&te&&(E=ne?ne(E,_s(O)):E.replace(/[\S]/g,"*"));const oe=Q==="strict",W=(j=O.parentElement)==null?void 0:j.getAttribute("data-hl-record"),J=Q==="default"&&Ac(E);return(oe||J)&&!W&&!F&&K&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(K)&&E&&(E=Zs(E)),{type:Ie.Text,textContent:E||"",isStyle:M,rootId:z}}(o,{doc:a,needsMask:m,maskTextFn:v,privacySetting:V,rootId:X});case o.CDATA_SECTION_NODE:return{type:Ie.CDATA,textContent:"",rootId:X};case o.COMMENT_NODE:return{type:Ie.Comment,textContent:Es(o)||"",rootId:X};default:return!1}}function Ce(o){return o==null?"":o.toLowerCase()}function Wn(o,r){const{doc:a,mirror:c,blockClass:u,blockSelector:p,maskTextClass:m,maskTextSelector:y,skipChild:f=!1,inlineStylesheet:T=!0,maskInputOptions:v={},maskTextFn:I,maskInputFn:Z,slimDOMOptions:C,dataURLOptions:k={},inlineImages:G=!1,recordCanvas:A=!1,onSerialize:V,onIframeLoad:X,iframeLoadTimeout:O=5e3,onStylesheetLoad:P,stylesheetLoadTimeout:Y=5e3,keepIframeSrcFn:j=()=>!1,newlyAddedElement:te=!1,privacySetting:ne}=r;let{needsMask:Q}=r,{preserveWhiteSpace:z=!0}=r;Q||(Q=Kc(o,m,y,Q===void 0));const ee=dN(o,{doc:a,mirror:c,blockClass:u,blockSelector:p,needsMask:Q,inlineStylesheet:T,maskInputOptions:v,maskTextClass:m,maskTextFn:I,maskInputFn:Z,dataURLOptions:k,inlineImages:G,recordCanvas:A,keepIframeSrcFn:j,newlyAddedElement:te,privacySetting:ne});if(!ee)return console.warn(o,"not serialized"),null;let K;K=c.hasNode(o)?c.getId(o):!function(W,J){return!!(J.comment&&W.type===Ie.Comment||W.type===Ie.Element&&(J.script&&(W.tagName==="script"||W.tagName==="link"&&(W.attributes.rel==="preload"||W.attributes.rel==="modulepreload")&&W.attributes.as==="script"||W.tagName==="link"&&W.attributes.rel==="prefetch"&&typeof W.attributes.href=="string"&&kc(W.attributes.href)==="js")||J.headFavicon&&(W.tagName==="link"&&W.attributes.rel==="shortcut icon"||W.tagName==="meta"&&(Ce(W.attributes.name).match(/^msapplication-tile(image|color)$/)||Ce(W.attributes.name)==="application-name"||Ce(W.attributes.rel)==="icon"||Ce(W.attributes.rel)==="apple-touch-icon"||Ce(W.attributes.rel)==="shortcut icon"))||W.tagName==="meta"&&(J.headMetaDescKeywords&&Ce(W.attributes.name).match(/^description|keywords$/)||J.headMetaSocial&&(Ce(W.attributes.property).match(/^(og|twitter|fb):/)||Ce(W.attributes.name).match(/^(og|twitter):/)||Ce(W.attributes.name)==="pinterest")||J.headMetaRobots&&(Ce(W.attributes.name)==="robots"||Ce(W.attributes.name)==="googlebot"||Ce(W.attributes.name)==="bingbot")||J.headMetaHttpEquiv&&W.attributes["http-equiv"]!==void 0||J.headMetaAuthorship&&(Ce(W.attributes.name)==="author"||Ce(W.attributes.name)==="generator"||Ce(W.attributes.name)==="framework"||Ce(W.attributes.name)==="publisher"||Ce(W.attributes.name)==="progid"||Ce(W.attributes.property).match(/^article:/)||Ce(W.attributes.property).match(/^product:/))||J.headMetaVerification&&(Ce(W.attributes.name)==="google-site-verification"||Ce(W.attributes.name)==="yandex-verification"||Ce(W.attributes.name)==="csrf-token"||Ce(W.attributes.name)==="p:domain_verify"||Ce(W.attributes.name)==="verify-v1"||Ce(W.attributes.name)==="verification"||Ce(W.attributes.name)==="shopify-checkout-api-token"))))}(ee,C)&&(z||ee.type!==Ie.Text||ee.isStyle||ee.textContent.replace(/^\s+|\s+$/gm,"").length)?xc():Tr;const E=Object.assign(ee,{id:K});if(c.add(o,E),K===Tr)return null;V&&V(o);let M=!f,H=ne,F=ne==="strict";if(E.type===Ie.Element){if(M=M&&!E.needBlock,F||(F=!!E.needBlock||!!E.needMask),H=F?"strict":H,F&&Cs(E.tagName)){const J=o.cloneNode();J.src="",c.add(J,E)}delete E.needBlock,delete E.needMask;const W=Is(o);W&&gr(W)&&(E.isShadowHost=!0)}if((E.type===Ie.Document||E.type===Ie.Element)&&M){C.headWhitespace&&E.type===Ie.Element&&E.tagName==="head"&&(z=!1);const W={doc:a,mirror:c,blockClass:u,blockSelector:p,needsMask:Q,maskTextClass:m,maskTextSelector:y,skipChild:f,inlineStylesheet:T,maskInputOptions:v,maskTextFn:I,maskInputFn:Z,slimDOMOptions:C,dataURLOptions:k,inlineImages:G,recordCanvas:A,preserveWhiteSpace:z,onSerialize:V,onIframeLoad:X,iframeLoadTimeout:O,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:j,privacySetting:H};if(!(E.type===Ie.Element&&E.tagName==="textarea"&&E.attributes.value!==void 0))for(const ve of Array.from(vs(o))){const ye=Wn(ve,W);ye&&E.childNodes.push(ye)}let J=null;if(Vc(o)&&(J=Is(o)))for(const ve of Array.from(vs(J))){const ye=Wn(ve,W);ye&&(gr(J)&&(ye.isShadow=!0),E.childNodes.push(ye))}}const oe=Ii(o);return oe&&Sr(oe)&&gr(oe)&&(E.isShadow=!0),E.type===Ie.Element&&E.tagName==="iframe"&&function(W,J,ve){const ye=W.contentWindow;if(!ye)return;let pe,ae=!1;try{pe=ye.document.readyState}catch(Qe){return}if(pe!=="complete"){const Qe=setTimeout(()=>{ae||(J(),ae=!0)},ve);return void W.addEventListener("load",()=>{clearTimeout(Qe),ae=!0,J()})}const nt="about:blank";if(ye.location.href!==nt||W.src===nt||W.src==="")return setTimeout(J,0),W.addEventListener("load",J);W.addEventListener("load",J)}(o,()=>{const W=o.contentDocument;if(W&&X){const J=Wn(W,{doc:W,mirror:c,blockClass:u,blockSelector:p,needsMask:Q,maskTextClass:m,maskTextSelector:y,skipChild:!1,inlineStylesheet:T,maskInputOptions:v,maskTextFn:I,maskInputFn:Z,slimDOMOptions:C,dataURLOptions:k,inlineImages:G,recordCanvas:A,preserveWhiteSpace:z,onSerialize:V,onIframeLoad:X,iframeLoadTimeout:O,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:j,privacySetting:ne});J&&X(o,J)}},O),E.type===Ie.Element&&E.tagName==="link"&&typeof E.attributes.rel=="string"&&(E.attributes.rel==="stylesheet"||E.attributes.rel==="preload"&&typeof E.attributes.href=="string"&&kc(E.attributes.href)==="css")&&function(W,J,ve){let ye,pe=!1;try{ye=W.sheet}catch(nt){return}if(ye)return;const ae=setTimeout(()=>{pe||(J(),pe=!0)},ve);W.addEventListener("load",()=>{clearTimeout(ae),pe=!0,J()})}(o,()=>{if(P){const W=Wn(o,{doc:a,mirror:c,blockClass:u,blockSelector:p,needsMask:Q,maskTextClass:m,maskTextSelector:y,skipChild:!1,inlineStylesheet:T,maskInputOptions:v,maskTextFn:I,maskInputFn:Z,slimDOMOptions:C,dataURLOptions:k,inlineImages:G,recordCanvas:A,preserveWhiteSpace:z,onSerialize:V,onIframeLoad:X,iframeLoadTimeout:O,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:j,privacySetting:ne});W&&P(o,W)}},Y),E}var pN=Object.defineProperty,dt=(o,r,a)=>(((c,u,p)=>{u in c?pN(c,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[u]=p})(o,typeof r!="symbol"?r+"":r,a),a);class Os{constructor(...r){dt(this,"parentElement",null),dt(this,"parentNode",null),dt(this,"ownerDocument"),dt(this,"firstChild",null),dt(this,"lastChild",null),dt(this,"previousSibling",null),dt(this,"nextSibling",null),dt(this,"ELEMENT_NODE",1),dt(this,"TEXT_NODE",3),dt(this,"nodeType"),dt(this,"nodeName"),dt(this,"RRNodeType")}get childNodes(){const r=[];let a=this.firstChild;for(;a;)r.push(a),a=a.nextSibling;return r}contains(r){if(!(r instanceof Os)||r.ownerDocument!==this.ownerDocument)return!1;if(r===this)return!0;for(;r.parentNode;){if(r.parentNode===this)return!0;r=r.parentNode}return!1}appendChild(r){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(r,a){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(r){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const Jc={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Bc={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Oi={};function ws(o){if(Oi[o])return Oi[o];const r=globalThis[o],a=r.prototype,c=o in Jc?Jc[o]:void 0,u=!!(c&&c.every(y=>{var f,T;return!!((T=(f=Object.getOwnPropertyDescriptor(a,y))==null?void 0:f.get)!=null&&T.toString().includes("[native code]"))})),p=o in Bc?Bc[o]:void 0,m=!!(p&&p.every(y=>{var f;return typeof a[y]=="function"&&((f=a[y])==null?void 0:f.toString().includes("[native code]"))}));if(u&&m)return Oi[o]=r.prototype,r.prototype;try{const y=document.createElement("iframe");document.body.appendChild(y);const f=y.contentWindow;if(!f)return r.prototype;const T=f[o].prototype;return document.body.removeChild(y),T?Oi[o]=T:a}catch(y){return a}}const Ls={};function kn(o,r,a){var c;const u=`${o}.${String(a)}`;if(Ls[u])return Ls[u].call(r);const p=ws(o),m=(c=Object.getOwnPropertyDescriptor(p,a))==null?void 0:c.get;return m?(Ls[u]=m,m.call(r)):r[a]}const Gs={};function zc(o,r,a){const c=`${o}.${String(a)}`;if(Gs[c])return Gs[c].bind(r);const u=ws(o)[a];return typeof u!="function"?r[a]:(Gs[c]=u,u.bind(r))}function wi(o){return kn("Node",o,"childNodes")}function Lt(o){return kn("Node",o,"parentNode")}function Li(o){return kn("Node",o,"parentElement")}function jc(o){return kn("Node",o,"textContent")}function Qc(o,r){return zc("Node",o,"contains")(r)}function Vs(o){return zc("Node",o,"getRootNode")()}function An(o){return o&&"host"in o?kn("ShadowRoot",o,"host"):null}function _r(o){return o&&"shadowRoot"in o?kn("Element",o,"shadowRoot"):null}function qe(o,r,a=document){const c={capture:!0};return a.addEventListener(o,r,c),()=>a.removeEventListener(o,r,c)}const Mn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let $c={map:{},getId:()=>(console.error(Mn),-1),getNode:()=>(console.error(Mn),null),removeNodeFromMap(){console.error(Mn)},has:()=>(console.error(Mn),!1),reset(){console.error(Mn)}};function Er(o,r,a={}){let c=null,u=0;return function(...p){const m=Date.now();u||a.leading!==!1||(u=m);const y=r-(m-u),f=this;y<=0||y>r?(c&&(clearTimeout(c),c=null),u=m,o.apply(f,p)):c||a.trailing===!1||(c=setTimeout(()=>{u=a.leading===!1?0:Date.now(),c=null,o.apply(f,p)},y))}}function Gi(o,r,a,c,u=window){const p=u.Object.getOwnPropertyDescriptor(o,r);return u.Object.defineProperty(o,r,c?a:{set(m){setTimeout(()=>{a.set.call(this,m)},0),p&&p.set&&p.set.call(this,m)}}),()=>Gi(o,r,p||{},!0)}function xn(o,r,a){try{if(!(r in o))return()=>{};const c=o[r],u=a(c);return typeof u=="function"&&(u.prototype=u.prototype||{},Object.defineProperties(u,{__rrweb_original__:{enumerable:!1,value:c}})),o[r]=u,()=>{o[r]=c}}catch(c){return()=>{}}}typeof window!="undefined"&&window.Proxy&&window.Reflect&&($c=new Proxy($c,{get:(o,r,a)=>(r==="map"&&console.error(Mn),Reflect.get(o,r,a))}));let Vi=Date.now;function qc(o){var r,a,c,u;const p=o.document;return{left:p.scrollingElement?p.scrollingElement.scrollLeft:o.pageXOffset!==void 0?o.pageXOffset:p.documentElement.scrollLeft||(p==null?void 0:p.body)&&((r=Li(p.body))==null?void 0:r.scrollLeft)||((a=p==null?void 0:p.body)==null?void 0:a.scrollLeft)||0,top:p.scrollingElement?p.scrollingElement.scrollTop:o.pageYOffset!==void 0?o.pageYOffset:(p==null?void 0:p.documentElement.scrollTop)||(p==null?void 0:p.body)&&((c=Li(p.body))==null?void 0:c.scrollTop)||((u=p==null?void 0:p.body)==null?void 0:u.scrollTop)||0}}function eu(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function tu(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function nu(o){return o?o.nodeType===o.ELEMENT_NODE?o:Li(o):null}/[1-9][0-9]{12}/.test(Date.now().toString())||(Vi=()=>new Date().getTime());const hN=o=>{try{if(o instanceof HTMLElement)return o.tagName==="CANVAS"}catch(r){return!1}return!1};function je(o,r,a,c){if(!o)return!1;const u=nu(o);if(!u)return!1;try{if(typeof r=="string"){if(u.classList.contains(r)||c&&u.closest("."+r)!==null)return!0}else if(Ci(u,r,c))return!0}catch(p){}return!!(a&&(u.matches(a)||c&&u.closest(a)!==null))}function Xs(o,r,a){return!(o.tagName!=="TITLE"||!a.headTitleMutations)||r.getId(o)===Tr}function ru(o,r){if(Sr(o))return!1;const a=r.getId(o);if(!r.has(a))return!0;const c=Lt(o);return(!c||c.nodeType!==o.DOCUMENT_NODE)&&(!c||ru(c,r))}function Ps(o){return!!o.changedTouches}function iu(o,r){return!!(o.nodeName==="IFRAME"&&r.getMeta(o))}function ou(o,r){return!!(o.nodeName==="LINK"&&o.nodeType===o.ELEMENT_NODE&&o.getAttribute&&o.getAttribute("rel")==="stylesheet"&&r.getMeta(o))}function Ws(o){return!!o&&(o instanceof Os&&"shadowRoot"in o?!!o.shadowRoot:!!_r(o))}class mN{constructor(){x(this,"id",1),x(this,"styleIDMap",new WeakMap),x(this,"idStyleMap",new Map)}getId(r){var a;return(a=this.styleIDMap.get(r))!=null?a:-1}has(r){return this.styleIDMap.has(r)}add(r,a){if(this.has(r))return this.getId(r);let c;return c=a===void 0?this.id++:a,this.styleIDMap.set(r,c),this.idStyleMap.set(c,r),c}getStyle(r){return this.idStyleMap.get(r)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function su(o){var r;let a=null;return"getRootNode"in o&&((r=Vs(o))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&An(Vs(o))&&(a=An(Vs(o))),a}function fN(o){const r=o.ownerDocument;if(!r)return!1;const a=function(c){let u,p=c;for(;u=su(p);)p=u;return p}(o);return Qc(r,a)}function au(o){const r=o.ownerDocument;return!!r&&(Qc(r,o)||fN(o))}var Te=(o=>(o[o.DomContentLoaded=0]="DomContentLoaded",o[o.Load=1]="Load",o[o.FullSnapshot=2]="FullSnapshot",o[o.IncrementalSnapshot=3]="IncrementalSnapshot",o[o.Meta=4]="Meta",o[o.Custom=5]="Custom",o[o.Plugin=6]="Plugin",o))(Te||{}),be=(o=>(o[o.Mutation=0]="Mutation",o[o.MouseMove=1]="MouseMove",o[o.MouseInteraction=2]="MouseInteraction",o[o.Scroll=3]="Scroll",o[o.ViewportResize=4]="ViewportResize",o[o.Input=5]="Input",o[o.TouchMove=6]="TouchMove",o[o.MediaInteraction=7]="MediaInteraction",o[o.StyleSheetRule=8]="StyleSheetRule",o[o.CanvasMutation=9]="CanvasMutation",o[o.Font=10]="Font",o[o.Log=11]="Log",o[o.Drag=12]="Drag",o[o.StyleDeclaration=13]="StyleDeclaration",o[o.Selection=14]="Selection",o[o.AdoptedStyleSheet=15]="AdoptedStyleSheet",o[o.CustomElement=16]="CustomElement",o))(be||{}),st=(o=>(o[o.MouseUp=0]="MouseUp",o[o.MouseDown=1]="MouseDown",o[o.Click=2]="Click",o[o.ContextMenu=3]="ContextMenu",o[o.DblClick=4]="DblClick",o[o.Focus=5]="Focus",o[o.Blur=6]="Blur",o[o.TouchStart=7]="TouchStart",o[o.TouchMove_Departed=8]="TouchMove_Departed",o[o.TouchEnd=9]="TouchEnd",o[o.TouchCancel=10]="TouchCancel",o))(st||{}),jt=(o=>(o[o.Mouse=0]="Mouse",o[o.Pen=1]="Pen",o[o.Touch=2]="Touch",o))(jt||{}),Un=(o=>(o[o["2D"]=0]="2D",o[o.WebGL=1]="WebGL",o[o.WebGL2=2]="WebGL2",o))(Un||{}),Dn=(o=>(o[o.Play=0]="Play",o[o.Pause=1]="Pause",o[o.Seeked=2]="Seeked",o[o.VolumeChange=3]="VolumeChange",o[o.RateChange=4]="RateChange",o))(Dn||{});function lu(o){return"__ln"in o}class bN{constructor(){x(this,"length",0),x(this,"head",null),x(this,"tail",null)}get(r){if(r>=this.length)throw new Error("Position outside of list range");let a=this.head;for(let c=0;c<r;c++)a=(a==null?void 0:a.next)||null;return a}addNode(r){const a={value:r,previous:null,next:null};if(r.__ln=a,r.previousSibling&&lu(r.previousSibling)){const c=r.previousSibling.__ln.next;a.next=c,a.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=a,c&&(c.previous=a)}else if(r.nextSibling&&lu(r.nextSibling)&&r.nextSibling.__ln.previous){const c=r.nextSibling.__ln.previous;a.previous=c,a.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=a,c&&(c.next=a)}else this.head&&(this.head.previous=a),a.next=this.head,this.head=a;a.next===null&&(this.tail=a),this.length++}removeNode(r){const a=r.__ln;this.head&&(a.previous?(a.previous.next=a.next,a.next?a.next.previous=a.previous:this.tail=a.previous):(this.head=a.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)}}const cu=(o,r)=>`${o}@${r}`;class yN{constructor(){x(this,"frozen",!1),x(this,"locked",!1),x(this,"texts",[]),x(this,"attributes",[]),x(this,"attributeMap",new WeakMap),x(this,"removes",[]),x(this,"mapRemoves",[]),x(this,"movedMap",{}),x(this,"addedSet",new Set),x(this,"movedSet",new Set),x(this,"droppedSet",new Set),x(this,"mutationCb"),x(this,"blockClass"),x(this,"blockSelector"),x(this,"maskTextClass"),x(this,"maskTextSelector"),x(this,"inlineStylesheet"),x(this,"maskInputOptions"),x(this,"maskTextFn"),x(this,"maskInputFn"),x(this,"keepIframeSrcFn"),x(this,"recordCanvas"),x(this,"inlineImages"),x(this,"privacySetting"),x(this,"slimDOMOptions"),x(this,"dataURLOptions"),x(this,"doc"),x(this,"mirror"),x(this,"iframeManager"),x(this,"stylesheetManager"),x(this,"shadowDomManager"),x(this,"canvasManager"),x(this,"processedNodeManager"),x(this,"unattachedDoc"),x(this,"processMutations",r=>{r.forEach(this.processMutation),this.emit()}),x(this,"emit",()=>{if(this.frozen||this.locked)return;const r=[],a=new Set,c=new bN,u=f=>{let T=f,v=Tr;for(;v===Tr;)T=T&&T.nextSibling,v=T&&this.mirror.getId(T);return v},p=f=>{const T=Lt(f);if(!T||!au(f)||T.tagName==="TEXTAREA")return;const v=Sr(T)?this.mirror.getId(su(f)):this.mirror.getId(T),I=u(f);if(v===-1||I===-1)return c.addNode(f);const Z=Wn(f,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,privacySetting:this.privacySetting,onSerialize:C=>{iu(C,this.mirror)&&this.iframeManager.addIframe(C),ou(C,this.mirror)&&this.stylesheetManager.trackLinkElement(C),Ws(f)&&this.shadowDomManager.addShadowRoot(_r(f),this.doc)},onIframeLoad:(C,k)=>{this.iframeManager.attachIframe(C,k),this.shadowDomManager.observeAttachShadow(C)},onStylesheetLoad:(C,k)=>{this.stylesheetManager.attachLinkElement(C,k)}});Z&&(r.push({parentId:v,nextId:I,node:Z}),a.add(Z.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const f of this.movedSet)uu(this.removes,f,this.mirror)&&!this.movedSet.has(Lt(f))||p(f);for(const f of this.addedSet)du(this.droppedSet,f)||uu(this.removes,f,this.mirror)?du(this.movedSet,f)?p(f):this.droppedSet.add(f):p(f);let m=null;for(;c.length;){let f=null;if(m){const T=this.mirror.getId(Lt(m.value)),v=u(m.value);T!==-1&&v!==-1&&(f=m)}if(!f){let T=c.tail;for(;T;){const v=T;if(T=T.previous,v){const I=this.mirror.getId(Lt(v.value));if(u(v.value)===-1)continue;if(I!==-1){f=v;break}{const Z=Lt(v.value);if(Z&&Z.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const C=An(Z);if(this.mirror.getId(C)!==-1){f=v;break}}}}}}if(!f){for(;c.head;)c.removeNode(c.head.value);break}m=f.previous,c.removeNode(f.value),p(f.value)}const y={texts:this.texts.map(f=>{var T,v;const I=f.node,Z=Lt(I);Z&&Z.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(Z);let C=f.value;const k=this.privacySetting==="strict",G=this.privacySetting==="default"&&Ac(C),A=(v=(T=f.node)==null?void 0:T.parentElement)==null?void 0:v.getAttribute("data-hl-record");return(k||G)&&!A&&C&&(C=Zs(C)),{id:this.mirror.getId(I),value:C}}).filter(f=>!a.has(f.id)).filter(f=>this.mirror.has(f.id)),attributes:this.attributes.map(f=>{const{attributes:T}=f;if(typeof T.style=="string"){const v=JSON.stringify(f.styleDiff),I=JSON.stringify(f._unchangedStyles);v.length<T.style.length&&(v+I).split("var(").length===T.style.split("var(").length&&(T.style=f.styleDiff)}return{id:this.mirror.getId(f.node),attributes:T}}).filter(f=>!a.has(f.id)).filter(f=>this.mirror.has(f.id)),removes:this.removes,adds:r};(y.texts.length||y.attributes.length||y.removes.length||y.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(y))}),x(this,"genTextAreaValueMutation",r=>{let a=this.attributeMap.get(r);a||(a={node:r,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(r,a)),a.attributes.value=Array.from(wi(r),c=>jc(c)||"").join("")}),x(this,"processMutation",r=>{if(!Xs(r.target,this.mirror,this.slimDOMOptions))switch(r.type){case"characterData":{const a=jc(r.target);je(r.target,this.blockClass,this.blockSelector,!1)||a===r.oldValue||this.texts.push({value:Kc(r.target,this.maskTextClass,this.maskTextSelector,!0)&&a?this.maskTextFn?this.maskTextFn(a,nu(r.target)):a.replace(/[\S]/g,"*"):a,node:r.target});break}case"attributes":{const a=r.target;let c=r.attributeName,u=r.target.getAttribute(c);if(c==="value"){const m=Ns(a);u=Rs({element:a,maskInputOptions:this.maskInputOptions,tagName:a.tagName,type:m,value:u,overwriteRecord:a.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(je(r.target,this.blockClass,this.blockSelector,!1)||u===r.oldValue)return;let p=this.attributeMap.get(r.target);if(a.tagName==="IFRAME"&&c==="src"&&!this.keepIframeSrcFn(u)){if(a.contentDocument)return;c="rr_src"}if(p||(p={node:r.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(p),this.attributeMap.set(r.target,p)),c==="type"&&a.tagName==="INPUT"&&(r.oldValue||"").toLowerCase()==="password"&&a.setAttribute("data-rr-is-password","true"),!Yc(a.tagName,c)){if(r.target.tagName==="INPUT"){const m=r.target;if(m.type==="password"){p.attributes.value="*".repeat(m.value.length);break}}if(p.attributes[c]=Fc(this.doc,Xn(a.tagName),Xn(c),u),c==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(y){this.unattachedDoc=this.doc}const m=this.unattachedDoc.createElement("span");r.oldValue&&m.setAttribute("style",r.oldValue);for(const y of Array.from(a.style)){const f=a.style.getPropertyValue(y),T=a.style.getPropertyPriority(y);f!==m.style.getPropertyValue(y)||T!==m.style.getPropertyPriority(y)?p.styleDiff[y]=T===""?f:[f,T]:p._unchangedStyles[y]=[f,T]}for(const y of Array.from(m.style))a.style.getPropertyValue(y)===""&&(p.styleDiff[y]=!1)}}break}case"childList":if(je(r.target,this.blockClass,this.blockSelector,!0))return;if(r.target.tagName==="TEXTAREA")return void this.genTextAreaValueMutation(r.target);r.addedNodes.forEach(a=>this.genAdds(a,r.target)),r.removedNodes.forEach(a=>{const c=this.mirror.getId(a),u=Sr(r.target)?this.mirror.getId(An(r.target)):this.mirror.getId(r.target);je(r.target,this.blockClass,this.blockSelector,!1)||Xs(a,this.mirror,this.slimDOMOptions)||!function(p,m){return m.getId(p)!==-1}(a,this.mirror)||(this.addedSet.has(a)?(ks(this.addedSet,a),this.droppedSet.add(a)):this.addedSet.has(r.target)&&c===-1||ru(r.target,this.mirror)||(this.movedSet.has(a)&&this.movedMap[cu(c,u)]?ks(this.movedSet,a):this.removes.push({parentId:u,id:c,isShadow:!(!Sr(r.target)||!gr(r.target))||void 0})),this.mapRemoves.push(a))})}}),x(this,"genAdds",(r,a)=>{if(!this.processedNodeManager.inOtherBuffer(r,this)&&!this.addedSet.has(r)&&!this.movedSet.has(r)){if(this.mirror.hasNode(r)){if(Xs(r,this.mirror,this.slimDOMOptions))return;this.movedSet.add(r);let c=null;a&&this.mirror.hasNode(a)&&(c=this.mirror.getId(a)),c&&c!==-1&&(this.movedMap[cu(this.mirror.getId(r),c)]=!0)}else this.addedSet.add(r),this.droppedSet.delete(r);je(r,this.blockClass,this.blockSelector,!1)||(wi(r).forEach(c=>this.genAdds(c)),Ws(r)&&wi(_r(r)).forEach(c=>{this.processedNodeManager.add(c,this),this.genAdds(c,r)}))}})}init(r){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(a=>{this[a]=r[a]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ks(o,r){o.delete(r),wi(r).forEach(a=>ks(o,a))}function uu(o,r,a){return o.length!==0&&function(c,u,p){let m=Lt(u);for(;m;){const y=p.getId(m);if(c.some(f=>f.id===y))return!0;m=Lt(m)}return!1}(o,r,a)}function du(o,r){return o.size!==0&&pu(o,r)}function pu(o,r){const a=Lt(r);return!!a&&(!!o.has(a)||pu(o,a))}let Ir;const ge=o=>Ir?(...r)=>{try{return o(...r)}catch(a){if(Ir&&Ir(a)===!0)return;throw a}}:o,an=[];function Rr(o){try{if("composedPath"in o){const r=o.composedPath();if(r.length)return r[0]}else if("path"in o&&o.path.length)return o.path[0]}catch(r){}return o&&o.target}function hu(o,r){const a=new yN;an.push(a),a.init(o);const c=new(ws("MutationObserver")).constructor(ge(a.processMutations.bind(a)));return c.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),c}function SN({mouseInteractionCb:o,doc:r,mirror:a,blockClass:c,blockSelector:u,sampling:p}){if(p.mouseInteraction===!1)return()=>{};const m=p.mouseInteraction===!0||p.mouseInteraction===void 0?{}:p.mouseInteraction,y=[];let f=null;return Object.keys(st).filter(T=>Number.isNaN(Number(T))&&!T.endsWith("_Departed")&&m[T]!==!1).forEach(T=>{let v=Xn(T);const I=(Z=>C=>{const k=Rr(C);if(je(k,c,u,!0)||hN(k))return;let G=null,A=Z;if("pointerType"in C){switch(C.pointerType){case"mouse":G=jt.Mouse;break;case"touch":G=jt.Touch;break;case"pen":G=jt.Pen}G===jt.Touch&&(st[Z]===st.MouseDown?A="TouchStart":st[Z]===st.MouseUp&&(A="TouchEnd"))}else Ps(C)&&(G=jt.Touch);G!==null?(f=G,(A.startsWith("Touch")&&G===jt.Touch||A.startsWith("Mouse")&&G===jt.Mouse)&&(G=null)):st[Z]===st.Click&&(G=f,f=null);const V=Ps(C)?C.changedTouches[0]:C;if(!V)return;const X=a.getId(k),{clientX:O,clientY:P}=V;ge(o)(S({type:st[A],id:X,x:O,y:P},G!==null&&{pointerType:G}))})(T);if(window.PointerEvent)switch(st[T]){case st.MouseDown:case st.MouseUp:v=v.replace("mouse","pointer");break;case st.TouchStart:case st.TouchEnd:return}y.push(qe(v,I,r))}),ge(()=>{y.forEach(T=>T())})}function mu({scrollCb:o,doc:r,mirror:a,blockClass:c,blockSelector:u,sampling:p}){return qe("scroll",ge(Er(ge(m=>{const y=Rr(m);if(!y||je(y,c,u,!0))return;const f=a.getId(y);if(y===r&&r.defaultView){const T=qc(r.defaultView);o({id:f,x:T.left,y:T.top})}else o({id:f,x:y.scrollLeft,y:y.scrollTop})}),p.scroll||100)),r)}const gN=["INPUT","TEXTAREA","SELECT"],fu=new WeakMap;function Xi(o){return function(r,a){if(Pi("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Pi("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Pi("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Pi("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const c=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(c)}else if(r.parentStyleSheet){const c=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(c)}return a}(o,[])}function Qt(o,r,a){let c,u;return o?(o.ownerNode?c=r.getId(o.ownerNode):u=a.getId(o),{styleId:u,id:c}):{}}function bu({mirror:o,stylesheetManager:r},a){var c,u,p;let m=null;m=a.nodeName==="#document"?o.getId(a):o.getId(An(a));const y=a.nodeName==="#document"?(c=a.defaultView)==null?void 0:c.Document:(p=(u=a.ownerDocument)==null?void 0:u.defaultView)==null?void 0:p.ShadowRoot,f=y!=null&&y.prototype?Object.getOwnPropertyDescriptor(y==null?void 0:y.prototype,"adoptedStyleSheets"):void 0;return m!==null&&m!==-1&&y&&f?(Object.defineProperty(a,"adoptedStyleSheets",{configurable:f.configurable,enumerable:f.enumerable,get(){var T;return(T=f.get)==null?void 0:T.call(this)},set(T){var v;const I=(v=f.set)==null?void 0:v.call(this,T);if(m!==null&&m!==-1)try{r.adoptStyleSheets(T,m)}catch(Z){}return I}}),ge(()=>{Object.defineProperty(a,"adoptedStyleSheets",{configurable:f.configurable,enumerable:f.enumerable,get:f.get,set:f.set})})):()=>{}}function TN(o,r={}){const a=o.doc.defaultView;if(!a)return()=>{};let c;(function(V,X){const{mutationCb:O,mousemoveCb:P,mouseInteractionCb:Y,scrollCb:j,viewportResizeCb:te,inputCb:ne,mediaInteractionCb:Q,styleSheetRuleCb:z,styleDeclarationCb:ee,canvasMutationCb:K,fontCb:E,selectionCb:M,customElementCb:H}=V;V.mutationCb=(...F)=>{X.mutation&&X.mutation(...F),O(...F)},V.mousemoveCb=(...F)=>{X.mousemove&&X.mousemove(...F),P(...F)},V.mouseInteractionCb=(...F)=>{X.mouseInteraction&&X.mouseInteraction(...F),Y(...F)},V.scrollCb=(...F)=>{X.scroll&&X.scroll(...F),j(...F)},V.viewportResizeCb=(...F)=>{X.viewportResize&&X.viewportResize(...F),te(...F)},V.inputCb=(...F)=>{X.input&&X.input(...F),ne(...F)},V.mediaInteractionCb=(...F)=>{X.mediaInteaction&&X.mediaInteaction(...F),Q(...F)},V.styleSheetRuleCb=(...F)=>{X.styleSheetRule&&X.styleSheetRule(...F),z(...F)},V.styleDeclarationCb=(...F)=>{X.styleDeclaration&&X.styleDeclaration(...F),ee(...F)},V.canvasMutationCb=(...F)=>{X.canvasMutation&&X.canvasMutation(...F),K(...F)},V.fontCb=(...F)=>{X.font&&X.font(...F),E(...F)},V.selectionCb=(...F)=>{X.selection&&X.selection(...F),M(...F)},V.customElementCb=(...F)=>{X.customElement&&X.customElement(...F),H(...F)}})(o,r),o.recordDOM&&(c=hu(o,o.doc));const u=function({mousemoveCb:V,sampling:X,doc:O,mirror:P}){if(X.mousemove===!1)return()=>{};const Y=typeof X.mousemove=="number"?X.mousemove:50,j=typeof X.mousemoveCallback=="number"?X.mousemoveCallback:500;let te,ne=[];const Q=Er(ge(K=>{const E=Date.now()-te;V(ne.map(M=>(M.timeOffset-=E,M)),K),ne=[],te=null}),j),z=ge(Er(ge(K=>{const E=Rr(K),{clientX:M,clientY:H}=Ps(K)?K.changedTouches[0]:K;te||(te=Vi()),ne.push({x:M,y:H,id:P.getId(E),timeOffset:Vi()-te}),Q(typeof DragEvent!="undefined"&&K instanceof DragEvent?be.Drag:K instanceof MouseEvent?be.MouseMove:be.TouchMove)}),Y,{trailing:!1})),ee=[qe("mousemove",z,O),qe("touchmove",z,O),qe("drag",z,O)];return ge(()=>{ee.forEach(K=>K())})}(o),p=SN(o),m=mu(o),y=function({viewportResizeCb:V},{win:X}){let O=-1,P=-1;return qe("resize",ge(Er(ge(()=>{const Y=eu(),j=tu();O===Y&&P===j||(V({width:Number(j),height:Number(Y)}),O=Y,P=j)}),200)),X)}(o,{win:a}),f=function({inputCb:V,doc:X,mirror:O,blockClass:P,blockSelector:Y,ignoreClass:j,ignoreSelector:te,maskInputOptions:ne,maskInputFn:Q,sampling:z,userTriggeredOnInput:ee}){function K(W){let J=Rr(W);const ve=W.isTrusted,ye=J&&J.tagName;if(J&&ye==="OPTION"&&(J=Li(J)),!J||!ye||gN.indexOf(ye)<0||je(J,P,Y,!0)||J.classList.contains(j)||te&&J.matches(te))return;let pe=J.value,ae=!1;const nt=Ns(J)||"",Qe=J.getAttribute("data-hl-record");nt==="radio"||nt==="checkbox"?ae=J.checked:Mc({maskInputOptions:ne,type:nt,tagName:ye,overwriteRecord:Qe})&&(pe=Rs({element:J,maskInputOptions:ne,tagName:ye,type:nt,value:pe,overwriteRecord:Qe,maskInputFn:Q})),E(J,ee?{text:pe,isChecked:ae,userTriggered:ve}:{text:pe,isChecked:ae});const $=J.name;nt==="radio"&&$&&ae&&X.querySelectorAll(`input[type="radio"][name="${$}"]`).forEach(ue=>{if(ue!==J){const Fe=ue.value;E(ue,ee?{text:Fe,isChecked:!ae,userTriggered:!1}:{text:Fe,isChecked:!ae})}})}function E(W,J){const ve=fu.get(W);if(!ve||ve.text!==J.text||ve.isChecked!==J.isChecked){fu.set(W,J);const ye=O.getId(W);ge(V)(_(S({},J),{id:ye}))}}const M=(z.input==="last"?["change"]:["input","change"]).map(W=>qe(W,ge(K),X)),H=X.defaultView;if(!H)return()=>{M.forEach(W=>W())};const F=H.Object.getOwnPropertyDescriptor(H.HTMLInputElement.prototype,"value"),oe=[[H.HTMLInputElement.prototype,"value"],[H.HTMLInputElement.prototype,"checked"],[H.HTMLSelectElement.prototype,"value"],[H.HTMLTextAreaElement.prototype,"value"],[H.HTMLSelectElement.prototype,"selectedIndex"],[H.HTMLOptionElement.prototype,"selected"]];return F&&F.set&&M.push(...oe.map(W=>Gi(W[0],W[1],{set(){ge(K)({target:this,isTrusted:!1})}},!1,H))),ge(()=>{M.forEach(W=>W())})}(o),T=function({mediaInteractionCb:V,blockClass:X,blockSelector:O,mirror:P,sampling:Y,doc:j}){const te=ge(Q=>Er(ge(z=>{const ee=Rr(z);if(!ee||je(ee,X,O,!0))return;const{currentTime:K,volume:E,muted:M,playbackRate:H,loop:F}=ee;V({type:Q,id:P.getId(ee),currentTime:K,volume:E,muted:M,playbackRate:H,loop:F})}),Y.media||500)),ne=[qe("play",te(Dn.Play),j),qe("pause",te(Dn.Pause),j),qe("seeked",te(Dn.Seeked),j),qe("volumechange",te(Dn.VolumeChange),j),qe("ratechange",te(Dn.RateChange),j)];return ge(()=>{ne.forEach(Q=>Q())})}(o);let v=()=>{},I=()=>{},Z=()=>{},C=()=>{};o.recordDOM&&(v=function({styleSheetRuleCb:V,mirror:X,stylesheetManager:O},{win:P}){if(!P.CSSStyleSheet||!P.CSSStyleSheet.prototype)return()=>{};const Y=P.CSSStyleSheet.prototype.insertRule;P.CSSStyleSheet.prototype.insertRule=new Proxy(Y,{apply:ge((ee,K,E)=>{const[M,H]=E,{id:F,styleId:oe}=Qt(K,X,O.styleMirror);return(F&&F!==-1||oe&&oe!==-1)&&V({id:F,styleId:oe,adds:[{rule:M,index:H}]}),ee.apply(K,E)})});const j=P.CSSStyleSheet.prototype.deleteRule;let te,ne;P.CSSStyleSheet.prototype.deleteRule=new Proxy(j,{apply:ge((ee,K,E)=>{const[M]=E,{id:H,styleId:F}=Qt(K,X,O.styleMirror);return(H&&H!==-1||F&&F!==-1)&&V({id:H,styleId:F,removes:[{index:M}]}),ee.apply(K,E)})}),P.CSSStyleSheet.prototype.replace&&(te=P.CSSStyleSheet.prototype.replace,P.CSSStyleSheet.prototype.replace=new Proxy(te,{apply:ge((ee,K,E)=>{const[M]=E,{id:H,styleId:F}=Qt(K,X,O.styleMirror);return(H&&H!==-1||F&&F!==-1)&&V({id:H,styleId:F,replace:M}),ee.apply(K,E)})})),P.CSSStyleSheet.prototype.replaceSync&&(ne=P.CSSStyleSheet.prototype.replaceSync,P.CSSStyleSheet.prototype.replaceSync=new Proxy(ne,{apply:ge((ee,K,E)=>{const[M]=E,{id:H,styleId:F}=Qt(K,X,O.styleMirror);return(H&&H!==-1||F&&F!==-1)&&V({id:H,styleId:F,replaceSync:M}),ee.apply(K,E)})}));const Q={};Wi("CSSGroupingRule")?Q.CSSGroupingRule=P.CSSGroupingRule:(Wi("CSSMediaRule")&&(Q.CSSMediaRule=P.CSSMediaRule),Wi("CSSConditionRule")&&(Q.CSSConditionRule=P.CSSConditionRule),Wi("CSSSupportsRule")&&(Q.CSSSupportsRule=P.CSSSupportsRule));const z={};return Object.entries(Q).forEach(([ee,K])=>{z[ee]={insertRule:K.prototype.insertRule,deleteRule:K.prototype.deleteRule},K.prototype.insertRule=new Proxy(z[ee].insertRule,{apply:ge((E,M,H)=>{const[F,oe]=H,{id:W,styleId:J}=Qt(M.parentStyleSheet,X,O.styleMirror);return(W&&W!==-1||J&&J!==-1)&&V({id:W,styleId:J,adds:[{rule:F,index:[...Xi(M),oe||0]}]}),E.apply(M,H)})}),K.prototype.deleteRule=new Proxy(z[ee].deleteRule,{apply:ge((E,M,H)=>{const[F]=H,{id:oe,styleId:W}=Qt(M.parentStyleSheet,X,O.styleMirror);return(oe&&oe!==-1||W&&W!==-1)&&V({id:oe,styleId:W,removes:[{index:[...Xi(M),F]}]}),E.apply(M,H)})})}),ge(()=>{P.CSSStyleSheet.prototype.insertRule=Y,P.CSSStyleSheet.prototype.deleteRule=j,te&&(P.CSSStyleSheet.prototype.replace=te),ne&&(P.CSSStyleSheet.prototype.replaceSync=ne),Object.entries(Q).forEach(([ee,K])=>{K.prototype.insertRule=z[ee].insertRule,K.prototype.deleteRule=z[ee].deleteRule})})}(o,{win:a}),I=bu(o,o.doc),Z=function({styleDeclarationCb:V,mirror:X,ignoreCSSAttributes:O,stylesheetManager:P},{win:Y}){const j=Y.CSSStyleDeclaration.prototype.setProperty;Y.CSSStyleDeclaration.prototype.setProperty=new Proxy(j,{apply:ge((ne,Q,z)=>{var ee;const[K,E,M]=z;if(O.has(K))return j.apply(Q,[K,E,M]);const{id:H,styleId:F}=Qt((ee=Q.parentRule)==null?void 0:ee.parentStyleSheet,X,P.styleMirror);return(H&&H!==-1||F&&F!==-1)&&V({id:H,styleId:F,set:{property:K,value:E,priority:M},index:Xi(Q.parentRule)}),ne.apply(Q,z)})});const te=Y.CSSStyleDeclaration.prototype.removeProperty;return Y.CSSStyleDeclaration.prototype.removeProperty=new Proxy(te,{apply:ge((ne,Q,z)=>{var ee;const[K]=z;if(O.has(K))return te.apply(Q,[K]);const{id:E,styleId:M}=Qt((ee=Q.parentRule)==null?void 0:ee.parentStyleSheet,X,P.styleMirror);return(E&&E!==-1||M&&M!==-1)&&V({id:E,styleId:M,remove:{property:K},index:Xi(Q.parentRule)}),ne.apply(Q,z)})}),ge(()=>{Y.CSSStyleDeclaration.prototype.setProperty=j,Y.CSSStyleDeclaration.prototype.removeProperty=te})}(o,{win:a}),o.collectFonts&&(C=function({fontCb:V,doc:X}){const O=X.defaultView;if(!O)return()=>{};const P=[],Y=new WeakMap,j=O.FontFace;O.FontFace=function(ne,Q,z){const ee=new j(ne,Q,z);return Y.set(ee,{family:ne,buffer:typeof Q!="string",descriptors:z,fontSource:typeof Q=="string"?Q:JSON.stringify(Array.from(new Uint8Array(Q)))}),ee};const te=xn(X.fonts,"add",function(ne){return function(Q){return setTimeout(ge(()=>{const z=Y.get(Q);z&&(V(z),Y.delete(Q))}),0),ne.apply(this,[Q])}});return P.push(()=>{O.FontFace=j}),P.push(te),ge(()=>{P.forEach(ne=>ne())})}(o)));const k=function(V){const{doc:X,mirror:O,blockClass:P,blockSelector:Y,selectionCb:j}=V;let te=!0;const ne=ge(()=>{const Q=X.getSelection();if(!Q||te&&(Q!=null&&Q.isCollapsed))return;te=Q.isCollapsed||!1;const z=[],ee=Q.rangeCount||0;for(let K=0;K<ee;K++){const E=Q.getRangeAt(K),{startContainer:M,startOffset:H,endContainer:F,endOffset:oe}=E;je(M,P,Y,!0)||je(F,P,Y,!0)||z.push({start:O.getId(M),startOffset:H,end:O.getId(F),endOffset:oe})}j({ranges:z})});return ne(),qe("selectionchange",ne)}(o),G=function({doc:V,customElementCb:X}){const O=V.defaultView;return O&&O.customElements?xn(O.customElements,"define",function(P){return function(Y,j,te){try{X({define:{name:Y}})}catch(ne){console.warn(`Custom element callback failed for ${Y}`)}return P.apply(this,[Y,j,te])}}):()=>{}}(o),A=[];for(const V of o.plugins)A.push(V.observer(V.callback,a,V.options));return ge(()=>{an.forEach(V=>V.reset()),c==null||c.disconnect(),u(),p(),m(),y(),f(),T(),v(),I(),Z(),C(),k(),G(),A.forEach(V=>V())})}function Pi(o){return window[o]!==void 0}function Wi(o){return!!(window[o]!==void 0&&window[o].prototype&&"insertRule"in window[o].prototype&&"deleteRule"in window[o].prototype)}class yu{constructor(r){x(this,"iframeIdToRemoteIdMap",new WeakMap),x(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=r}getId(r,a,c,u){const p=c||this.getIdToRemoteIdMap(r),m=u||this.getRemoteIdToIdMap(r);let y=p.get(a);return y||(y=this.generateIdFn(),p.set(a,y),m.set(y,a)),y}getIds(r,a){const c=this.getIdToRemoteIdMap(r),u=this.getRemoteIdToIdMap(r);return a.map(p=>this.getId(r,p,c,u))}getRemoteId(r,a,c){const u=c||this.getRemoteIdToIdMap(r);return typeof a!="number"?a:u.get(a)||-1}getRemoteIds(r,a){const c=this.getRemoteIdToIdMap(r);return a.map(u=>this.getRemoteId(r,u,c))}reset(r){if(!r)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)}getIdToRemoteIdMap(r){let a=this.iframeIdToRemoteIdMap.get(r);return a||(a=new Map,this.iframeIdToRemoteIdMap.set(r,a)),a}getRemoteIdToIdMap(r){let a=this.iframeRemoteIdToIdMap.get(r);return a||(a=new Map,this.iframeRemoteIdToIdMap.set(r,a)),a}}class vN{constructor(r){x(this,"iframes",new WeakMap),x(this,"crossOriginIframeMap",new WeakMap),x(this,"crossOriginIframeMirror",new yu(xc)),x(this,"crossOriginIframeStyleMirror"),x(this,"crossOriginIframeRootIdMap",new WeakMap),x(this,"mirror"),x(this,"mutationCb"),x(this,"wrappedEmit"),x(this,"loadListener"),x(this,"stylesheetManager"),x(this,"recordCrossOriginIframes"),this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new yu(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)}addLoadListener(r){this.loadListener=r}attachIframe(r,a){var c,u;this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:a}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((c=r.contentWindow)==null||c.addEventListener("message",this.handleMessage.bind(this))),(u=this.loadListener)==null||u.call(this,r),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))}handleMessage(r){const a=r;if(a.data.type!=="rrweb"||a.origin!==a.data.origin)return;const c=r.source;if(!c)return;const u=this.crossOriginIframeMap.get(c);if(!u)return;const p=this.transformCrossOriginEvent(u,a.data.event);p&&this.wrappedEmit(p,a.data.isCheckout)}transformCrossOriginEvent(r,a){var c;switch(a.type){case Te.FullSnapshot:{this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(a.data.node,r);const u=a.data.node.id;return this.crossOriginIframeRootIdMap.set(r,u),this.patchRootIdOnNode(a.data.node,u),{timestamp:a.timestamp,type:Te.IncrementalSnapshot,data:{source:be.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:a.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Te.Meta:case Te.Load:case Te.DomContentLoaded:return!1;case Te.Plugin:return a;case Te.Custom:return this.replaceIds(a.data.payload,r,["id","parentId","previousId","nextId"]),a;case Te.IncrementalSnapshot:switch(a.data.source){case be.Mutation:return a.data.adds.forEach(u=>{this.replaceIds(u,r,["parentId","nextId","previousId"]),this.replaceIdOnNode(u.node,r);const p=this.crossOriginIframeRootIdMap.get(r);p&&this.patchRootIdOnNode(u.node,p)}),a.data.removes.forEach(u=>{this.replaceIds(u,r,["parentId","id"])}),a.data.attributes.forEach(u=>{this.replaceIds(u,r,["id"])}),a.data.texts.forEach(u=>{this.replaceIds(u,r,["id"])}),a;case be.Drag:case be.TouchMove:case be.MouseMove:return a.data.positions.forEach(u=>{this.replaceIds(u,r,["id"])}),a;case be.ViewportResize:return!1;case be.MediaInteraction:case be.MouseInteraction:case be.Scroll:case be.CanvasMutation:case be.Input:return this.replaceIds(a.data,r,["id"]),a;case be.StyleSheetRule:case be.StyleDeclaration:return this.replaceIds(a.data,r,["id"]),this.replaceStyleIds(a.data,r,["styleId"]),a;case be.Font:return a;case be.Selection:return a.data.ranges.forEach(u=>{this.replaceIds(u,r,["start","end"])}),a;case be.AdoptedStyleSheet:return this.replaceIds(a.data,r,["id"]),this.replaceStyleIds(a.data,r,["styleIds"]),(c=a.data.styles)==null||c.forEach(u=>{this.replaceStyleIds(u,r,["styleId"])}),a}}return!1}replace(r,a,c,u){for(const p of u)(Array.isArray(a[p])||typeof a[p]=="number")&&(Array.isArray(a[p])?a[p]=r.getIds(c,a[p]):a[p]=r.getId(c,a[p]));return a}replaceIds(r,a,c){return this.replace(this.crossOriginIframeMirror,r,a,c)}replaceStyleIds(r,a,c){return this.replace(this.crossOriginIframeStyleMirror,r,a,c)}replaceIdOnNode(r,a){this.replaceIds(r,a,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(c=>{this.replaceIdOnNode(c,a)})}patchRootIdOnNode(r,a){r.type===Ie.Document||r.rootId||(r.rootId=a),"childNodes"in r&&r.childNodes.forEach(c=>{this.patchRootIdOnNode(c,a)})}}class _N{constructor(r){x(this,"shadowDoms",new WeakSet),x(this,"mutationCb"),x(this,"scrollCb"),x(this,"bypassOptions"),x(this,"mirror"),x(this,"restoreHandlers",[]),this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(r,a){if(!gr(r)||this.shadowDoms.has(r))return;this.shadowDoms.add(r);const c=hu(_(S({},this.bypassOptions),{doc:a,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),r);this.restoreHandlers.push(()=>c.disconnect()),this.restoreHandlers.push(mu(_(S({},this.bypassOptions),{scrollCb:this.scrollCb,doc:r,mirror:this.mirror}))),setTimeout(()=>{r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(An(r))),this.restoreHandlers.push(bu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},r))},0)}observeAttachShadow(r){r.contentWindow&&r.contentDocument&&this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)}patchAttachShadow(r,a){const c=this;this.restoreHandlers.push(xn(r.prototype,"attachShadow",function(u){return function(p){const m=u.call(this,p),y=_r(this);return y&&au(this)&&c.addShadowRoot(y,a),m}}))}reset(){this.restoreHandlers.forEach(r=>{try{r()}catch(a){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EN=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),ki=0;ki<64;ki++)EN[Nr.charCodeAt(ki)]=ki;const Su=new Map,gu=(o,r,a)=>{if(!o||!vu(o,r)&&typeof o!="object")return;const c=function(p,m){let y=Su.get(p);return y||(y=new Map,Su.set(p,y)),y.has(m)||y.set(m,[]),y.get(m)}(a,o.constructor.name);let u=c.indexOf(o);return u===-1&&(u=c.length,c.push(o)),u};function Ai(o,r,a){if(o instanceof Array)return o.map(c=>Ai(c,r,a));if(o===null)return o;if(o instanceof Float32Array||o instanceof Float64Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Uint8Array||o instanceof Uint16Array||o instanceof Int16Array||o instanceof Int8Array||o instanceof Uint8ClampedArray)return{rr_type:o.constructor.name,args:[Object.values(o)]};if(o instanceof ArrayBuffer)return{rr_type:o.constructor.name,base64:function(c){var u,p=new Uint8Array(c),m=p.length,y="";for(u=0;u<m;u+=3)y+=Nr[p[u]>>2],y+=Nr[(3&p[u])<<4|p[u+1]>>4],y+=Nr[(15&p[u+1])<<2|p[u+2]>>6],y+=Nr[63&p[u+2]];return m%3==2?y=y.substring(0,y.length-1)+"=":m%3==1&&(y=y.substring(0,y.length-2)+"=="),y}(o)};if(o instanceof DataView)return{rr_type:o.constructor.name,args:[Ai(o.buffer,r,a),o.byteOffset,o.byteLength]};if(o instanceof HTMLImageElement){const c=o.constructor.name,{src:u}=o;return{rr_type:c,src:u}}return o instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:o.toDataURL()}:o instanceof ImageData?{rr_type:o.constructor.name,args:[Ai(o.data,r,a),o.width,o.height]}:vu(o,r)||typeof o=="object"?{rr_type:o.constructor.name,index:gu(o,r,a)}:o}const Tu=(o,r,a)=>o.map(c=>Ai(c,r,a)),vu=(o,r)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(c=>typeof r[c]=="function").find(c=>o instanceof r[c]);function _u(o,r,a,c){const u=[];try{const p=xn(o.HTMLCanvasElement.prototype,"getContext",function(m){return function(y,...f){if(!je(this,r,a,!0)){const T=function(v){return v==="experimental-webgl"?"webgl":v}(y);if("__context"in this||(this.__context=T),c&&["webgl","webgl2"].includes(T))if(f[0]&&typeof f[0]=="object"){const v=f[0];v.preserveDrawingBuffer||(v.preserveDrawingBuffer=!0)}else f.splice(0,1,{preserveDrawingBuffer:!0})}return m.apply(this,[y,...f])}});u.push(p)}catch(p){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{u.forEach(p=>p())}}function Eu(o,r,a,c,u,p){const m=[],y=Object.getOwnPropertyNames(o);for(const f of y)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(f))try{if(typeof o[f]!="function")continue;const T=xn(o,f,function(v){return function(...I){const Z=v.apply(this,I);if(gu(Z,p,this),"tagName"in this.canvas&&!je(this.canvas,c,u,!0)){const C=Tu(I,p,this),k={type:r,property:f,args:C};a(this.canvas,k)}return Z}});m.push(T)}catch(T){const v=Gi(o,f,{set(I){a(this.canvas,{type:r,property:f,args:[I],setter:!0})}});m.push(v)}return m}const Iu="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfQogIGNvbnN0IHdvcmtlciA9IHNlbGY7CiAgbGV0IGxvZ0RlYnVnID0gZmFsc2U7CiAgY29uc3QgZGVidWcgPSAoLi4uYXJncykgPT4gewogICAgaWYgKGxvZ0RlYnVnKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoLi4uYXJncyk7CiAgICB9CiAgfTsKICB3b3JrZXIub25tZXNzYWdlID0gYXN5bmMgZnVuY3Rpb24oZSkgewogICAgbG9nRGVidWcgPSAhIWUuZGF0YS5sb2dEZWJ1ZzsKICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgZHgsIGR5LCBkdywgZGgsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgZGVidWcoIltoaWdobGlnaHQtd29ya2VyXSBjYW52YXMgYml0bWFwIGlzIHRyYW5zcGFyZW50IiwgewogICAgICAgICAgaWQsCiAgICAgICAgICBiYXNlNjQKICAgICAgICB9KTsKICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkLCBzdGF0dXM6ICJ0cmFuc3BhcmVudCIgfSk7CiAgICAgIH0KICAgICAgaWYgKGxhc3RCbG9iTWFwLmdldChpZCkgPT09IGJhc2U2NCkgewogICAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBpcyB1bmNoYW5nZWQiLCB7CiAgICAgICAgICBpZCwKICAgICAgICAgIGJhc2U2NAogICAgICAgIH0pOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCwgc3RhdHVzOiAidW5jaGFuZ2VkIiB9KTsKICAgICAgfQogICAgICBjb25zdCBtc2cgPSB7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGR4LAogICAgICAgIGR5LAogICAgICAgIGR3LAogICAgICAgIGRoCiAgICAgIH07CiAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBwcm9jZXNzZWQiLCBtc2cpOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgZGVidWcoIltoaWdobGlnaHQtd29ya2VyXSBubyBvZmZzY3JlZW5jYW52YXMgc3VwcG9ydCIsIHsKICAgICAgICBpZDogZS5kYXRhLmlkCiAgICAgIH0pOwogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgc3RhdHVzOiAidW5zdXBwb3J0ZWQiIH0pOwogICAgfQogIH07Cn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlLWJpdG1hcC1kYXRhLXVybC13b3JrZXItS0tvQ2VrWjEuanMubWFwCg==",Ru=typeof window!="undefined"&&window.Blob&&new Blob([(Nu=Iu,Uint8Array.from(atob(Nu),o=>o.charCodeAt(0)))],{type:"text/javascript;charset=utf-8"});var Nu;function IN(o){let r;try{if(r=Ru&&(window.URL||window.webkitURL).createObjectURL(Ru),!r)throw"";const a=new Worker(r,{name:o==null?void 0:o.name});return a.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(r)}),a}catch(a){return new Worker("data:text/javascript;base64,"+Iu,{name:o==null?void 0:o.name})}finally{r&&(window.URL||window.webkitURL).revokeObjectURL(r)}}class RN{constructor(r){x(this,"pendingCanvasMutations",new Map),x(this,"rafStamps",{latestId:0,invokeId:null}),x(this,"mirror"),x(this,"logger"),x(this,"worker"),x(this,"snapshotInProgressMap",new Map),x(this,"lastSnapshotTime",new Map),x(this,"options"),x(this,"mutationCb"),x(this,"resetObservers"),x(this,"frozen",!1),x(this,"locked",!1),x(this,"processMutation",(v,I)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(v)||this.pendingCanvasMutations.set(v,[]),this.pendingCanvasMutations.get(v).push(I)});const{sampling:a,win:c,blockClass:u,blockSelector:p,recordCanvas:m,recordVideos:y,initialSnapshotDelay:f,dataURLOptions:T}=r;this.mutationCb=r.mutationCb,this.mirror=r.mirror,this.logger=r.logger,this.worker=new IN,this.worker.onmessage=v=>{const{id:I}=v.data;if(this.snapshotInProgressMap.set(I,!1),!("base64"in v.data))return void this.debug(null,"canvas worker received empty message",{data:v.data,status:v.data.status});const{base64:Z,type:C,dx:k,dy:G,dw:A,dh:V}=v.data,X={id:I,type:Un["2D"],commands:[{property:"clearRect",args:[k,G,A,V]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:Z}],type:C}]},k,G,A,V]}]};this.debug(null,"canvas worker recording mutation",X),this.mutationCb(X)},this.options=r,m&&a==="all"?(this.debug(null,"initializing canvas mutation observer",{sampling:a}),this.initCanvasMutationObserver(c,u,p)):m&&typeof a=="number"&&(this.debug(null,"initializing canvas fps observer",{sampling:a}),this.initCanvasFPSObserver(y,a,c,u,p,{initialSnapshotDelay:f,dataURLOptions:T},r.resizeFactor,r.maxSnapshotDimension))}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}debug(r,...a){if(!this.logger)return;const c=this.mirror.getId(r);let u="[highlight-canvas-manager]";r&&(u=`[highlight-canvas] [id:${c}]`,r.tagName.toLowerCase()==="canvas"&&(u+=` [ctx:${r.__context}]`)),this.logger.debug(u,r,...a)}snapshot(r){return w(this,null,function*(){var a;const c=this.mirror.getId(r);if(this.snapshotInProgressMap.get(c))return void this.debug(r,"snapshotting already in progress for",c);const u=1e3/(typeof this.options.samplingManual=="number"?this.options.samplingManual:1),p=this.lastSnapshotTime.get(c);if(!(p&&new Date().getTime()-p<u))if(this.debug(r,"starting snapshotting"),r.width!==0&&r.height!==0){this.lastSnapshotTime.set(c,new Date().getTime()),this.snapshotInProgressMap.set(c,!0);try{if(this.options.clearWebGLBuffer!==!1&&["webgl","webgl2"].includes(r.__context)){const v=r.getContext(r.__context);((a=v==null?void 0:v.getContextAttributes())==null?void 0:a.preserveDrawingBuffer)===!1&&(v.clear(v.COLOR_BUFFER_BIT),this.debug(r,"cleared webgl canvas to load it into memory",{attributes:v==null?void 0:v.getContextAttributes()}))}if(r.width===0||r.height===0)return void this.debug(r,"not yet ready",{width:r.width,height:r.height});let m=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const v=Math.max(r.width,r.height);m=Math.min(m,this.options.maxSnapshotDimension/v)}const y=r.width*m,f=r.height*m,T=yield createImageBitmap(r,{resizeWidth:y,resizeHeight:f});this.debug(r,"created image bitmap",{width:T.width,height:T.height}),this.worker.postMessage({id:c,bitmap:T,width:y,height:f,dx:0,dy:0,dw:r.width,dh:r.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[T]),this.debug(r,"sent message")}catch(m){this.debug(r,"failed to snapshot",m)}finally{this.snapshotInProgressMap.set(c,!1)}}else this.debug(r,"not yet ready",{width:r.width,height:r.height})})}initCanvasFPSObserver(r,a,c,u,p,m,y,f){const T=_u(c,u,p,!0),v=1e3/a;let I,Z=0;const C=new Map,k=V=>{const X=[];return c.document.querySelectorAll("canvas").forEach(O=>{if(!je(O,u,p,!0)){this.debug(O,"discovered canvas"),X.push(O);const P=this.mirror.getId(O);C.has(P)||C.set(P,V)}}),X},G=V=>{const X=[];return r&&c.document.querySelectorAll("video").forEach(O=>{if((O.src===""||O.src.indexOf("blob:")!==-1)&&!je(O,u,p,!0)){X.push(O);const P=this.mirror.getId(O);C.has(P)||C.set(P,V)}}),X},A=V=>w(this,null,function*(){if(Z&&V-Z<v)return void(I=requestAnimationFrame(A));Z=V;const X=P=>{const Y=this.mirror.getId(P),j=C.get(Y),te=!m.initialSnapshotDelay||V-j>m.initialSnapshotDelay;return this.debug(P,{delay:m.initialSnapshotDelay,delta:V-j,hadLoadingTime:te}),te},O=[];O.push(...k(V).filter(X).map(P=>this.snapshot(P))),O.push(...G(V).filter(X).map(P=>w(this,null,function*(){this.debug(P,"starting video snapshotting");const Y=this.mirror.getId(P);if(this.snapshotInProgressMap.get(Y))this.debug(P,"video snapshotting already in progress for",Y);else{this.snapshotInProgressMap.set(Y,!0);try{const{width:j,height:te}=P.getBoundingClientRect(),{actualWidth:ne,actualHeight:Q}={actualWidth:P.videoWidth,actualHeight:P.videoHeight},z=Math.max(ne,Q);if(P.width===0||P.height===0||ne===0||Q===0||j===0||te===0)return void this.debug(P,"not yet ready",{width:P.width,height:P.height});let ee=y||1;f&&(ee=Math.min(ee,f/z));const K=ne*ee,E=Q*ee,M=yield createImageBitmap(P,{resizeWidth:K,resizeHeight:E}),H=Math.max(j,te)/z,F=ne*H,oe=Q*H,W=(j-F)/2,J=(te-oe)/2;this.debug(P,"created image bitmap",{actualWidth:ne,actualHeight:Q,boxWidth:j,boxHeight:te,outputWidth:F,outputHeight:oe,resizeWidth:K,resizeHeight:E,scale:ee,outputScale:H,offsetX:W,offsetY:J}),this.worker.postMessage({id:Y,bitmap:M,width:K,height:E,dx:W,dy:J,dw:F,dh:oe,dataURLOptions:m.dataURLOptions,logDebug:!!this.logger},[M]),this.debug(P,"send message")}catch(j){this.debug(P,"failed to snapshot",j)}finally{this.snapshotInProgressMap.set(Y,!1)}}}))),yield Promise.all(O).catch(console.error),I=requestAnimationFrame(A)});I=requestAnimationFrame(A),this.resetObservers=()=>{T(),I&&cancelAnimationFrame(I)}}initCanvasMutationObserver(r,a,c){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const u=_u(r,a,c,!1),p=function(y,f,T,v){const I=[],Z=Object.getOwnPropertyNames(f.CanvasRenderingContext2D.prototype);for(const C of Z)try{if(typeof f.CanvasRenderingContext2D.prototype[C]!="function")continue;const k=xn(f.CanvasRenderingContext2D.prototype,C,function(G){return function(...A){return je(this.canvas,T,v,!0)||setTimeout(()=>{const V=Tu(A,f,this);y(this.canvas,{type:Un["2D"],property:C,args:V})},0),G.apply(this,A)}});I.push(k)}catch(k){const G=Gi(f.CanvasRenderingContext2D.prototype,C,{set(A){y(this.canvas,{type:Un["2D"],property:C,args:[A],setter:!0})}});I.push(G)}return()=>{I.forEach(C=>C())}}(this.processMutation.bind(this),r,a,c),m=function(y,f,T,v){const I=[];return I.push(...Eu(f.WebGLRenderingContext.prototype,Un.WebGL,y,T,v,f)),f.WebGL2RenderingContext!==void 0&&I.push(...Eu(f.WebGL2RenderingContext.prototype,Un.WebGL2,y,T,v,f)),()=>{I.forEach(Z=>Z())}}(this.processMutation.bind(this),r,a,c);this.resetObservers=()=>{u(),p(),m()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const r=a=>{this.rafStamps.latestId=a,requestAnimationFrame(r)};requestAnimationFrame(r)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((r,a)=>{const c=this.mirror.getId(a);this.flushPendingCanvasMutationFor(a,c)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(r,a){if(this.frozen||this.locked)return;const c=this.pendingCanvasMutations.get(r);if(!c||a===-1)return;const u=c.map(m=>R(m,["type"])),{type:p}=c[0];this.mutationCb({id:a,type:p,commands:u}),this.pendingCanvasMutations.delete(r)}}class NN{constructor(r){x(this,"trackedLinkElements",new WeakSet),x(this,"mutationCb"),x(this,"adoptedStyleSheetCb"),x(this,"styleMirror",new mN),this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}attachLinkElement(r,a){"_cssText"in a.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:a.id,attributes:a.attributes}]}),this.trackLinkElement(r)}trackLinkElement(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))}adoptStyleSheets(r,a){if(r.length===0)return;const c={id:a,styleIds:[]},u=[];for(const p of r){let m;this.styleMirror.has(p)?m=this.styleMirror.getId(p):(m=this.styleMirror.add(p),u.push({styleId:m,rules:Array.from(p.rules||CSSRule,(y,f)=>({rule:Xc(y),index:f}))})),c.styleIds.push(m)}u.length>0&&(c.styles=u),this.adoptedStyleSheetCb(c)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(r){}}class ZN{constructor(){x(this,"nodeMap",new WeakMap),x(this,"active",!1)}inOtherBuffer(r,a){const c=this.nodeMap.get(r);return c&&Array.from(c).some(u=>u!==a)}add(r,a){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(a))}destroy(){}}let Pe,Mi,Zr,xi=!1;try{if(Array.from([1],o=>2*o)[0]!==2){const o=document.createElement("iframe");document.body.appendChild(o),Array.from=((B=o.contentWindow)==null?void 0:B.Array.from)||Array.from,document.body.removeChild(o)}}catch(o){console.debug("Unable to override Array.from",o)}const Tt=new Pc;function Dt(o={}){var r,a,c,u,p,m,y,f;const{emit:T,checkoutEveryNms:v,checkoutEveryNth:I,blockClass:Z="highlight-block",blockSelector:C=null,ignoreClass:k="highlight-ignore",ignoreSelector:G=null,maskTextClass:A="highlight-mask",maskTextSelector:V=null,inlineStylesheet:X=!0,maskAllInputs:O,maskInputOptions:P,slimDOMOptions:Y,maskInputFn:j,maskTextFn:te=Zs,hooks:ne,packFn:Q,sampling:z={},mousemoveWait:ee,recordDOM:K=!0,recordCanvas:E=!1,recordCrossOriginIframes:M=!1,recordAfter:H=o.recordAfter==="DOMContentLoaded"?o.recordAfter:"load",userTriggeredOnInput:F=!1,collectFonts:oe=!1,inlineImages:W=!1,plugins:J,keepIframeSrcFn:ve=()=>!1,privacySetting:ye="default",ignoreCSSAttributes:pe=new Set([]),errorHandler:ae,logger:nt}=o,Qe=S(S({},o.dataURLOptions),(a=(r=o.sampling)==null?void 0:r.canvas)==null?void 0:a.dataURLOptions);Ir=ae;const $=!M||window.parent===window;let ue=!1;if(!$)try{window.parent.document&&(ue=!1)}catch(he){ue=!0}if($&&!T)throw new Error("emit function is required");if(!$&&!ue)return()=>{};ee!==void 0&&z.mousemove===void 0&&(z.mousemove=ee),Tt.reset();const Fe=O===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:P!==void 0?P:{password:!0},Be=Y===!0||Y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:Y==="all",headMetaDescKeywords:Y==="all",headTitleMutations:Y==="all"}:Y||{};let qt;(function(he=window){"NodeList"in he&&!he.NodeList.prototype.forEach&&(he.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in he&&!he.DOMTokenList.prototype.forEach&&(he.DOMTokenList.prototype.forEach=Array.prototype.forEach)})();let kr=0;const ro=he=>{for(const Et of J||[])Et.eventProcessor&&(he=Et.eventProcessor(he));return Q&&!ue&&(he=Q(he)),he};Pe=(he,Et)=>{var Oe;const Le=he;if(Le.timestamp=Vi(),!((Oe=an[0])!=null&&Oe.isFrozen())||Le.type===Te.FullSnapshot||Le.type===Te.IncrementalSnapshot&&Le.data.source===be.Mutation||an.forEach(ft=>ft.unfreeze()),$)T==null||T(ro(Le),Et);else if(ue){const ft={type:"rrweb",event:ro(Le),origin:window.location.origin,isCheckout:Et};window.parent.postMessage(ft,"*")}if(Le.type===Te.FullSnapshot)qt=Le,kr=0;else if(Le.type===Te.IncrementalSnapshot){if(Le.data.source===be.Mutation&&Le.data.isAttachIframe)return;kr++;const ft=I&&kr>=I,Re=v&&Le.timestamp-qt.timestamp>v;(ft||Re)&&Mi(!0)}};const io=he=>{Pe({type:Te.IncrementalSnapshot,data:S({source:be.Mutation},he)})},zd=he=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.Scroll},he)}),jd=he=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.CanvasMutation},he)}),mn=new NN({mutationCb:io,adoptedStyleSheetCb:he=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.AdoptedStyleSheet},he)})}),fn=new vN({mirror:Tt,mutationCb:io,stylesheetManager:mn,recordCrossOriginIframes:M,wrappedEmit:Pe});for(const he of J||[])he.getMirror&&he.getMirror({nodeMirror:Tt,crossOriginIframeMirror:fn.crossOriginIframeMirror,crossOriginIframeStyleMirror:fn.crossOriginIframeStyleMirror});const Ta=new ZN;Zr=new RN({recordCanvas:E,recordVideos:W,mutationCb:jd,win:window,blockClass:Z,blockSelector:C,mirror:Tt,sampling:(c=z==null?void 0:z.canvas)==null?void 0:c.fps,samplingManual:(u=z==null?void 0:z.canvas)==null?void 0:u.fpsManual,clearWebGLBuffer:(p=z==null?void 0:z.canvas)==null?void 0:p.clearWebGLBuffer,initialSnapshotDelay:(m=z==null?void 0:z.canvas)==null?void 0:m.initialSnapshotDelay,dataURLOptions:Qe,resizeFactor:(y=z==null?void 0:z.canvas)==null?void 0:y.resizeFactor,maxSnapshotDimension:(f=z==null?void 0:z.canvas)==null?void 0:f.maxSnapshotDimension,logger:nt});const oo=new _N({mutationCb:io,scrollCb:zd,bypassOptions:{blockClass:Z,blockSelector:C,maskTextClass:A,maskTextSelector:V,inlineStylesheet:X,maskInputOptions:Fe,dataURLOptions:Qe,maskTextFn:te,maskInputFn:j,recordCanvas:E,inlineImages:W,privacySetting:ye,sampling:z,slimDOMOptions:Be,iframeManager:fn,stylesheetManager:mn,canvasManager:Zr,keepIframeSrcFn:ve,processedNodeManager:Ta},mirror:Tt});Mi=(he=!1)=>{if(!K)return;Pe({type:Te.Meta,data:{href:window.location.href,width:tu(),height:eu()}},he),mn.reset(),oo.init(),an.forEach(Oe=>Oe.lock());const Et=function(Oe,Le){const{mirror:ft=new Pc,blockClass:Re="highlight-block",blockSelector:Ar=null,maskTextClass:hC="highlight-mask",maskTextSelector:mC=null,inlineStylesheet:fC=!0,inlineImages:bC=!1,recordCanvas:yC=!1,maskAllInputs:va=!1,maskTextFn:SC,maskInputFn:gC,slimDOM:so=!1,dataURLOptions:TC,preserveWhiteSpace:vC,onSerialize:_C,onIframeLoad:EC,iframeLoadTimeout:IC,onStylesheetLoad:RC,stylesheetLoadTimeout:NC,keepIframeSrcFn:ZC=()=>!1,privacySetting:CC="default"}=Le||{};return Wn(Oe,{doc:Oe,mirror:ft,blockClass:Re,blockSelector:Ar,maskTextClass:hC,maskTextSelector:mC,skipChild:!1,inlineStylesheet:fC,maskInputOptions:va===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:va===!1?{password:!0}:va,maskTextFn:SC,maskInputFn:gC,slimDOMOptions:so||so==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:so==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:so||{},dataURLOptions:TC,inlineImages:bC,recordCanvas:yC,preserveWhiteSpace:vC,onSerialize:_C,onIframeLoad:EC,iframeLoadTimeout:IC,onStylesheetLoad:RC,stylesheetLoadTimeout:NC,keepIframeSrcFn:ZC,newlyAddedElement:!1,privacySetting:CC})}(document,{mirror:Tt,blockClass:Z,blockSelector:C,maskTextClass:A,maskTextSelector:V,inlineStylesheet:X,maskAllInputs:Fe,maskTextFn:te,maskInputFn:j,slimDOM:Be,dataURLOptions:Qe,recordCanvas:E,inlineImages:W,privacySetting:ye,onSerialize:Oe=>{iu(Oe,Tt)&&fn.addIframe(Oe),ou(Oe,Tt)&&mn.trackLinkElement(Oe),Ws(Oe)&&oo.addShadowRoot(_r(Oe),document)},onIframeLoad:(Oe,Le)=>{fn.attachIframe(Oe,Le),oo.observeAttachShadow(Oe)},onStylesheetLoad:(Oe,Le)=>{mn.attachLinkElement(Oe,Le)},keepIframeSrcFn:ve});if(!Et)return console.warn("Failed to snapshot the document");Pe({type:Te.FullSnapshot,data:{node:Et,initialOffset:qc(window)}},he),an.forEach(Oe=>Oe.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&mn.adoptStyleSheets(document.adoptedStyleSheets,Tt.getId(document))};try{const he=[],Et=Le=>{var ft;return ge(TN)({mutationCb:io,mousemoveCb:(Re,Ar)=>Pe({type:Te.IncrementalSnapshot,data:{source:Ar,positions:Re}}),mouseInteractionCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.MouseInteraction},Re)}),scrollCb:zd,viewportResizeCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.ViewportResize},Re)}),inputCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.Input},Re)}),mediaInteractionCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.MediaInteraction},Re)}),styleSheetRuleCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.StyleSheetRule},Re)}),styleDeclarationCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.StyleDeclaration},Re)}),canvasMutationCb:jd,fontCb:Re=>Pe({type:Te.IncrementalSnapshot,data:S({source:be.Font},Re)}),selectionCb:Re=>{Pe({type:Te.IncrementalSnapshot,data:S({source:be.Selection},Re)})},customElementCb:Re=>{Pe({type:Te.IncrementalSnapshot,data:S({source:be.CustomElement},Re)})},blockClass:Z,ignoreClass:k,ignoreSelector:G,maskTextClass:A,maskTextSelector:V,maskInputOptions:Fe,inlineStylesheet:X,sampling:z,recordDOM:K,recordCanvas:E,inlineImages:W,userTriggeredOnInput:F,collectFonts:oe,doc:Le,maskInputFn:j,maskTextFn:te,keepIframeSrcFn:ve,blockSelector:C,slimDOMOptions:Be,dataURLOptions:Qe,mirror:Tt,iframeManager:fn,stylesheetManager:mn,shadowDomManager:oo,processedNodeManager:Ta,canvasManager:Zr,ignoreCSSAttributes:pe,privacySetting:ye,plugins:((ft=J==null?void 0:J.filter(Re=>Re.observer))==null?void 0:ft.map(Re=>({observer:Re.observer,options:Re.options,callback:Ar=>Pe({type:Te.Plugin,data:{plugin:Re.name,payload:Ar}})})))||[]},ne)};fn.addLoadListener(Le=>{try{he.push(Et(Le.contentDocument))}catch(ft){console.warn(ft)}});const Oe=()=>{Mi(),he.push(Et(document)),xi=!0};return document.readyState==="interactive"||document.readyState==="complete"?Oe():(he.push(qe("DOMContentLoaded",()=>{Pe({type:Te.DomContentLoaded,data:{}}),H==="DOMContentLoaded"&&Oe()})),he.push(qe("load",()=>{Pe({type:Te.Load,data:{}}),H==="load"&&Oe()},window))),()=>{he.forEach(Le=>Le()),Ta.destroy(),xi=!1,Ir=void 0}}catch(he){console.warn(he)}}var Zu,Fn;Dt.addCustomEvent=(o,r)=>{xi&&Pe({type:Te.Custom,data:{tag:o,payload:r}})},Dt.freezePage=()=>{an.forEach(o=>o.freeze())},Dt.takeFullSnapshot=o=>{if(!xi)throw new Error("please take full snapshot after start recording");Mi(o)},Dt.snapshotCanvas=o=>w(this,null,function*(){if(!Zr)throw new Error("canvas manager is not initialized");yield Zr.snapshot(o)}),Dt.mirror=Tt,(Fn=Zu||(Zu={}))[Fn.NotStarted=0]="NotStarted",Fn[Fn.Running=1]="Running",Fn[Fn.Stopped=2]="Stopped";const{addCustomEvent:Cu}=Dt,Ou={key:"_sid"},CN=o=>{const r=o?Object.assign({},Ou,o):Ou;let a=0;return{name:"rrweb/sequential-id@1",eventProcessor:c=>(Object.assign(c,{[r.key]:++a}),c),options:r}};function ON(o){if(!o||!o.outerHTML)return"";let r="";for(;o.parentElement;){let a=o.localName;if(!a)break;a=a.toLowerCase();let c=o.parentElement,u=[];if(c.children&&c.children.length>0)for(let p=0;p<c.children.length;p++){let m=c.children[p];m.localName&&m.localName.toLowerCase&&m.localName.toLowerCase()===a&&u.push(m)}u.length>1&&(a+=":eq("+u.indexOf(o)+")"),r=a+(r?">"+r:""),o=c}return r}function As(o){return Object.prototype.toString.call(o)==="[object Object]"}function wu(o,r){if(r===0)return!0;const a=Object.keys(o);for(const c of a)if(As(o[c])&&wu(o[c],r-1))return!0;return!1}function Ms(o,r){const a={numOfKeysLimit:50,depthOfLimit:4};Object.assign(a,r);const c=[],u=[];return JSON.stringify(o,function(p,m){if(c.length>0){const y=c.indexOf(this);~y?c.splice(y+1):c.push(this),~y?u.splice(y,1/0,p):u.push(p),~c.indexOf(m)&&(m=c[0]===m?"[Circular ~]":"[Circular ~."+u.slice(0,c.indexOf(m)).join(".")+"]")}else c.push(m);if(m==null)return m;if(function(y){return As(y)&&Object.keys(y).length>a.numOfKeysLimit||typeof y=="function"?!0:y instanceof Event&&y.isTrusted===!1?Object.keys(y).length===1:!!(As(y)&&wu(y,a.depthOfLimit))}(m))return function(y){let f=y.toString();return a.stringLengthLimit&&f.length>a.stringLengthLimit&&(f=`${f.slice(0,a.stringLengthLimit)}...`),f}(m);if(m instanceof Event){const y={};for(const f in m){const T=m[f];Array.isArray(T)?y[f]=ON(T.length?T[0]:null):y[f]=T}return y}return m instanceof Node?m instanceof HTMLElement?m?m.outerHTML:"":m.nodeName:m instanceof Error?m.name+": "+m.message:m})}function wN(){return(o=document.createElement("canvas")).getContext&&o.getContext("2d")&&o.toDataURL("image/webp").indexOf("data:image/webp")==0?{type:"image/webp",quality:.9}:{type:"image/jpeg",quality:.6};var o}var LN=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Qn!="undefined"?Qn:typeof self!="undefined"?self:{};function xs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Lu,ln,Gu,Us,Vu,Xu={exports:{}},Pu={exports:{}};function GN(){return Lu||(Lu=1,Pu.exports=function(){function o(C){return!isNaN(parseFloat(C))&&isFinite(C)}function r(C){return C.charAt(0).toUpperCase()+C.substring(1)}function a(C){return function(){return this[C]}}var c=["isConstructor","isEval","isNative","isToplevel"],u=["columnNumber","lineNumber"],p=["fileName","functionName","source"],m=["args"],y=["evalOrigin"],f=c.concat(u,p,m,y);function T(C){if(C)for(var k=0;k<f.length;k++)C[f[k]]!==void 0&&this["set"+r(f[k])](C[f[k]])}T.prototype={getArgs:function(){return this.args},setArgs:function(C){if(Object.prototype.toString.call(C)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=C},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(C){if(C instanceof T)this.evalOrigin=C;else{if(!(C instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new T(C)}},toString:function(){var C=this.getFileName()||"",k=this.getLineNumber()||"",G=this.getColumnNumber()||"",A=this.getFunctionName()||"";return this.getIsEval()?C?"[eval] ("+C+":"+k+":"+G+")":"[eval]:"+k+":"+G:A?A+" ("+C+":"+k+":"+G+")":C+":"+k+":"+G}},T.fromString=function(C){var k=C.indexOf("("),G=C.lastIndexOf(")"),A=C.substring(0,k),V=C.substring(k+1,G).split(","),X=C.substring(G+1);if(X.indexOf("@")===0)var O=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(X,""),P=O[1],Y=O[2],j=O[3];return new T({functionName:A,args:V||void 0,fileName:P,lineNumber:Y||void 0,columnNumber:j||void 0})};for(var v=0;v<c.length;v++)T.prototype["get"+r(c[v])]=a(c[v]),T.prototype["set"+r(c[v])]=function(C){return function(k){this[C]=!!k}}(c[v]);for(var I=0;I<u.length;I++)T.prototype["get"+r(u[I])]=a(u[I]),T.prototype["set"+r(u[I])]=function(C){return function(k){if(!o(k))throw new TypeError(C+" must be a Number");this[C]=Number(k)}}(u[I]);for(var Z=0;Z<p.length;Z++)T.prototype["get"+r(p[Z])]=a(p[Z]),T.prototype["set"+r(p[Z])]=function(C){return function(k){this[C]=String(k)}}(p[Z]);return T}()),Pu.exports}Xu.exports=(ln=GN(),Gu=/(^|@)\S+:\d+/,Us=/^\s*at .*(\S+:\d+|\(native\))/m,Vu=/^(eval@)?(\[native code])?$/,{parse:function(o){if(o.stacktrace!==void 0||o["opera#sourceloc"]!==void 0)return this.parseOpera(o);if(o.stack&&o.stack.match(Us))return this.parseV8OrIE(o);if(o.stack)return this.parseFFOrSafari(o);throw new Error("Cannot parse given Error object")},extractLocation:function(o){if(o.indexOf(":")===-1)return[o];var r=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o.replace(/[()]/g,""));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(o){return o.stack.split(`
`).filter(function(r){return!!r.match(Us)},this).map(function(r){r.indexOf("(eval ")>-1&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var a=r.replace(/^\s+/,"").replace(/\(eval code/g,"("),c=a.match(/ (\((.+):(\d+):(\d+)\)$)/),u=(a=c?a.replace(c[0],""):a).split(/\s+/).slice(1),p=this.extractLocation(c?c[1]:u.pop()),m=u.join(" ")||void 0,y=["eval","<anonymous>"].indexOf(p[0])>-1?void 0:p[0];return new ln({functionName:m,fileName:y,lineNumber:p[1],columnNumber:p[2],source:r})},this)},parseFFOrSafari:function(o){return o.stack.split(`
`).filter(function(r){return!r.match(Vu)},this).map(function(r){if(r.indexOf(" > eval")>-1&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),r.indexOf("@")===-1&&r.indexOf(":")===-1)return new ln({functionName:r});var a=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=r.match(a),u=c&&c[1]?c[1]:void 0,p=this.extractLocation(r.replace(a,""));return new ln({functionName:u,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:r})},this)},parseOpera:function(o){return!o.stacktrace||o.message.indexOf(`
`)>-1&&o.message.split(`
`).length>o.stacktrace.split(`
`).length?this.parseOpera9(o):o.stack?this.parseOpera11(o):this.parseOpera10(o)},parseOpera9:function(o){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,a=o.message.split(`
`),c=[],u=2,p=a.length;u<p;u+=2){var m=r.exec(a[u]);m&&c.push(new ln({fileName:m[2],lineNumber:m[1],source:a[u]}))}return c},parseOpera10:function(o){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=o.stacktrace.split(`
`),c=[],u=0,p=a.length;u<p;u+=2){var m=r.exec(a[u]);m&&c.push(new ln({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:a[u]}))}return c},parseOpera11:function(o){return o.stack.split(`
`).filter(function(r){return!!r.match(Gu)&&!r.match(/^Error created at/)},this).map(function(r){var a,c=r.split("@"),u=this.extractLocation(c.pop()),p=c.shift()||"",m=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;p.match(/\(([^)]*)\)/)&&(a=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var y=a===void 0||a==="[arguments not available]"?void 0:a.split(",");return new ln({functionName:m,args:y,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:r})},this)}});const Cr=xs(Xu.exports);function VN(o,r){const a=r.logger;if(!a)return()=>{};let c;c=typeof a=="string"?window[a]:a;const u=[];if(r.level.includes("error")&&window){const m=y=>{const{message:f,error:T}=y;let v=[];T&&(v=Cr.parse(T));const I=[Ms(f,r.stringifyOptions)];o({type:"Error",trace:v,time:Date.now(),value:I})};window.addEventListener("error",m),u.push(()=>{window&&window.removeEventListener("error",m)})}for(const m of r.level)u.push(p(c,m));return()=>{u.forEach(m=>m())};function p(m,y){return m[y]?function(f,T,v){try{if(!(T in f))return()=>{};const I=f[T],Z=v(I);return typeof Z=="function"&&(Z.prototype=Z.prototype||{},Object.defineProperties(Z,{__rrweb_original__:{enumerable:!1,value:I}})),f[T]=Z,()=>{f[T]=I}}catch(I){return()=>{}}}(m,y,f=>(...T)=>{f.apply(this,T);try{const v=Cr.parse(new Error),I=r.serializeConsoleAttributes?T.map(Z=>typeof Z=="object"?Ms(Z,r.stringifyOptions):Z):T.filter(Z=>typeof Z!="object").map(Z=>`${Z}`);o({type:y,trace:v.slice(1),value:I,attributes:Ms(T.filter(Z=>typeof Z=="object").reduce((Z,C)=>S(S({},Z),C),{}),r.stringifyOptions),time:Date.now()})}catch(v){f("highlight logger error:",v,...T)}}):()=>{}}}var Wu={exports:{}};(function(o,r){function a(c,u){var p=[],m=[];return u==null&&(u=function(y,f){return p[0]===f?"[Circular ~]":"[Circular ~."+m.slice(0,p.indexOf(f)).join(".")+"]"}),function(y,f){if(p.length>0){var T=p.indexOf(this);~T?p.splice(T+1):p.push(this),~T?m.splice(T,1/0,y):m.push(y),~p.indexOf(f)&&(f=u.call(this,y,f))}else p.push(f);return c==null?f:c.call(this,y,f)}}(o.exports=function(c,u,p,m){return JSON.stringify(c,a(u,m),p)}).getSerialize=a})(Wu);const cn=xs(Wu.exports);function Ds(o,r,a,c){var u,p,m,y;let f=[];try{f=Cr.parse(c!=null?c:r)}catch(I){f=Cr.parse(new Error)}let T={};r instanceof Error&&(r=r.message).cause&&(T={"exception.cause":r.cause});const v=PN(f);o({event:cn(r),type:"window.onerror",url:window.location.href,source:a!=null?a:"",lineNumber:(u=v[0])!=null&&u.lineNumber?(p=v[0])==null?void 0:p.lineNumber:0,columnNumber:(m=v[0])!=null&&m.columnNumber?(y=v[0])==null?void 0:y.columnNumber:0,stackTrace:v,timestamp:new Date().toISOString(),payload:T?cn(T):void 0})}const XN=(o,{enablePromisePatch:r})=>{if(typeof window=="undefined")return()=>{};const a=window.onerror=(m,y,f,T,v)=>{Ds(o,m,y,v)},c=window.onunhandledrejection=m=>{if(m.reason){const y=m.promise;y.getStack?Ds(o,m.reason,m.type,y.getStack()):Ds(o,m.reason,m.type)}},u=window.Promise,p=class extends u{constructor(m){super(m),N(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const m=window.Zone===void 0;return r&&m}};return p.shouldPatch()&&(window.Promise=p),()=>{window.Promise=u,window.onunhandledrejection=c,window.onerror=a}},PN=o=>{var r,a;if(o.length===0)return o;const c=o[0];return(r=c.fileName)!=null&&r.includes("highlight.run")||(a=c.fileName)!=null&&a.includes("highlight.io")||c.functionName==="new highlightPromise"?o.slice(1):o},WN=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var un=(o=>(o.DeviceMemory="DeviceMemory",o.ViewportHeight="ViewportHeight",o.ViewportWidth="ViewportWidth",o.ScreenHeight="ScreenHeight",o.ScreenWidth="ScreenWidth",o.ViewportArea="ViewportArea",o))(un||{}),pt=(o=>(o.Device="Device",o.WebVital="WebVital",o.Performance="Performance",o.Frontend="Frontend",o.Backend="Backend",o))(pt||{});const ku=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],Au=["websocket error",'\\"ResizeObserver loop'],Mu=(o,r,a)=>{const c=kN(r,o.headers,a);return _(S({},o),{headers:c})},kN=(o,r,a)=>{var c,u;const p=S({},r);return a?((c=Object.keys(p))==null||c.forEach(m=>{[...a].includes(m==null?void 0:m.toLowerCase())||(p[m]="[REDACTED]")}),p):((u=Object.keys(p))==null||u.forEach(m=>{[...AN,...o].includes(m==null?void 0:m.toLowerCase())&&(p[m]="[REDACTED]")}),p)},AN=["authorization","cookie","proxy-authorization","token"],MN=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"];var Ue=(o=>(o.RECORDING_START_TIME="highlightRecordingStartTime",o.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",o.SESSION_DATA="sessionData",o.SESSION_SECURE_ID="sessionSecureID",o.USER_IDENTIFIER="highlightIdentifier",o.USER_OBJECT="highlightUserObject",o.PAYLOAD_ID="payloadId",o))(Ue||{});let Fs="localStorage",xN=new class{constructor(){N(this,"storage",{})}getItem(o){var r;return(r=this.storage[o])!=null?r:""}setItem(o,r){this.storage[o]=r}removeItem(o){delete this.storage[o]}};const Ys=()=>{try{switch(Fs){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch(o){return xN}},at=o=>Ys().getItem(o),vt=(o,r)=>Ys().setItem(o,r),Hs=o=>Ys().removeItem(o),UN=o=>{if(Fs==="sessionStorage")return void console.warn("highlight.io cannot use local storage; segment integration will not work");const r=window.localStorage.setItem;window.localStorage.setItem=function(){const[a,c]=arguments;o({keyName:a,keyValue:c}),r.apply(this,[a,c])}},xu={normal:{bytes:1e7,time:24e4},canvas:{bytes:16e6,time:5e3}},Uu=()=>{let o=JSON.parse(at(Ue.SESSION_DATA)||"{}");if(o&&o.lastPushTime&&Date.now()-o.lastPushTime<9e5)return o},Ks=function(o){o!==null?(vt(Ue.SESSION_DATA,JSON.stringify(o)),Du(o.sessionSecureID)):Hs(Ue.SESSION_DATA)},Du=function(o){return vt(Ue.SESSION_SECURE_ID,o)},Fu="X-Highlight-Request",Yu=o=>{let r=o;return o.startsWith("https://")||o.startsWith("http://")||(r=`${window.location.origin}${r}`),r.replace(/\/+$/,"")},Hu=(o,r,a,c)=>{o.sort((y,f)=>y.responseEnd-f.responseEnd);const u=o.reduce((y,f)=>{const T=Yu(f.name);return f.initiatorType===a?y[a][T]=[...y[a][T]||[],f]:y.others[T]=[...y.others[T]||[],f],y},{xmlhttprequest:{},others:{},fetch:{}});let p={};p=r.reduce((y,f)=>{const T=Yu(f.request.url);return y[T]=[...y[T]||[],f],y},p);for(let y in u[a]){const f=u[a][y],T=p[y];if(!T)continue;const v=Math.max(f.length-T.length,0);for(let I=v;I<f.length;I++)f[I]&&(f[I].requestResponsePair=T[I-v])}let m=[];for(let y in u)for(let f in u[y])m=m.concat(u[y][f]);return m.sort((y,f)=>y.fetchStart-f.fetchStart).reduce((y,f)=>{let T=f.requestResponsePair;return T&&(T=((v,{headersToRedact:I,headersToRecord:Z,requestResponseSanitizer:C})=>{var k,G;let A=v;if(C){let Y=!0;try{A.request.body=JSON.parse(A.request.body)}catch(te){Y=!1}let j=!0;try{A.response.body=JSON.parse(A.response.body)}catch(te){j=!1}try{A=C(A)}catch(te){}finally{Y=Y&&!!((k=A==null?void 0:A.request)!=null&&k.body),j=j&&!!((G=A==null?void 0:A.response)!=null&&G.body),Y&&(A.request.body=JSON.stringify(A.request.body)),j&&(A.response.body=JSON.stringify(A.response.body))}if(!A)return null}const V=A,{request:X,response:O}=V,P=R(V,["request","response"]);return S({request:Mu(X,I,Z),response:Mu(O,I,Z)},P)})(f.requestResponsePair,c),!T)||(f.toJSON=function(){const v=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:v+this.startTime,connectStartAbs:v+this.connectStart,connectEndAbs:v+this.connectEnd,domainLookupStartAbs:v+this.domainLookupStart,domainLookupEndAbs:v+this.domainLookupEnd,fetchStartAbs:v+this.fetchStart,redirectStartAbs:v+this.redirectStart,redirectEndAbs:v+this.redirectEnd,requestStartAbs:v+this.requestStart,responseStartAbs:v+this.responseStart,responseEndAbs:v+this.responseEnd,secureConnectionStartAbs:v+this.secureConnectionStart,workerStartAbs:v+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:T}},y.push(f)),y},[])},Js=(o,r,a)=>{return u=r,!((c=o).toLocaleLowerCase().includes("https://localhost:8082/public")||c.toLocaleLowerCase().includes("highlight.io")||c.toLocaleLowerCase().includes(u))||Bs(o,a);var c,u},Bs=(o,r)=>{var a;let c=[];r===!0?(c=["localhost",/^\//],(a=window==null?void 0:window.location)!=null&&a.host&&c.push(window.location.host)):r instanceof Array&&(c=r);let u=!1;return c.forEach(p=>{o.match(p)&&(u=!0)}),u};function DN(o){for(var r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<o;c++)r+=a.charAt(Math.floor(62*Math.random()));return r}const Ku=()=>{return[(o=at(Ue.SESSION_SECURE_ID))!=null?o:"",DN(10)];var o},Ju=(o,r)=>o+"/"+r,FN=(o,r,a,c,u,p)=>{const m=XMLHttpRequest.prototype,y=m.open,f=m.send,T=m.setRequestHeader;return m.open=function(v,I){return this._url=typeof I=="string"?I:I.toString(),this._method=v,this._requestHeaders={},this._shouldRecordHeaderAndBody=!c.some(Z=>this._url.toLowerCase().includes(Z)),y.apply(this,arguments)},m.setRequestHeader=function(v,I){return this._requestHeaders[v]=I,T.apply(this,arguments)},m.send=function(v){if(!Js(this._url,r,a))return f.apply(this,arguments);const[I,Z]=Ku();Bs(this._url,a)&&this.setRequestHeader(Fu,Ju(I,Z));const C=this._shouldRecordHeaderAndBody,k={sessionSecureID:I,id:Z,url:this._url,verb:this._method,headers:C?this._requestHeaders:{},body:void 0};if(C&&v){const G=Bu(v,k.url);G&&(this._body=G,k.body=dn(G,u,p,k.headers))}return this.addEventListener("load",function(){return w(this,null,function*(){const G={status:this.status,headers:{},body:void 0};if(C){const A=this.getAllResponseHeaders().trim().split(/[\r\n]+/),V={};if(A.forEach(function(X){const O=X.split(": "),P=O.shift();V[P]=O.join(": ")}),G.headers=V,v){const X=Bu(v,k.url);X&&(k.body=dn(X,u,p,G.headers))}if(this.responseType===""||this.responseType==="text")G.body=dn(this.responseText,u,p,G.headers),G.size=8*this.responseText.length;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const X=yield this.response.text();G.body=dn(X,u,p,G.headers),G.size=this.response.size}catch(X){}}else try{G.body=dn(this.response,u,p,G.headers)}catch(X){}}o({request:k,response:G,urlBlocked:!C})})}),this.addEventListener("error",function(){return w(this,null,function*(){const G={status:this.status,headers:void 0,body:void 0};o({request:k,response:G,urlBlocked:!1})})}),f.apply(this,arguments)},()=>{m.open=y,m.send=f,m.setRequestHeader=T}},Bu=(o,r)=>{if(typeof o=="string"){if(!(r!=null&&r.includes("localhost"))&&!(r!=null&&r.includes("highlight.run"))||!o.includes("pushPayload"))return o}else if(typeof o=="object"||typeof o=="number"||typeof o=="boolean")return cn(o);return null},YN={"application/json":67108864,"text/plain":67108864},dn=(o,r,a,c)=>{var u,p,m;let y=65536;if(c){let f="";f=typeof c.get=="function"?(u=c.get("content-type"))!=null?u:"":(p=c["content-type"])!=null?p:"";try{f=f.split(";")[0]}catch(T){}y=(m=YN[f])!=null?m:65536}if(o){if(r)try{const f=JSON.parse(o);Array.isArray(f)?f.forEach(T=>{Object.keys(T).forEach(v=>{r.includes(v.toLocaleLowerCase())&&(T[v]="[REDACTED]")})}):Object.keys(f).forEach(T=>{r.includes(T.toLocaleLowerCase())&&(f[T]="[REDACTED]")}),o=JSON.stringify(f)}catch(f){}if(a)try{const f=JSON.parse(o);Object.keys(f).forEach(T=>{a.includes(T.toLocaleLowerCase())||(f[T]="[REDACTED]")}),o=JSON.stringify(f)}catch(f){}}try{o=o.slice(0,y)}catch(f){}return o},HN=(o,r,a,c,u,p)=>{const m=window._fetchProxy;return window._fetchProxy=function(y,f){const{method:T,url:v}=KN(y,f);if(!Js(v,r,a))return m.call(this,y,f);const[I,Z]=Ku();if(Bs(v,a)){f=f||{};let A=new Headers(f.headers);y instanceof Request&&[...y.headers].forEach(([V,X])=>A.set(V,X)),A.set(Fu,Ju(I,Z)),f.headers=Object.fromEntries(A.entries())}const C={sessionSecureID:I,id:Z,headers:{},body:void 0,url:v,verb:T},k=!c.some(A=>v.toLowerCase().includes(A));k&&(C.headers=Object.fromEntries(new Headers(f==null?void 0:f.headers).entries()),C.body=dn(f==null?void 0:f.body,u,p,f==null?void 0:f.headers));let G=m.call(this,y,f);return JN(G,C,o,k,u,p),G},()=>{window._fetchProxy=m}},KN=(o,r)=>{const a=r&&r.method||typeof o=="object"&&"method"in o&&o.method||"GET";let c;return c=typeof o=="object"?"url"in o&&o.url?o.url:o.toString():o,{method:a,url:c}},JN=(o,r,a,c,u,p)=>{o.then(m=>w(this,null,function*(){let y={body:void 0,headers:void 0,status:0,size:0},f=!1,T=!c;"stack"in m||m instanceof Error?(y=_(S({},y),{body:m.message,status:0,size:void 0}),f=!0):"status"in m&&(y=_(S({},y),{status:m.status}),c&&(y.body=yield BN(m,p,u),y.headers=Object.fromEntries(m.headers.entries()),y.size=8*y.body.length),m.type!=="opaque"&&m.type!=="opaqueredirect"||(T=!0,y=_(S({},y),{body:"CORS blocked request"})),f=!0),f&&a({request:r,response:y,urlBlocked:T})})).catch(()=>{})},BN=(o,r,a)=>w(this,null,function*(){let c;try{const u=o.clone().body;if(u){let p,m=u.getReader(),y=new TextDecoder,f="";for(;!(p=yield m.read()).done;){let T=p.value;f+=y.decode(T)}c=f,c=dn(c,a,r,o.headers)}else c=""}catch(u){c=`Unable to clone response: ${u}`}return c}),zN=({xhrCallback:o,fetchCallback:r,webSocketRequestCallback:a,webSocketEventCallback:c,disableWebSocketRecording:u,bodyKeysToRedact:p,backendUrl:m,tracingOrigins:y,urlBlocklist:f,sessionSecureID:T,bodyKeysToRecord:v})=>{const I=FN(o,m,y,f,p,v),Z=HN(r,m,y,f,p,v),C=u?()=>{}:((k,G,A)=>{const V=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=k;const X=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=O=>{const P=O,Y=R(P,["message","size"]),j=A.some(te=>O.name.toLowerCase().includes(te));G(j?Y:O)},()=>{window._highlightWebSocketRequestCallback=V,window._highlightWebSocketEventCallback=X}})(a,c,f);return()=>{I(),Z(),C()}};class Ft{constructor(r){var a,c;N(this,"disableConsoleRecording"),N(this,"reportConsoleErrors"),N(this,"enablePromisePatch"),N(this,"consoleMethodsToRecord"),N(this,"listeners"),N(this,"errors"),N(this,"messages"),N(this,"options"),N(this,"hasNetworkRecording",!0),N(this,"_backendUrl"),N(this,"disableNetworkRecording"),N(this,"enableRecordingNetworkContents"),N(this,"xhrNetworkContents"),N(this,"fetchNetworkContents"),N(this,"disableRecordingWebSocketContents"),N(this,"webSocketNetworkContents"),N(this,"webSocketEventContents"),N(this,"tracingOrigins"),N(this,"networkHeadersToRedact"),N(this,"networkBodyKeysToRedact"),N(this,"networkBodyKeysToRecord"),N(this,"networkHeaderKeysToRecord"),N(this,"lastNetworkRequestTimestamp"),N(this,"urlBlocklist"),N(this,"requestResponseSanitizer"),this.options=r,this.disableConsoleRecording=!!r.disableConsoleRecording,this.reportConsoleErrors=(a=r.reportConsoleErrors)!=null&&a,this.enablePromisePatch=(c=r.enablePromisePatch)==null||c,this.consoleMethodsToRecord=r.consoleMethodsToRecord||[...WN],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const r=this;this.disableConsoleRecording||this.listeners.push(VN(a=>{var c,u,p;if(this.reportConsoleErrors&&(a.type==="Error"||a.type==="error")&&a.value&&a.trace){const m=cn(a.value);if(ku.includes(m)||Au.some(y=>m.includes(y)))return;r.errors.push({event:m,type:"console.error",url:window.location.href,source:(c=a.trace[0])!=null&&c.fileName?a.trace[0].fileName:"",lineNumber:(u=a.trace[0])!=null&&u.lineNumber?a.trace[0].lineNumber:0,columnNumber:(p=a.trace[0])!=null&&p.columnNumber?a.trace[0].columnNumber:0,stackTrace:a.trace,timestamp:new Date().toISOString()})}r.messages.push(a)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(XN(a=>{ku.includes(a.event)||Au.some(c=>a.event.includes(c))||r.errors.push(a)},{enablePromisePatch:this.enablePromisePatch})),this.options.enableOtelTracing&&Promise.resolve().then(()=>pC).then(({shutdown:a})=>{this.listeners.push(a)}),Ft.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(r=>r()),this.listeners=[]}static setupNetworkListener(r,a){var c,u,p,m,y,f,T,v,I,Z,C,k;r._backendUrl=(a==null?void 0:a.backendUrl)||"https://localhost:8082/public",r.xhrNetworkContents=[],r.fetchNetworkContents=[],r.webSocketNetworkContents=[],r.webSocketEventContents=[],r.networkHeadersToRedact=[],r.urlBlocklist=[],r.tracingOrigins=a.tracingOrigins||[],(a==null?void 0:a.disableNetworkRecording)!==void 0?(r.disableNetworkRecording=a==null?void 0:a.disableNetworkRecording,r.enableRecordingNetworkContents=!1,r.disableRecordingWebSocketContents=!0,r.networkHeadersToRedact=[],r.networkBodyKeysToRedact=[],r.urlBlocklist=[],r.networkBodyKeysToRecord=[],r.networkBodyKeysToRecord=[]):typeof(a==null?void 0:a.networkRecording)=="boolean"?(r.disableNetworkRecording=!a.networkRecording,r.enableRecordingNetworkContents=!1,r.disableRecordingWebSocketContents=!0,r.networkHeadersToRedact=[],r.networkBodyKeysToRedact=[],r.urlBlocklist=[]):(((c=a.networkRecording)==null?void 0:c.enabled)!==void 0?r.disableNetworkRecording=!a.networkRecording.enabled:r.disableNetworkRecording=!1,r.enableRecordingNetworkContents=((u=a.networkRecording)==null?void 0:u.recordHeadersAndBody)||!1,r.disableRecordingWebSocketContents=((p=a.networkRecording)==null?void 0:p.disableWebSocketEventRecordings)||!1,r.networkHeadersToRedact=((y=(m=a.networkRecording)==null?void 0:m.networkHeadersToRedact)==null?void 0:y.map(G=>G.toLowerCase()))||[],r.networkBodyKeysToRedact=((T=(f=a.networkRecording)==null?void 0:f.networkBodyKeysToRedact)==null?void 0:T.map(G=>G.toLowerCase()))||[],r.urlBlocklist=((I=(v=a.networkRecording)==null?void 0:v.urlBlocklist)==null?void 0:I.map(G=>G.toLowerCase()))||[],r.urlBlocklist=[...r.urlBlocklist,...MN],r.requestResponseSanitizer=(Z=a.networkRecording)==null?void 0:Z.requestResponseSanitizer,r.networkHeaderKeysToRecord=(C=a.networkRecording)==null?void 0:C.headerKeysToRecord,r.networkHeaderKeysToRecord&&(r.networkHeadersToRedact=[],r.networkHeaderKeysToRecord=r.networkHeaderKeysToRecord.map(G=>G.toLocaleLowerCase())),r.networkBodyKeysToRecord=(k=a.networkRecording)==null?void 0:k.bodyKeysToRecord,r.networkBodyKeysToRecord&&(r.networkBodyKeysToRedact=[],r.networkBodyKeysToRecord=r.networkBodyKeysToRecord.map(G=>G.toLocaleLowerCase()))),!r.disableNetworkRecording&&r.enableRecordingNetworkContents&&r.listeners.push(zN({xhrCallback:G=>{r.xhrNetworkContents.push(G)},fetchCallback:G=>{r.fetchNetworkContents.push(G)},webSocketRequestCallback:G=>{r.webSocketNetworkContents&&r.webSocketNetworkContents.push(G)},webSocketEventCallback:G=>{r.webSocketEventContents.push(G)},disableWebSocketRecording:r.disableRecordingWebSocketContents,bodyKeysToRedact:r.networkBodyKeysToRedact,backendUrl:r._backendUrl,tracingOrigins:r.tracingOrigins,urlBlocklist:r.urlBlocklist,sessionSecureID:a.sessionSecureID,bodyKeysToRecord:r.networkBodyKeysToRecord}))}static getRecordedNetworkResources(r,a){var c,u;let p=[],m=[];if(!r.disableNetworkRecording){const y=((c=window==null?void 0:window.performance)==null?void 0:c.timeOrigin)||0;p=performance.getEntriesByType("resource");const f=2*(a-y);if(p=p.filter(T=>!(T.responseEnd<r.lastNetworkRequestTimestamp)&&Js(T.name,r._backendUrl,r.tracingOrigins)).map(T=>_(S({},T.toJSON()),{offsetStartTime:T.startTime-f,offsetResponseEnd:T.responseEnd-f,offsetFetchStart:T.fetchStart-f})),r.lastNetworkRequestTimestamp=((u=p.at(-1))==null?void 0:u.responseEnd)||r.lastNetworkRequestTimestamp,r.enableRecordingNetworkContents){const T={headersToRedact:r.networkHeadersToRedact,headersToRecord:r.networkHeaderKeysToRecord,requestResponseSanitizer:r.requestResponseSanitizer};p=Hu(p,r.xhrNetworkContents,"xmlhttprequest",T),p=Hu(p,r.fetchNetworkContents,"fetch",T)}}return r.disableRecordingWebSocketContents||(m=r.webSocketNetworkContents||[]),[...p,...m]}static getRecordedWebSocketEvents(r){let a=[];return r.disableNetworkRecording||r.disableRecordingWebSocketContents||(a=r.webSocketEventContents),a}static clearRecordedNetworkResources(r){r.disableNetworkRecording||(r.xhrNetworkContents=[],r.fetchNetworkContents=[],r.webSocketNetworkContents=[],r.webSocketEventContents=[],performance.clearResourceTimings())}}const jN=o=>{o(window.location.href);const r=history.pushState;history.pushState=(p=>function(){var m=p.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),m})(history.pushState);const a=history.replaceState;history.replaceState=(p=>function(){var m=p.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),m})(history.replaceState);const c=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",c);const u=function(){o(window.location.href)};return window.addEventListener("locationchange",u),()=>{window.removeEventListener("popstate",c),window.removeEventListener("locationchange",u),history.pushState=r,history.replaceState=a}},zs=JSON;function Ui(o,r){if(!o)throw new Error(r)}function QN(o,r){if(!o)throw new Error(r!=null?r:"Unexpected invariant triggered.")}const $N=/\r\n|[\n\r]/g;function js(o,r){let a=0,c=1;for(const u of o.body.matchAll($N)){if(typeof u.index=="number"||QN(!1),u.index>=r)break;a=u.index+u[0].length,c+=1}return{line:c,column:r+1-a}}function zu(o,r){const a=o.locationOffset.column-1,c="".padStart(a)+o.body,u=r.line-1,p=o.locationOffset.line-1,m=r.line+p,y=r.line===1?a:0,f=r.column+y,T=`${o.name}:${m}:${f}
`,v=c.split(/\r\n|[\n\r]/g),I=v[u];if(I.length>120){const Z=Math.floor(f/80),C=f%80,k=[];for(let G=0;G<I.length;G+=80)k.push(I.slice(G,G+80));return T+ju([[`${m} |`,k[0]],...k.slice(1,Z+1).map(G=>["|",G]),["|","^".padStart(C)],["|",k[Z+1]]])}return T+ju([[m-1+" |",v[u-1]],[`${m} |`,I],["|","^".padStart(f)],[`${m+1} |`,v[u+1]]])}function ju(o){const r=o.filter(([c,u])=>u!==void 0),a=Math.max(...r.map(([c])=>c.length));return r.map(([c,u])=>c.padStart(a)+(u?" "+u:"")).join(`
`)}class Qs extends Error{constructor(r,...a){var c,u,p;const{nodes:m,source:y,positions:f,path:T,originalError:v,extensions:I}=function(G){const A=G[0];return A==null||"kind"in A||"length"in A?{nodes:A,source:G[1],positions:G[2],path:G[3],originalError:G[4],extensions:G[5]}:A}(a);super(r),this.name="GraphQLError",this.path=T!=null?T:void 0,this.originalError=v!=null?v:void 0,this.nodes=Qu(Array.isArray(m)?m:m?[m]:void 0);const Z=Qu((c=this.nodes)===null||c===void 0?void 0:c.map(G=>G.loc).filter(G=>G!=null));this.source=y!=null?y:Z==null||(u=Z[0])===null||u===void 0?void 0:u.source,this.positions=f!=null?f:Z==null?void 0:Z.map(G=>G.start),this.locations=f&&y?f.map(G=>js(y,G)):Z==null?void 0:Z.map(G=>js(G.source,G.start));const C=typeof(k=v==null?void 0:v.extensions)=="object"&&k!==null?v==null?void 0:v.extensions:void 0;var k;this.extensions=(p=I!=null?I:C)!==null&&p!==void 0?p:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),v!=null&&v.stack?Object.defineProperty(this,"stack",{value:v.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Qs):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let r=this.message;if(this.nodes)for(const c of this.nodes)c.loc&&(r+=`

`+zu((a=c.loc).source,js(a.source,a.start)));else if(this.source&&this.locations)for(const c of this.locations)r+=`

`+zu(this.source,c);var a;return r}toJSON(){const r={message:this.message};return this.locations!=null&&(r.locations=this.locations),this.path!=null&&(r.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(r.extensions=this.extensions),r}}function Qu(o){return o===void 0||o.length===0?void 0:o}function Je(o,r,a){return new Qs(`Syntax Error: ${a}`,{source:o,positions:[r]})}class qN{constructor(r,a,c){this.start=r.start,this.end=a.end,this.startToken=r,this.endToken=a,this.source=c}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class $u{constructor(r,a,c,u,p,m){this.kind=r,this.start=a,this.end=c,this.line=u,this.column=p,this.value=m,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const qu={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},eZ=new Set(Object.keys(qu));function ed(o){const r=o==null?void 0:o.kind;return typeof r=="string"&&eZ.has(r)}var Yn,$s,qs,De,ie,ce,D,We;function ea(o){return o===9||o===32}function Or(o){return o>=48&&o<=57}function td(o){return o>=97&&o<=122||o>=65&&o<=90}function nd(o){return td(o)||o===95}function tZ(o){return td(o)||Or(o)||o===95}function nZ(o){var r;let a=Number.MAX_SAFE_INTEGER,c=null,u=-1;for(let m=0;m<o.length;++m){var p;const y=o[m],f=rZ(y);f!==y.length&&(c=(p=c)!==null&&p!==void 0?p:m,u=m,m!==0&&f<a&&(a=f))}return o.map((m,y)=>y===0?m:m.slice(a)).slice((r=c)!==null&&r!==void 0?r:0,u+1)}function rZ(o){let r=0;for(;r<o.length&&ea(o.charCodeAt(r));)++r;return r}($s=Yn||(Yn={})).QUERY="query",$s.MUTATION="mutation",$s.SUBSCRIPTION="subscription",(De=qs||(qs={})).QUERY="QUERY",De.MUTATION="MUTATION",De.SUBSCRIPTION="SUBSCRIPTION",De.FIELD="FIELD",De.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",De.FRAGMENT_SPREAD="FRAGMENT_SPREAD",De.INLINE_FRAGMENT="INLINE_FRAGMENT",De.VARIABLE_DEFINITION="VARIABLE_DEFINITION",De.SCHEMA="SCHEMA",De.SCALAR="SCALAR",De.OBJECT="OBJECT",De.FIELD_DEFINITION="FIELD_DEFINITION",De.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",De.INTERFACE="INTERFACE",De.UNION="UNION",De.ENUM="ENUM",De.ENUM_VALUE="ENUM_VALUE",De.INPUT_OBJECT="INPUT_OBJECT",De.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(ce=ie||(ie={})).NAME="Name",ce.DOCUMENT="Document",ce.OPERATION_DEFINITION="OperationDefinition",ce.VARIABLE_DEFINITION="VariableDefinition",ce.SELECTION_SET="SelectionSet",ce.FIELD="Field",ce.ARGUMENT="Argument",ce.FRAGMENT_SPREAD="FragmentSpread",ce.INLINE_FRAGMENT="InlineFragment",ce.FRAGMENT_DEFINITION="FragmentDefinition",ce.VARIABLE="Variable",ce.INT="IntValue",ce.FLOAT="FloatValue",ce.STRING="StringValue",ce.BOOLEAN="BooleanValue",ce.NULL="NullValue",ce.ENUM="EnumValue",ce.LIST="ListValue",ce.OBJECT="ObjectValue",ce.OBJECT_FIELD="ObjectField",ce.DIRECTIVE="Directive",ce.NAMED_TYPE="NamedType",ce.LIST_TYPE="ListType",ce.NON_NULL_TYPE="NonNullType",ce.SCHEMA_DEFINITION="SchemaDefinition",ce.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",ce.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",ce.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",ce.FIELD_DEFINITION="FieldDefinition",ce.INPUT_VALUE_DEFINITION="InputValueDefinition",ce.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",ce.UNION_TYPE_DEFINITION="UnionTypeDefinition",ce.ENUM_TYPE_DEFINITION="EnumTypeDefinition",ce.ENUM_VALUE_DEFINITION="EnumValueDefinition",ce.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",ce.DIRECTIVE_DEFINITION="DirectiveDefinition",ce.SCHEMA_EXTENSION="SchemaExtension",ce.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",ce.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",ce.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",ce.UNION_TYPE_EXTENSION="UnionTypeExtension",ce.ENUM_TYPE_EXTENSION="EnumTypeExtension",ce.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(We=D||(D={})).SOF="<SOF>",We.EOF="<EOF>",We.BANG="!",We.DOLLAR="$",We.AMP="&",We.PAREN_L="(",We.PAREN_R=")",We.SPREAD="...",We.COLON=":",We.EQUALS="=",We.AT="@",We.BRACKET_L="[",We.BRACKET_R="]",We.BRACE_L="{",We.PIPE="|",We.BRACE_R="}",We.NAME="Name",We.INT="Int",We.FLOAT="Float",We.STRING="String",We.BLOCK_STRING="BlockString",We.COMMENT="Comment";class iZ{constructor(r){const a=new $u(D.SOF,0,0,0,0);this.source=r,this.lastToken=a,this.token=a,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let r=this.token;if(r.kind!==D.EOF)do if(r.next)r=r.next;else{const a=oZ(this,r.end);r.next=a,a.prev=r,r=a}while(r.kind===D.COMMENT);return r}}function Hn(o){return o>=0&&o<=55295||o>=57344&&o<=1114111}function Di(o,r){return rd(o.charCodeAt(r))&&id(o.charCodeAt(r+1))}function rd(o){return o>=55296&&o<=56319}function id(o){return o>=56320&&o<=57343}function pn(o,r){const a=o.source.body.codePointAt(r);if(a===void 0)return D.EOF;if(a>=32&&a<=126){const c=String.fromCodePoint(a);return c==='"'?`'"'`:`"${c}"`}return"U+"+a.toString(16).toUpperCase().padStart(4,"0")}function xe(o,r,a,c,u){const p=o.line,m=1+a-o.lineStart;return new $u(r,a,c,p,m,u)}function oZ(o,r){const a=o.source.body,c=a.length;let u=r;for(;u<c;){const p=a.charCodeAt(u);switch(p){case 65279:case 9:case 32:case 44:++u;continue;case 10:++u,++o.line,o.lineStart=u;continue;case 13:a.charCodeAt(u+1)===10?u+=2:++u,++o.line,o.lineStart=u;continue;case 35:return sZ(o,u);case 33:return xe(o,D.BANG,u,u+1);case 36:return xe(o,D.DOLLAR,u,u+1);case 38:return xe(o,D.AMP,u,u+1);case 40:return xe(o,D.PAREN_L,u,u+1);case 41:return xe(o,D.PAREN_R,u,u+1);case 46:if(a.charCodeAt(u+1)===46&&a.charCodeAt(u+2)===46)return xe(o,D.SPREAD,u,u+3);break;case 58:return xe(o,D.COLON,u,u+1);case 61:return xe(o,D.EQUALS,u,u+1);case 64:return xe(o,D.AT,u,u+1);case 91:return xe(o,D.BRACKET_L,u,u+1);case 93:return xe(o,D.BRACKET_R,u,u+1);case 123:return xe(o,D.BRACE_L,u,u+1);case 124:return xe(o,D.PIPE,u,u+1);case 125:return xe(o,D.BRACE_R,u,u+1);case 34:return a.charCodeAt(u+1)===34&&a.charCodeAt(u+2)===34?pZ(o,u):lZ(o,u)}if(Or(p)||p===45)return aZ(o,u,p);if(nd(p))return hZ(o,u);throw Je(o.source,u,p===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Hn(p)||Di(a,u)?`Unexpected character: ${pn(o,u)}.`:`Invalid character: ${pn(o,u)}.`)}return xe(o,D.EOF,c,c)}function sZ(o,r){const a=o.source.body,c=a.length;let u=r+1;for(;u<c;){const p=a.charCodeAt(u);if(p===10||p===13)break;if(Hn(p))++u;else{if(!Di(a,u))break;u+=2}}return xe(o,D.COMMENT,r,u,a.slice(r+1,u))}function aZ(o,r,a){const c=o.source.body;let u=r,p=a,m=!1;if(p===45&&(p=c.charCodeAt(++u)),p===48){if(p=c.charCodeAt(++u),Or(p))throw Je(o.source,u,`Invalid number, unexpected digit after 0: ${pn(o,u)}.`)}else u=ta(o,u,p),p=c.charCodeAt(u);if(p===46&&(m=!0,p=c.charCodeAt(++u),u=ta(o,u,p),p=c.charCodeAt(u)),p!==69&&p!==101||(m=!0,p=c.charCodeAt(++u),p!==43&&p!==45||(p=c.charCodeAt(++u)),u=ta(o,u,p),p=c.charCodeAt(u)),p===46||nd(p))throw Je(o.source,u,`Invalid number, expected digit but got: ${pn(o,u)}.`);return xe(o,m?D.FLOAT:D.INT,r,u,c.slice(r,u))}function ta(o,r,a){if(!Or(a))throw Je(o.source,r,`Invalid number, expected digit but got: ${pn(o,r)}.`);const c=o.source.body;let u=r+1;for(;Or(c.charCodeAt(u));)++u;return u}function lZ(o,r){const a=o.source.body,c=a.length;let u=r+1,p=u,m="";for(;u<c;){const y=a.charCodeAt(u);if(y===34)return m+=a.slice(p,u),xe(o,D.STRING,r,u+1,m);if(y!==92){if(y===10||y===13)break;if(Hn(y))++u;else{if(!Di(a,u))throw Je(o.source,u,`Invalid character within String: ${pn(o,u)}.`);u+=2}}else{m+=a.slice(p,u);const f=a.charCodeAt(u+1)===117?a.charCodeAt(u+2)===123?cZ(o,u):uZ(o,u):dZ(o,u);m+=f.value,u+=f.size,p=u}}throw Je(o.source,u,"Unterminated string.")}function cZ(o,r){const a=o.source.body;let c=0,u=3;for(;u<12;){const p=a.charCodeAt(r+u++);if(p===125){if(u<5||!Hn(c))break;return{value:String.fromCodePoint(c),size:u}}if(c=c<<4|wr(p),c<0)break}throw Je(o.source,r,`Invalid Unicode escape sequence: "${a.slice(r,r+u)}".`)}function uZ(o,r){const a=o.source.body,c=od(a,r+2);if(Hn(c))return{value:String.fromCodePoint(c),size:6};if(rd(c)&&a.charCodeAt(r+6)===92&&a.charCodeAt(r+7)===117){const u=od(a,r+8);if(id(u))return{value:String.fromCodePoint(c,u),size:12}}throw Je(o.source,r,`Invalid Unicode escape sequence: "${a.slice(r,r+6)}".`)}function od(o,r){return wr(o.charCodeAt(r))<<12|wr(o.charCodeAt(r+1))<<8|wr(o.charCodeAt(r+2))<<4|wr(o.charCodeAt(r+3))}function wr(o){return o>=48&&o<=57?o-48:o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:-1}function dZ(o,r){const a=o.source.body;switch(a.charCodeAt(r+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Je(o.source,r,`Invalid character escape sequence: "${a.slice(r,r+2)}".`)}function pZ(o,r){const a=o.source.body,c=a.length;let u=o.lineStart,p=r+3,m=p,y="";const f=[];for(;p<c;){const T=a.charCodeAt(p);if(T===34&&a.charCodeAt(p+1)===34&&a.charCodeAt(p+2)===34){y+=a.slice(m,p),f.push(y);const v=xe(o,D.BLOCK_STRING,r,p+3,nZ(f).join(`
`));return o.line+=f.length-1,o.lineStart=u,v}if(T!==92||a.charCodeAt(p+1)!==34||a.charCodeAt(p+2)!==34||a.charCodeAt(p+3)!==34)if(T!==10&&T!==13)if(Hn(T))++p;else{if(!Di(a,p))throw Je(o.source,p,`Invalid character within String: ${pn(o,p)}.`);p+=2}else y+=a.slice(m,p),f.push(y),T===13&&a.charCodeAt(p+1)===10?p+=2:++p,y="",m=p,u=p;else y+=a.slice(m,p),m=p+1,p+=4}throw Je(o.source,p,"Unterminated string.")}function hZ(o,r){const a=o.source.body,c=a.length;let u=r+1;for(;u<c&&tZ(a.charCodeAt(u));)++u;return xe(o,D.NAME,r,u,a.slice(r,u))}const mZ=10,sd=2;function na(o){return Fi(o,[])}function Fi(o,r){switch(typeof o){case"string":return JSON.stringify(o);case"function":return o.name?`[function ${o.name}]`:"[function]";case"object":return function(a,c){if(a===null)return"null";if(c.includes(a))return"[Circular]";const u=[...c,a];if(function(p){return typeof p.toJSON=="function"}(a)){const p=a.toJSON();if(p!==a)return typeof p=="string"?p:Fi(p,u)}else if(Array.isArray(a))return function(p,m){if(p.length===0)return"[]";if(m.length>sd)return"[Array]";const y=Math.min(mZ,p.length),f=p.length-y,T=[];for(let v=0;v<y;++v)T.push(Fi(p[v],m));return f===1?T.push("... 1 more item"):f>1&&T.push(`... ${f} more items`),"["+T.join(", ")+"]"}(a,u);return function(p,m){const y=Object.entries(p);return y.length===0?"{}":m.length>sd?"["+function(T){const v=Object.prototype.toString.call(T).replace(/^\[object /,"").replace(/]$/,"");if(v==="Object"&&typeof T.constructor=="function"){const I=T.constructor.name;if(typeof I=="string"&&I!=="")return I}return v}(p)+"]":"{ "+y.map(([T,v])=>T+": "+Fi(v,m)).join(", ")+" }"}(a,u)}(o,r);default:return String(o)}}const fZ=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(o,r){return o instanceof r}:function(o,r){if(o instanceof r)return!0;if(typeof o=="object"&&o!==null){var a;const c=r.prototype[Symbol.toStringTag];if(c===(Symbol.toStringTag in o?o[Symbol.toStringTag]:(a=o.constructor)===null||a===void 0?void 0:a.name)){const u=na(o);throw new Error(`Cannot use ${c} "${u}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class ad{constructor(r,a="GraphQL request",c={line:1,column:1}){typeof r=="string"||Ui(!1,`Body must be a string. Received: ${na(r)}.`),this.body=r,this.name=a,this.locationOffset=c,this.locationOffset.line>0||Ui(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ui(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ld(o,r){return new bZ(o,r).parseDocument()}class bZ{constructor(r,a={}){const c=function(u){return fZ(u,ad)}(r)?r:new ad(r);this._lexer=new iZ(c),this._options=a,this._tokenCounter=0}parseName(){const r=this.expectToken(D.NAME);return this.node(r,{kind:ie.NAME,value:r.value})}parseDocument(){return this.node(this._lexer.token,{kind:ie.DOCUMENT,definitions:this.many(D.SOF,this.parseDefinition,D.EOF)})}parseDefinition(){if(this.peek(D.BRACE_L))return this.parseOperationDefinition();const r=this.peekDescription(),a=r?this._lexer.lookahead():this._lexer.token;if(a.kind===D.NAME){switch(a.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(r)throw Je(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(a.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(a)}parseOperationDefinition(){const r=this._lexer.token;if(this.peek(D.BRACE_L))return this.node(r,{kind:ie.OPERATION_DEFINITION,operation:Yn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const a=this.parseOperationType();let c;return this.peek(D.NAME)&&(c=this.parseName()),this.node(r,{kind:ie.OPERATION_DEFINITION,operation:a,name:c,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const r=this.expectToken(D.NAME);switch(r.value){case"query":return Yn.QUERY;case"mutation":return Yn.MUTATION;case"subscription":return Yn.SUBSCRIPTION}throw this.unexpected(r)}parseVariableDefinitions(){return this.optionalMany(D.PAREN_L,this.parseVariableDefinition,D.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ie.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(D.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(D.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const r=this._lexer.token;return this.expectToken(D.DOLLAR),this.node(r,{kind:ie.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ie.SELECTION_SET,selections:this.many(D.BRACE_L,this.parseSelection,D.BRACE_R)})}parseSelection(){return this.peek(D.SPREAD)?this.parseFragment():this.parseField()}parseField(){const r=this._lexer.token,a=this.parseName();let c,u;return this.expectOptionalToken(D.COLON)?(c=a,u=this.parseName()):u=a,this.node(r,{kind:ie.FIELD,alias:c,name:u,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(D.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(r){const a=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(D.PAREN_L,a,D.PAREN_R)}parseArgument(r=!1){const a=this._lexer.token,c=this.parseName();return this.expectToken(D.COLON),this.node(a,{kind:ie.ARGUMENT,name:c,value:this.parseValueLiteral(r)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const r=this._lexer.token;this.expectToken(D.SPREAD);const a=this.expectOptionalKeyword("on");return!a&&this.peek(D.NAME)?this.node(r,{kind:ie.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(r,{kind:ie.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const r=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(r,{kind:ie.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(r,{kind:ie.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(r){const a=this._lexer.token;switch(a.kind){case D.BRACKET_L:return this.parseList(r);case D.BRACE_L:return this.parseObject(r);case D.INT:return this.advanceLexer(),this.node(a,{kind:ie.INT,value:a.value});case D.FLOAT:return this.advanceLexer(),this.node(a,{kind:ie.FLOAT,value:a.value});case D.STRING:case D.BLOCK_STRING:return this.parseStringLiteral();case D.NAME:switch(this.advanceLexer(),a.value){case"true":return this.node(a,{kind:ie.BOOLEAN,value:!0});case"false":return this.node(a,{kind:ie.BOOLEAN,value:!1});case"null":return this.node(a,{kind:ie.NULL});default:return this.node(a,{kind:ie.ENUM,value:a.value})}case D.DOLLAR:if(r){if(this.expectToken(D.DOLLAR),this._lexer.token.kind===D.NAME){const c=this._lexer.token.value;throw Je(this._lexer.source,a.start,`Unexpected variable "$${c}" in constant value.`)}throw this.unexpected(a)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const r=this._lexer.token;return this.advanceLexer(),this.node(r,{kind:ie.STRING,value:r.value,block:r.kind===D.BLOCK_STRING})}parseList(r){return this.node(this._lexer.token,{kind:ie.LIST,values:this.any(D.BRACKET_L,()=>this.parseValueLiteral(r),D.BRACKET_R)})}parseObject(r){return this.node(this._lexer.token,{kind:ie.OBJECT,fields:this.any(D.BRACE_L,()=>this.parseObjectField(r),D.BRACE_R)})}parseObjectField(r){const a=this._lexer.token,c=this.parseName();return this.expectToken(D.COLON),this.node(a,{kind:ie.OBJECT_FIELD,name:c,value:this.parseValueLiteral(r)})}parseDirectives(r){const a=[];for(;this.peek(D.AT);)a.push(this.parseDirective(r));return a}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(r){const a=this._lexer.token;return this.expectToken(D.AT),this.node(a,{kind:ie.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r)})}parseTypeReference(){const r=this._lexer.token;let a;if(this.expectOptionalToken(D.BRACKET_L)){const c=this.parseTypeReference();this.expectToken(D.BRACKET_R),a=this.node(r,{kind:ie.LIST_TYPE,type:c})}else a=this.parseNamedType();return this.expectOptionalToken(D.BANG)?this.node(r,{kind:ie.NON_NULL_TYPE,type:a}):a}parseNamedType(){return this.node(this._lexer.token,{kind:ie.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(D.STRING)||this.peek(D.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");const c=this.parseConstDirectives(),u=this.many(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);return this.node(r,{kind:ie.SCHEMA_DEFINITION,description:a,directives:c,operationTypes:u})}parseOperationTypeDefinition(){const r=this._lexer.token,a=this.parseOperationType();this.expectToken(D.COLON);const c=this.parseNamedType();return this.node(r,{kind:ie.OPERATION_TYPE_DEFINITION,operation:a,type:c})}parseScalarTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");const c=this.parseName(),u=this.parseConstDirectives();return this.node(r,{kind:ie.SCALAR_TYPE_DEFINITION,description:a,name:c,directives:u})}parseObjectTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");const c=this.parseName(),u=this.parseImplementsInterfaces(),p=this.parseConstDirectives(),m=this.parseFieldsDefinition();return this.node(r,{kind:ie.OBJECT_TYPE_DEFINITION,description:a,name:c,interfaces:u,directives:p,fields:m})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(D.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(D.BRACE_L,this.parseFieldDefinition,D.BRACE_R)}parseFieldDefinition(){const r=this._lexer.token,a=this.parseDescription(),c=this.parseName(),u=this.parseArgumentDefs();this.expectToken(D.COLON);const p=this.parseTypeReference(),m=this.parseConstDirectives();return this.node(r,{kind:ie.FIELD_DEFINITION,description:a,name:c,arguments:u,type:p,directives:m})}parseArgumentDefs(){return this.optionalMany(D.PAREN_L,this.parseInputValueDef,D.PAREN_R)}parseInputValueDef(){const r=this._lexer.token,a=this.parseDescription(),c=this.parseName();this.expectToken(D.COLON);const u=this.parseTypeReference();let p;this.expectOptionalToken(D.EQUALS)&&(p=this.parseConstValueLiteral());const m=this.parseConstDirectives();return this.node(r,{kind:ie.INPUT_VALUE_DEFINITION,description:a,name:c,type:u,defaultValue:p,directives:m})}parseInterfaceTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");const c=this.parseName(),u=this.parseImplementsInterfaces(),p=this.parseConstDirectives(),m=this.parseFieldsDefinition();return this.node(r,{kind:ie.INTERFACE_TYPE_DEFINITION,description:a,name:c,interfaces:u,directives:p,fields:m})}parseUnionTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");const c=this.parseName(),u=this.parseConstDirectives(),p=this.parseUnionMemberTypes();return this.node(r,{kind:ie.UNION_TYPE_DEFINITION,description:a,name:c,directives:u,types:p})}parseUnionMemberTypes(){return this.expectOptionalToken(D.EQUALS)?this.delimitedMany(D.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");const c=this.parseName(),u=this.parseConstDirectives(),p=this.parseEnumValuesDefinition();return this.node(r,{kind:ie.ENUM_TYPE_DEFINITION,description:a,name:c,directives:u,values:p})}parseEnumValuesDefinition(){return this.optionalMany(D.BRACE_L,this.parseEnumValueDefinition,D.BRACE_R)}parseEnumValueDefinition(){const r=this._lexer.token,a=this.parseDescription(),c=this.parseEnumValueName(),u=this.parseConstDirectives();return this.node(r,{kind:ie.ENUM_VALUE_DEFINITION,description:a,name:c,directives:u})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Je(this._lexer.source,this._lexer.token.start,`${Yi(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");const c=this.parseName(),u=this.parseConstDirectives(),p=this.parseInputFieldsDefinition();return this.node(r,{kind:ie.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:c,directives:u,fields:p})}parseInputFieldsDefinition(){return this.optionalMany(D.BRACE_L,this.parseInputValueDef,D.BRACE_R)}parseTypeSystemExtension(){const r=this._lexer.lookahead();if(r.kind===D.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)}parseSchemaExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const a=this.parseConstDirectives(),c=this.optionalMany(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);if(a.length===0&&c.length===0)throw this.unexpected();return this.node(r,{kind:ie.SCHEMA_EXTENSION,directives:a,operationTypes:c})}parseScalarTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const a=this.parseName(),c=this.parseConstDirectives();if(c.length===0)throw this.unexpected();return this.node(r,{kind:ie.SCALAR_TYPE_EXTENSION,name:a,directives:c})}parseObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const a=this.parseName(),c=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),p=this.parseFieldsDefinition();if(c.length===0&&u.length===0&&p.length===0)throw this.unexpected();return this.node(r,{kind:ie.OBJECT_TYPE_EXTENSION,name:a,interfaces:c,directives:u,fields:p})}parseInterfaceTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const a=this.parseName(),c=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),p=this.parseFieldsDefinition();if(c.length===0&&u.length===0&&p.length===0)throw this.unexpected();return this.node(r,{kind:ie.INTERFACE_TYPE_EXTENSION,name:a,interfaces:c,directives:u,fields:p})}parseUnionTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const a=this.parseName(),c=this.parseConstDirectives(),u=this.parseUnionMemberTypes();if(c.length===0&&u.length===0)throw this.unexpected();return this.node(r,{kind:ie.UNION_TYPE_EXTENSION,name:a,directives:c,types:u})}parseEnumTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const a=this.parseName(),c=this.parseConstDirectives(),u=this.parseEnumValuesDefinition();if(c.length===0&&u.length===0)throw this.unexpected();return this.node(r,{kind:ie.ENUM_TYPE_EXTENSION,name:a,directives:c,values:u})}parseInputObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const a=this.parseName(),c=this.parseConstDirectives(),u=this.parseInputFieldsDefinition();if(c.length===0&&u.length===0)throw this.unexpected();return this.node(r,{kind:ie.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:c,fields:u})}parseDirectiveDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(D.AT);const c=this.parseName(),u=this.parseArgumentDefs(),p=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const m=this.parseDirectiveLocations();return this.node(r,{kind:ie.DIRECTIVE_DEFINITION,description:a,name:c,arguments:u,repeatable:p,locations:m})}parseDirectiveLocations(){return this.delimitedMany(D.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const r=this._lexer.token,a=this.parseName();if(Object.prototype.hasOwnProperty.call(qs,a.value))return a;throw this.unexpected(r)}node(r,a){return this._options.noLocation!==!0&&(a.loc=new qN(r,this._lexer.lastToken,this._lexer.source)),a}peek(r){return this._lexer.token.kind===r}expectToken(r){const a=this._lexer.token;if(a.kind===r)return this.advanceLexer(),a;throw Je(this._lexer.source,a.start,`Expected ${cd(r)}, found ${Yi(a)}.`)}expectOptionalToken(r){return this._lexer.token.kind===r&&(this.advanceLexer(),!0)}expectKeyword(r){const a=this._lexer.token;if(a.kind!==D.NAME||a.value!==r)throw Je(this._lexer.source,a.start,`Expected "${r}", found ${Yi(a)}.`);this.advanceLexer()}expectOptionalKeyword(r){const a=this._lexer.token;return a.kind===D.NAME&&a.value===r&&(this.advanceLexer(),!0)}unexpected(r){const a=r!=null?r:this._lexer.token;return Je(this._lexer.source,a.start,`Unexpected ${Yi(a)}.`)}any(r,a,c){this.expectToken(r);const u=[];for(;!this.expectOptionalToken(c);)u.push(a.call(this));return u}optionalMany(r,a,c){if(this.expectOptionalToken(r)){const u=[];do u.push(a.call(this));while(!this.expectOptionalToken(c));return u}return[]}many(r,a,c){this.expectToken(r);const u=[];do u.push(a.call(this));while(!this.expectOptionalToken(c));return u}delimitedMany(r,a){this.expectOptionalToken(r);const c=[];do c.push(a.call(this));while(this.expectOptionalToken(r));return c}advanceLexer(){const{maxTokens:r}=this._options,a=this._lexer.advance();if(r!==void 0&&a.kind!==D.EOF&&(++this._tokenCounter,this._tokenCounter>r))throw Je(this._lexer.source,a.start,`Document contains more that ${r} tokens. Parsing aborted.`)}}function Yi(o){const r=o.value;return cd(o.kind)+(r!=null?` "${r}"`:"")}function cd(o){return function(r){return r===D.BANG||r===D.DOLLAR||r===D.AMP||r===D.PAREN_L||r===D.PAREN_R||r===D.SPREAD||r===D.COLON||r===D.EQUALS||r===D.AT||r===D.BRACKET_L||r===D.BRACKET_R||r===D.BRACE_L||r===D.PIPE||r===D.BRACE_R}(o)?`"${o}"`:o}const yZ=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function SZ(o){return gZ[o.charCodeAt(0)]}const gZ=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],TZ=Object.freeze({});function vZ(o,r){const a=o[r];return typeof a=="object"?a:typeof a=="function"?{enter:a,leave:void 0}:{enter:o.enter,leave:o.leave}}function ud(o){return function(r,a,c=qu){const u=new Map;for(const X of Object.values(ie))u.set(X,vZ(a,X));let p,m,y,f=Array.isArray(r),T=[r],v=-1,I=[],Z=r;const C=[],k=[];do{v++;const X=v===T.length,O=X&&I.length!==0;if(X){if(m=k.length===0?void 0:C[C.length-1],Z=y,y=k.pop(),O)if(f){Z=Z.slice();let Y=0;for(const[j,te]of I){const ne=j-Y;te===null?(Z.splice(ne,1),Y++):Z[ne]=te}}else{Z=Object.defineProperties({},Object.getOwnPropertyDescriptors(Z));for(const[Y,j]of I)Z[Y]=j}v=p.index,T=p.keys,I=p.edits,f=p.inArray,p=p.prev}else if(y){if(m=f?v:T[v],Z=y[m],Z==null)continue;C.push(m)}let P;if(!Array.isArray(Z)){var G,A;ed(Z)||Ui(!1,`Invalid AST Node: ${na(Z)}.`);const Y=X?(G=u.get(Z.kind))===null||G===void 0?void 0:G.leave:(A=u.get(Z.kind))===null||A===void 0?void 0:A.enter;if(P=Y==null?void 0:Y.call(a,Z,m,y,C,k),P===TZ)break;if(P===!1){if(!X){C.pop();continue}}else if(P!==void 0&&(I.push([m,P]),!X)){if(!ed(P)){C.pop();continue}Z=P}}var V;P===void 0&&O&&I.push([m,Z]),X?C.pop():(p={inArray:f,index:v,keys:T,edits:I,prev:p},f=Array.isArray(Z),T=f?Z:(V=c[Z.kind])!==null&&V!==void 0?V:[],v=-1,I=[],y&&k.push(y),y=Z)}while(p!==void 0);return I.length!==0?I[I.length-1][1]:r}(o,_Z)}const _Z={Name:{leave:o=>o.value},Variable:{leave:o=>"$"+o.name},Document:{leave:o=>q(o.definitions,`

`)},OperationDefinition:{leave(o){const r=fe("(",q(o.variableDefinitions,", "),")"),a=q([o.operation,q([o.name,r]),q(o.directives," ")]," ");return(a==="query"?"":a+" ")+o.selectionSet}},VariableDefinition:{leave:({variable:o,type:r,defaultValue:a,directives:c})=>o+": "+r+fe(" = ",a)+fe(" ",q(c," "))},SelectionSet:{leave:({selections:o})=>_t(o)},Field:{leave({alias:o,name:r,arguments:a,directives:c,selectionSet:u}){const p=fe("",o,": ")+r;let m=p+fe("(",q(a,", "),")");return m.length>80&&(m=p+fe(`(
`,Hi(q(a,`
`)),`
)`)),q([m,q(c," "),u]," ")}},Argument:{leave:({name:o,value:r})=>o+": "+r},FragmentSpread:{leave:({name:o,directives:r})=>"..."+o+fe(" ",q(r," "))},InlineFragment:{leave:({typeCondition:o,directives:r,selectionSet:a})=>q(["...",fe("on ",o),q(r," "),a]," ")},FragmentDefinition:{leave:({name:o,typeCondition:r,variableDefinitions:a,directives:c,selectionSet:u})=>`fragment ${o}${fe("(",q(a,", "),")")} on ${r} ${fe("",q(c," ")," ")}`+u},IntValue:{leave:({value:o})=>o},FloatValue:{leave:({value:o})=>o},StringValue:{leave:({value:o,block:r})=>r?function(a,c){const u=a.replace(/"""/g,'\\"""'),p=u.split(/\r\n|[\n\r]/g),m=p.length===1,y=p.length>1&&p.slice(1).every(G=>G.length===0||ea(G.charCodeAt(0))),f=u.endsWith('\\"""'),T=a.endsWith('"')&&!f,v=a.endsWith("\\"),I=T||v,Z=!(c!=null&&c.minimize)&&(!m||a.length>70||I||y||f);let C="";const k=m&&ea(a.charCodeAt(0));return(Z&&!k||y)&&(C+=`
`),C+=u,(Z||I)&&(C+=`
`),'"""'+C+'"""'}(o):`"${o.replace(yZ,SZ)}"`},BooleanValue:{leave:({value:o})=>o?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:o})=>o},ListValue:{leave:({values:o})=>"["+q(o,", ")+"]"},ObjectValue:{leave:({fields:o})=>"{"+q(o,", ")+"}"},ObjectField:{leave:({name:o,value:r})=>o+": "+r},Directive:{leave:({name:o,arguments:r})=>"@"+o+fe("(",q(r,", "),")")},NamedType:{leave:({name:o})=>o},ListType:{leave:({type:o})=>"["+o+"]"},NonNullType:{leave:({type:o})=>o+"!"},SchemaDefinition:{leave:({description:o,directives:r,operationTypes:a})=>fe("",o,`
`)+q(["schema",q(r," "),_t(a)]," ")},OperationTypeDefinition:{leave:({operation:o,type:r})=>o+": "+r},ScalarTypeDefinition:{leave:({description:o,name:r,directives:a})=>fe("",o,`
`)+q(["scalar",r,q(a," ")]," ")},ObjectTypeDefinition:{leave:({description:o,name:r,interfaces:a,directives:c,fields:u})=>fe("",o,`
`)+q(["type",r,fe("implements ",q(a," & ")),q(c," "),_t(u)]," ")},FieldDefinition:{leave:({description:o,name:r,arguments:a,type:c,directives:u})=>fe("",o,`
`)+r+(dd(a)?fe(`(
`,Hi(q(a,`
`)),`
)`):fe("(",q(a,", "),")"))+": "+c+fe(" ",q(u," "))},InputValueDefinition:{leave:({description:o,name:r,type:a,defaultValue:c,directives:u})=>fe("",o,`
`)+q([r+": "+a,fe("= ",c),q(u," ")]," ")},InterfaceTypeDefinition:{leave:({description:o,name:r,interfaces:a,directives:c,fields:u})=>fe("",o,`
`)+q(["interface",r,fe("implements ",q(a," & ")),q(c," "),_t(u)]," ")},UnionTypeDefinition:{leave:({description:o,name:r,directives:a,types:c})=>fe("",o,`
`)+q(["union",r,q(a," "),fe("= ",q(c," | "))]," ")},EnumTypeDefinition:{leave:({description:o,name:r,directives:a,values:c})=>fe("",o,`
`)+q(["enum",r,q(a," "),_t(c)]," ")},EnumValueDefinition:{leave:({description:o,name:r,directives:a})=>fe("",o,`
`)+q([r,q(a," ")]," ")},InputObjectTypeDefinition:{leave:({description:o,name:r,directives:a,fields:c})=>fe("",o,`
`)+q(["input",r,q(a," "),_t(c)]," ")},DirectiveDefinition:{leave:({description:o,name:r,arguments:a,repeatable:c,locations:u})=>fe("",o,`
`)+"directive @"+r+(dd(a)?fe(`(
`,Hi(q(a,`
`)),`
)`):fe("(",q(a,", "),")"))+(c?" repeatable":"")+" on "+q(u," | ")},SchemaExtension:{leave:({directives:o,operationTypes:r})=>q(["extend schema",q(o," "),_t(r)]," ")},ScalarTypeExtension:{leave:({name:o,directives:r})=>q(["extend scalar",o,q(r," ")]," ")},ObjectTypeExtension:{leave:({name:o,interfaces:r,directives:a,fields:c})=>q(["extend type",o,fe("implements ",q(r," & ")),q(a," "),_t(c)]," ")},InterfaceTypeExtension:{leave:({name:o,interfaces:r,directives:a,fields:c})=>q(["extend interface",o,fe("implements ",q(r," & ")),q(a," "),_t(c)]," ")},UnionTypeExtension:{leave:({name:o,directives:r,types:a})=>q(["extend union",o,q(r," "),fe("= ",q(a," | "))]," ")},EnumTypeExtension:{leave:({name:o,directives:r,values:a})=>q(["extend enum",o,q(r," "),_t(a)]," ")},InputObjectTypeExtension:{leave:({name:o,directives:r,fields:a})=>q(["extend input",o,q(r," "),_t(a)]," ")}};function q(o,r=""){var a;return(a=o==null?void 0:o.filter(c=>c).join(r))!==null&&a!==void 0?a:""}function _t(o){return fe(`{
`,Hi(q(o,`
`)),`
}`)}function fe(o,r,a=""){return r!=null&&r!==""?o+r+a:""}function Hi(o){return fe("  ",o.replace(/\n/g,`
  `))}function dd(o){var r;return(r=o==null?void 0:o.some(a=>a.includes(`
`)))!==null&&r!==void 0&&r}const pd=o=>{var r,a;let c;const u=o.definitions.filter(p=>p.kind==="OperationDefinition");return u.length===1&&(c=(a=(r=u[0])==null?void 0:r.name)==null?void 0:a.value),c},ra=o=>{if(typeof o=="string"){let a;try{const c=ld(o);a=pd(c)}catch(c){}return{query:o,operationName:a}}const r=pd(o);return{query:ud(o),operationName:r}};class Kn extends Error{constructor(r,a){super(`${Kn.extractMessage(r)}: ${JSON.stringify({response:r,request:a})}`),Object.setPrototypeOf(this,Kn.prototype),this.response=r,this.request=a,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kn)}static extractMessage(r){var a,c,u;return(u=(c=(a=r.errors)==null?void 0:a[0])==null?void 0:c.message)!=null?u:`GraphQL Error (Code: ${r.status})`}}var ia={exports:{}};(function(o,r){var a,c=typeof self!="undefined"?self:LN,u=function(){function m(){this.fetch=!1,this.DOMException=c.DOMException}return m.prototype=c,new m}();a=u,function(m){var y="URLSearchParams"in a,f="Symbol"in a&&"iterator"in Symbol,T="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(E){return!1}}(),v="FormData"in a,I="ArrayBuffer"in a;if(I)var Z=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],C=ArrayBuffer.isView||function(E){return E&&Z.indexOf(Object.prototype.toString.call(E))>-1};function k(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function G(E){return typeof E!="string"&&(E=String(E)),E}function A(E){var M={next:function(){var H=E.shift();return{done:H===void 0,value:H}}};return f&&(M[Symbol.iterator]=function(){return M}),M}function V(E){this.map={},E instanceof V?E.forEach(function(M,H){this.append(H,M)},this):Array.isArray(E)?E.forEach(function(M){this.append(M[0],M[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(M){this.append(M,E[M])},this)}function X(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function O(E){return new Promise(function(M,H){E.onload=function(){M(E.result)},E.onerror=function(){H(E.error)}})}function P(E){var M=new FileReader,H=O(M);return M.readAsArrayBuffer(E),H}function Y(E){if(E.slice)return E.slice(0);var M=new Uint8Array(E.byteLength);return M.set(new Uint8Array(E)),M.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(E){var M;this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:T&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:v&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:y&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():I&&T&&(M=E)&&DataView.prototype.isPrototypeOf(M)?(this._bodyArrayBuffer=Y(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):I&&(ArrayBuffer.prototype.isPrototypeOf(E)||C(E))?this._bodyArrayBuffer=Y(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},T&&(this.blob=function(){var E=X(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?X(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var E,M,H,F=X(this);if(F)return F;if(this._bodyBlob)return E=this._bodyBlob,M=new FileReader,H=O(M),M.readAsText(E),H;if(this._bodyArrayBuffer)return Promise.resolve(function(oe){for(var W=new Uint8Array(oe),J=new Array(W.length),ve=0;ve<W.length;ve++)J[ve]=String.fromCharCode(W[ve]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}V.prototype.append=function(E,M){E=k(E),M=G(M);var H=this.map[E];this.map[E]=H?H+", "+M:M},V.prototype.delete=function(E){delete this.map[k(E)]},V.prototype.get=function(E){return E=k(E),this.has(E)?this.map[E]:null},V.prototype.has=function(E){return this.map.hasOwnProperty(k(E))},V.prototype.set=function(E,M){this.map[k(E)]=G(M)},V.prototype.forEach=function(E,M){for(var H in this.map)this.map.hasOwnProperty(H)&&E.call(M,this.map[H],H,this)},V.prototype.keys=function(){var E=[];return this.forEach(function(M,H){E.push(H)}),A(E)},V.prototype.values=function(){var E=[];return this.forEach(function(M){E.push(M)}),A(E)},V.prototype.entries=function(){var E=[];return this.forEach(function(M,H){E.push([H,M])}),A(E)},f&&(V.prototype[Symbol.iterator]=V.prototype.entries);var te=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ne(E,M){var H,F,oe=(M=M||{}).body;if(E instanceof ne){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,M.headers||(this.headers=new V(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,oe||E._bodyInit==null||(oe=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=M.credentials||this.credentials||"same-origin",!M.headers&&this.headers||(this.headers=new V(M.headers)),this.method=(H=M.method||this.method||"GET",F=H.toUpperCase(),te.indexOf(F)>-1?F:H),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(oe)}function Q(E){var M=new FormData;return E.trim().split("&").forEach(function(H){if(H){var F=H.split("="),oe=F.shift().replace(/\+/g," "),W=F.join("=").replace(/\+/g," ");M.append(decodeURIComponent(oe),decodeURIComponent(W))}}),M}function z(E,M){M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in M?M.statusText:"OK",this.headers=new V(M.headers),this.url=M.url||"",this._initBody(E)}ne.prototype.clone=function(){return new ne(this,{body:this._bodyInit})},j.call(ne.prototype),j.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new V(this.headers),url:this.url})},z.error=function(){var E=new z(null,{status:0,statusText:""});return E.type="error",E};var ee=[301,302,303,307,308];z.redirect=function(E,M){if(ee.indexOf(M)===-1)throw new RangeError("Invalid status code");return new z(null,{status:M,headers:{location:E}})},m.DOMException=a.DOMException;try{new m.DOMException}catch(E){m.DOMException=function(M,H){this.message=M,this.name=H;var F=Error(M);this.stack=F.stack},m.DOMException.prototype=Object.create(Error.prototype),m.DOMException.prototype.constructor=m.DOMException}function K(E,M){return new Promise(function(H,F){var oe=new ne(E,M);if(oe.signal&&oe.signal.aborted)return F(new m.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function J(){W.abort()}W.onload=function(){var ve,ye,pe={status:W.status,statusText:W.statusText,headers:(ve=W.getAllResponseHeaders()||"",ye=new V,ve.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(nt){var Qe=nt.split(":"),$=Qe.shift().trim();if($){var ue=Qe.join(":").trim();ye.append($,ue)}}),ye)};pe.url="responseURL"in W?W.responseURL:pe.headers.get("X-Request-URL");var ae="response"in W?W.response:W.responseText;H(new z(ae,pe))},W.onerror=function(){F(new TypeError("Network request failed"))},W.ontimeout=function(){F(new TypeError("Network request failed"))},W.onabort=function(){F(new m.DOMException("Aborted","AbortError"))},W.open(oe.method,oe.url,!0),oe.credentials==="include"?W.withCredentials=!0:oe.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&T&&(W.responseType="blob"),oe.headers.forEach(function(ve,ye){W.setRequestHeader(ye,ve)}),oe.signal&&(oe.signal.addEventListener("abort",J),W.onreadystatechange=function(){W.readyState===4&&oe.signal.removeEventListener("abort",J)}),W.send(oe._bodyInit===void 0?null:oe._bodyInit)})}K.polyfill=!0,a.fetch||(a.fetch=K,a.Headers=V,a.Request=ne,a.Response=z),m.Headers=V,m.Request=ne,m.Response=z,m.fetch=K,Object.defineProperty(m,"__esModule",{value:!0})}({}),u.fetch.ponyfill=!0,delete u.fetch.polyfill;var p=u;(r=p.fetch).default=p.fetch,r.fetch=p.fetch,r.Headers=p.Headers,r.Request=p.Request,r.Response=p.Response,o.exports=r})(ia,ia.exports);var Ki=ia.exports;const Ji=xs(Ki),EZ=L({__proto__:null,default:Ji},[Ki]),Jn=o=>{let r={};return o&&(typeof Headers!="undefined"&&o instanceof Headers||EZ&&Ki.Headers&&o instanceof Ki.Headers?r=(a=>{const c={};return a.forEach((u,p)=>{c[p]=u}),c})(o):Array.isArray(o)?o.forEach(([a,c])=>{a&&c!==void 0&&(r[a]=c)}):r=o),r},hd=o=>o.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),IZ=o=>r=>w(this,null,function*(){var a;const{url:c,query:u,variables:p,operationName:m,fetch:y,fetchOptions:f,middleware:T}=r,v=S({},r.headers);let I,Z="";o==="POST"?(I=NZ(u,p,m,f.jsonSerializer),typeof I=="string"&&(v["Content-Type"]="application/json")):Z=(A=>{if(!Array.isArray(A.query)){const O=A,P=[`query=${encodeURIComponent(hd(O.query))}`];return A.variables&&P.push(`variables=${encodeURIComponent(O.jsonSerializer.stringify(O.variables))}`),O.operationName&&P.push(`operationName=${encodeURIComponent(O.operationName)}`),P.join("&")}if(A.variables!==void 0&&!Array.isArray(A.variables))throw new Error("Cannot create query with given variable type, array expected");const V=A,X=A.query.reduce((O,P,Y)=>(O.push({query:hd(P),variables:V.variables?V.jsonSerializer.stringify(V.variables[Y]):void 0}),O),[]);return`query=${encodeURIComponent(V.jsonSerializer.stringify(X))}`})({query:u,variables:p,operationName:m,jsonSerializer:(a=f.jsonSerializer)!=null?a:zs});const C=S({method:o,headers:v,body:I},f);let k=c,G=C;if(T){const A=yield Promise.resolve(T(_(S({},C),{url:c,operationName:m,variables:p}))),{url:V}=A;k=V,G=R(A,["url"])}return Z&&(k=`${k}?${Z}`),yield y(k,G)});class RZ{constructor(r,a={}){this.url=r,this.requestConfig=a,this.rawRequest=(...c)=>w(this,null,function*(){const[u,p,m]=c,y=((V,X,O)=>V.query?V:{query:V,variables:X,requestHeaders:O,signal:void 0})(u,p,m),f=this.requestConfig,{headers:T,fetch:v=Ji,method:I="POST",requestMiddleware:Z,responseMiddleware:C}=f,k=R(f,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:G}=this;y.signal!==void 0&&(k.signal=y.signal);const{operationName:A}=ra(y.query);return oa({url:G,query:y.query,variables:y.variables,headers:S(S({},Jn(sa(T))),Jn(y.requestHeaders)),operationName:A,fetch:v,method:I,fetchOptions:k,middleware:Z}).then(V=>(C&&C(V),V)).catch(V=>{throw C&&C(V),V})})}request(r,...a){return w(this,null,function*(){const[c,u]=a,p=((A,V,X)=>A.document?A:{document:A,variables:V,requestHeaders:X,signal:void 0})(r,c,u),m=this.requestConfig,{headers:y,fetch:f=Ji,method:T="POST",requestMiddleware:v,responseMiddleware:I}=m,Z=R(m,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:C}=this;p.signal!==void 0&&(Z.signal=p.signal);const{query:k,operationName:G}=ra(p.document);return oa({url:C,query:k,variables:p.variables,headers:S(S({},Jn(sa(y))),Jn(p.requestHeaders)),operationName:G,fetch:f,method:T,fetchOptions:Z,middleware:v}).then(A=>(I&&I(A),A.data)).catch(A=>{throw I&&I(A),A})})}batchRequests(r,a){var c;const u=((v,I)=>v.documents?v:{documents:v,requestHeaders:I,signal:void 0})(r,a),p=this.requestConfig,{headers:m}=p,y=R(p,["headers"]);u.signal!==void 0&&(y.signal=u.signal);const f=u.documents.map(({document:v})=>ra(v).query),T=u.documents.map(({variables:v})=>v);return oa({url:this.url,query:f,variables:T,headers:S(S({},Jn(sa(m))),Jn(u.requestHeaders)),operationName:void 0,fetch:(c=this.requestConfig.fetch)!=null?c:Ji,method:this.requestConfig.method||"POST",fetchOptions:y,middleware:this.requestConfig.requestMiddleware}).then(v=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(v),v.data)).catch(v=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(v),v})}setHeaders(r){return this.requestConfig.headers=r,this}setHeader(r,a){const{headers:c}=this.requestConfig;return c?c[r]=a:this.requestConfig.headers={[r]:a},this}setEndpoint(r){return this.url=r,this}}const oa=o=>w(this,null,function*(){var r,a;const{query:c,variables:u,fetchOptions:p}=o,m=IZ(((r=o.method)!=null?r:"post").toUpperCase()),y=Array.isArray(o.query),f=yield m(o),T=yield ZZ(f,(a=p.jsonSerializer)!=null?a:zs),v=Array.isArray(T)?!T.some(({data:Z})=>!Z):!!T.data,I=Array.isArray(T)||!T.errors||Array.isArray(T.errors)&&!T.errors.length||p.errorPolicy==="all"||p.errorPolicy==="ignore";if(f.ok&&I&&v){const Z=T,C=R(Z,["errors"]),k=p.errorPolicy==="ignore"?C:T;return _(S({},y?{data:k}:k),{headers:f.headers,status:f.status})}throw new Kn(_(S({},typeof T=="string"?{error:T}:T),{status:f.status,headers:f.headers}),{query:c,variables:u})}),NZ=(o,r,a,c)=>{const u=c!=null?c:zs;if(!Array.isArray(o))return u.stringify({query:o,variables:r,operationName:a});if(r!==void 0&&!Array.isArray(r))throw new Error("Cannot create request body with given variable type, array expected");const p=o.reduce((m,y,f)=>(m.push({query:y,variables:r?r[f]:void 0}),m),[]);return u.stringify(p)},ZZ=(o,r)=>w(this,null,function*(){let a;return o.headers.forEach((c,u)=>{u.toLowerCase()==="content-type"&&(a=c)}),a&&(a.toLowerCase().startsWith("application/json")||a.toLowerCase().startsWith("application/graphql+json")||a.toLowerCase().startsWith("application/graphql-response+json"))?r.parse(yield o.text()):o.text()}),sa=o=>typeof o=="function"?o():o;var Bi=function(){return Bi=Object.assign||function(o){for(var r,a=1,c=arguments.length;a<c;a++)for(var u in r=arguments[a])Object.prototype.hasOwnProperty.call(r,u)&&(o[u]=r[u]);return o},Bi.apply(this,arguments)},zi=new Map,aa=new Map,md=!0,ji=!1;function fd(o){return o.replace(/[\s,]+/g," ").trim()}function CZ(o){var r=new Set,a=[];return o.definitions.forEach(function(c){if(c.kind==="FragmentDefinition"){var u=c.name.value,p=fd((y=c.loc).source.body.substring(y.start,y.end)),m=aa.get(u);m&&!m.has(p)?md&&console.warn("Warning: fragment with name "+u+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):m||aa.set(u,m=new Set),m.add(p),r.has(p)||(r.add(p),a.push(c))}else a.push(c);var y}),Bi(Bi({},o),{definitions:a})}function OZ(o){var r=fd(o);if(!zi.has(r)){var a=ld(o,{experimentalFragmentVariables:ji,allowLegacyFragmentVariables:ji});if(!a||a.kind!=="Document")throw new Error("Not a valid GraphQL document.");zi.set(r,function(c){var u=new Set(c.definitions);u.forEach(function(m){m.loc&&delete m.loc,Object.keys(m).forEach(function(y){var f=m[y];f&&typeof f=="object"&&u.add(f)})});var p=c.loc;return p&&(delete p.startToken,delete p.endToken),c}(CZ(a)))}return zi.get(r)}function ut(o){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];typeof o=="string"&&(o=[o]);var c=o[0];return r.forEach(function(u,p){u&&u.kind==="Document"?c+=u.loc.source.body:c+=u,c+=o[p+1]}),OZ(c)}var Lr,wZ=ut,LZ=function(){zi.clear(),aa.clear()},GZ=function(){md=!1},VZ=function(){ji=!0},XZ=function(){ji=!1};(Lr=ut||(ut={})).gql=wZ,Lr.resetCaches=LZ,Lr.disableFragmentWarnings=GZ,Lr.enableExperimentalFragmentVariables=VZ,Lr.disableExperimentalFragmentVariables=XZ,ut.default=ut;const bd=ut`
	mutation PushPayload(
		$session_secure_id: String!
		$payload_id: ID!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$web_socket_events: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			events: $events
			messages: $messages
			resources: $resources
			web_socket_events: $web_socket_events
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
		)
	}
`,PZ=ut`
	mutation PushPayloadCompressed(
		$session_secure_id: String!
		$payload_id: ID!
		$data: String!
	) {
		pushPayloadCompressed(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			data: $data
		)
	}
`,WZ=ut`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,kZ=ut`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,AZ=ut`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,MZ=ut`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,xZ=ut`
	mutation initializeSession(
		$session_secure_id: String!
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$privacy_setting: String!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$serviceName: String!
		$client_id: String!
		$network_recording_domains: [String!]
		$disable_session_recording: Boolean
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			serviceName: $serviceName
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
			disable_session_recording: $disable_session_recording
			privacy_setting: $privacy_setting
		) {
			secure_id
			project_id
		}
	}
`,UZ=ut`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,DZ=(o,r,a,c)=>o(),FZ=o=>{o(window.location.href);var r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(p){setTimeout(()=>{var m,y;try{y=JSON.parse((m=p==null?void 0:p.toString())!=null?m:"")}catch(f){return}y.type!=="track"&&y.type!=="identify"||la(y)&&o(y)},100),r.call(this,p)};const a=p=>{if(p.key==="ajs_user_id"||p.key==="ajs_anonymous_id"||p.key==="ajs_user_traits"){const{userId:m,userTraits:y}=yd();if(m){let f={};y&&(f=JSON.parse(y));const T={type:"identify",userId:m.toString(),traits:f};la(T)&&o(T)}}},{userId:c,userTraits:u}=yd();if(c){let p={};u&&(p=JSON.parse(u));const m={type:"identify",userId:c.toString(),traits:p};la(m)&&o(m)}return window.addEventListener("storage",a),UN(({keyName:p})=>{a({key:p})}),()=>{window.removeEventListener("storage",a),XMLHttpRequest.prototype.send=r}},yd=()=>({userId:at("ajs_user_id"),userTraits:at("ajs_user_traits"),anonymousId:at("ajs_anonymous_id")}),la=o=>{if(!o)return!1;let r="";try{r=JSON.stringify(o)}catch(u){return!1}const a=YZ(r),c=at(Ue.SEGMENT_LAST_SENT_HASH_KEY);return(c===void 0||a!==c)&&(vt(Ue.SEGMENT_LAST_SENT_HASH_KEY,a),!0)},YZ=o=>{var r=0,a=o.length,c=0;if(a>0)for(;c<a;)r=(r<<5)-r+o.charCodeAt(c++)|0;return r.toString()};function Sd(o,r){return HZ(o)}function gd(o){if(o.id.length)return`#${o.id}`;if(o.classList.length){let r=[];for(const a of o.classList)r.push(`.${a}`);return`${o.nodeName.toLowerCase()}${r.join(",")}`}return o.nodeName.toLowerCase()}const HZ=o=>{let r="";const a=o.getAttribute("class"),c=o.getAttribute("id");return c&&(r=r.concat(Td(c,"#"))),a&&(r=r.concat(Td(a,"."))),r===""&&(r=r.concat(o.tagName.toLowerCase())),r},Td=(o,r)=>`${r}${o.trim().split(" ").join(r)}`,KZ=(o,r)=>{const a=function(y){typeof y!="string"&&(y="");const f=(y=y.replace(/\s/g,"")).split(",");let T=f.lastIndexOf("");for(;T>=0;)f[T-1]+=",",f.splice(T,1),T=f.lastIndexOf("");return f}(o);let c=[];for(let y=0;y<a.length;y++){let f=a[y].split("+");c=[],f.length>1&&(c=zZ(_d,f)),f=f[f.length-1],f=f==="*"?"*":BZ(f),f in Gt||(Gt[f]=[]),Gt[f].push({mods:c,shortcut:a[y],key:a[y],method:r,keyup:!1,keydown:!0,scope:"all",splitKey:"+"})}var u,p,m;u=document,p="keydown",m=y=>{(function(f){const T=Gt["*"];let v=f.keyCode||f.which||f.charCode;if(v!==93&&v!==224||(v=91),et.indexOf(v)===-1&&v!==229&&et.push(v),["ctrlKey","altKey","shiftKey","metaKey"].forEach(I=>{const Z=vd[I];f[I]&&et.indexOf(Z)===-1?et.push(Z):!f[I]&&et.indexOf(Z)>-1?et.splice(et.indexOf(Z),1):I==="metaKey"&&f[I]&&et.length===3&&(f.ctrlKey||f.shiftKey||f.altKey||(et=et.slice(et.indexOf(Z))))}),!(v in tt)||(tt[v]=!0,T)){for(const I in tt)Object.prototype.hasOwnProperty.call(tt,I)&&(tt[I]=f[vd[I]]);if(f.getModifierState&&(!f.altKey||f.ctrlKey)&&f.getModifierState("AltGraph")&&(et.indexOf(17)===-1&&et.push(17),et.indexOf(18)===-1&&et.push(18),tt[17]=!0,tt[18]=!0),v in Gt){for(let I=0;I<Gt[v].length;I++)if((f.type==="keydown"&&Gt[v][I].keydown||f.type==="keyup"&&Gt[v][I].keyup)&&Gt[v][I].key){const Z=Gt[v][I];jZ(f,Z,"all")}}}})(y)},u.addEventListener?u.addEventListener(p,m,!1):u.attachEvent&&u.attachEvent(`on${p}`,()=>{m(window.event)})};let et=[];const Gt={},ca=typeof navigator!="undefined"&&navigator.userAgent.toLowerCase().indexOf("firefox")>0,JZ={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":ca?173:189,"=":ca?61:187,";":ca?59:186,"'":222,"[":219,"]":221,"\\":220},vd={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},tt={16:!1,18:!1,17:!1,91:!1},_d={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},BZ=o=>JZ[o.toLowerCase()]||_d[o.toLowerCase()]||o.toUpperCase().charCodeAt(0);function zZ(o,r){const a=r.slice(0,r.length-1);for(let c=0;c<a.length;c++)a[c]=o[a[c].toLowerCase()];return a}function jZ(o,r,a){let c;if(r.scope===a||r.scope==="all"){c=r.mods.length>0;for(const u in tt)Object.prototype.hasOwnProperty.call(tt,u)&&(!tt[u]&&r.mods.indexOf(+u)>-1||tt[u]&&r.mods.indexOf(+u)===-1)&&(c=!1);(r.mods.length!==0||tt[16]||tt[18]||tt[17]||tt[91])&&!c&&r.shortcut!=="*"||r.method(o,r)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}var $t,Gr,Ed,Qi,ua,Id=-1,hn=function(o){addEventListener("pageshow",function(r){r.persisted&&(Id=r.timeStamp,o(r))},!0)},da=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},$i=function(){var o=da();return o&&o.activationStart||0},ht=function(o,r){var a=da(),c="navigate";return Id>=0?c="back-forward-cache":a&&(document.prerendering||$i()>0?c="prerender":document.wasDiscarded?c="restore":a.type&&(c=a.type.replace(/_/g,"-"))),{name:o,value:r===void 0?-1:r,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:c}},Bn=function(o,r,a){try{if(PerformanceObserver.supportedEntryTypes.includes(o)){var c=new PerformanceObserver(function(u){Promise.resolve().then(function(){r(u.getEntries())})});return c.observe(Object.assign({type:o,buffered:!0},a||{})),c}}catch(u){}},mt=function(o,r,a,c){var u,p;return function(m){var y,f;r.value>=0&&(m||c)&&((p=r.value-(u||0))||u===void 0)&&(u=r.value,r.delta=p,r.rating=(y=r.value)>(f=a)[1]?"poor":y>f[0]?"needs-improvement":"good",o(r))}},pa=function(o){requestAnimationFrame(function(){return requestAnimationFrame(function(){return o()})})},qi=function(o){var r=function(a){a.type!=="pagehide"&&document.visibilityState!=="hidden"||o(a)};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},ha=function(o){var r=!1;return function(a){r||(o(a),r=!0)}},zn=-1,Rd=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},eo=function(o){document.visibilityState==="hidden"&&zn>-1&&(zn=o.type==="visibilitychange"?o.timeStamp:0,QZ())},Nd=function(){addEventListener("visibilitychange",eo,!0),addEventListener("prerenderingchange",eo,!0)},QZ=function(){removeEventListener("visibilitychange",eo,!0),removeEventListener("prerenderingchange",eo,!0)},ma=function(){return zn<0&&(zn=Rd(),Nd(),hn(function(){setTimeout(function(){zn=Rd(),Nd()},0)})),{get firstHiddenTime(){return zn}}},Vr=function(o){document.prerendering?addEventListener("prerenderingchange",function(){return o()},!0):o()},Zd=[1800,3e3],Cd=function(o,r){r=r||{},Vr(function(){var a,c=ma(),u=ht("FCP"),p=Bn("paint",function(m){m.forEach(function(y){y.name==="first-contentful-paint"&&(p.disconnect(),y.startTime<c.firstHiddenTime&&(u.value=Math.max(y.startTime-$i(),0),u.entries.push(y),a(!0)))})});p&&(a=mt(o,u,Zd,r.reportAllChanges),hn(function(m){u=ht("FCP"),a=mt(o,u,Zd,r.reportAllChanges),pa(function(){u.value=performance.now()-m.timeStamp,a(!0)})}))})},Od=[.1,.25],Xr={passive:!0,capture:!0},$Z=new Date,wd=function(o,r){$t||($t=r,Gr=o,Ed=new Date,Gd(removeEventListener),Ld())},Ld=function(){if(Gr>=0&&Gr<Ed-$Z){var o={entryType:"first-input",name:$t.type,target:$t.target,cancelable:$t.cancelable,startTime:$t.timeStamp,processingStart:$t.timeStamp+Gr};Qi.forEach(function(r){r(o)}),Qi=[]}},qZ=function(o){if(o.cancelable){var r=(o.timeStamp>1e12?new Date:performance.now())-o.timeStamp;o.type=="pointerdown"?function(a,c){var u=function(){wd(a,c),m()},p=function(){m()},m=function(){removeEventListener("pointerup",u,Xr),removeEventListener("pointercancel",p,Xr)};addEventListener("pointerup",u,Xr),addEventListener("pointercancel",p,Xr)}(r,o):wd(r,o)}},Gd=function(o){["mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return o(r,qZ,Xr)})},Vd=[100,300],Xd=0,fa=1/0,to=0,eC=function(o){o.forEach(function(r){r.interactionId&&(fa=Math.min(fa,r.interactionId),to=Math.max(to,r.interactionId),Xd=to?(to-fa)/7+1:0)})},Pd=function(){return ua?Xd:performance.interactionCount||0},Wd=[200,500],kd=0,Ad=function(){return Pd()-kd},Vt=[],ba={},Md=function(o){var r=Vt[Vt.length-1],a=ba[o.interactionId];if(a||Vt.length<10||o.duration>r.latency){if(a)a.entries.push(o),a.latency=Math.max(a.latency,o.duration);else{var c={id:o.interactionId,latency:o.duration,entries:[o]};ba[c.id]=c,Vt.push(c)}Vt.sort(function(u,p){return p.latency-u.latency}),Vt.splice(10).forEach(function(u){delete ba[u.id]})}},tC=function(o,r){r=r||{},Vr(function(){var a;"interactionCount"in performance||ua||(ua=Bn("event",eC,{type:"event",buffered:!0,durationThreshold:0}));var c,u=ht("INP"),p=function(y){y.forEach(function(v){v.interactionId&&Md(v),v.entryType==="first-input"&&!Vt.some(function(I){return I.entries.some(function(Z){return v.duration===Z.duration&&v.startTime===Z.startTime})})&&Md(v)});var f,T=(f=Math.min(Vt.length-1,Math.floor(Ad()/50)),Vt[f]);T&&T.latency!==u.value&&(u.value=T.latency,u.entries=T.entries,c())},m=Bn("event",p,{durationThreshold:(a=r.durationThreshold)!==null&&a!==void 0?a:40});c=mt(o,u,Wd,r.reportAllChanges),m&&("interactionId"in PerformanceEventTiming.prototype&&m.observe({type:"first-input",buffered:!0}),qi(function(){p(m.takeRecords()),u.value<0&&Ad()>0&&(u.value=0,u.entries=[]),c(!0)}),hn(function(){Vt=[],kd=Pd(),u=ht("INP"),c=mt(o,u,Wd,r.reportAllChanges)}))})},xd=[2500,4e3],ya={},Ud=[800,1800],nC=function o(r){document.prerendering?Vr(function(){return o(r)}):document.readyState!=="complete"?addEventListener("load",function(){return o(r)},!0):setTimeout(r,0)},rC=function(o,r){r=r||{};var a=ht("TTFB"),c=mt(o,a,Ud,r.reportAllChanges);nC(function(){var u=da();if(u){var p=u.responseStart;if(p<=0||p>performance.now())return;a.value=Math.max(p-$i(),0),a.entries=[u],c(!0),hn(function(){a=ht("TTFB",0),(c=mt(o,a,Ud,r.reportAllChanges))(!0)})}})};const iC=o=>{var r,a;return r=o,a=a||{},Cd(ha(function(){var c,u=ht("CLS",0),p=0,m=[],y=function(T){T.forEach(function(v){if(!v.hadRecentInput){var I=m[0],Z=m[m.length-1];p&&v.startTime-Z.startTime<1e3&&v.startTime-I.startTime<5e3?(p+=v.value,m.push(v)):(p=v.value,m=[v])}}),p>u.value&&(u.value=p,u.entries=m,c())},f=Bn("layout-shift",y);f&&(c=mt(r,u,Od,a.reportAllChanges),qi(function(){y(f.takeRecords()),c(!0)}),hn(function(){p=0,u=ht("CLS",0),c=mt(r,u,Od,a.reportAllChanges),pa(function(){return c()})}),setTimeout(c,0))})),Cd(o),function(c,u){u=u||{},Vr(function(){var p,m=ma(),y=ht("FID"),f=function(I){I.startTime<m.firstHiddenTime&&(y.value=I.processingStart-I.startTime,y.entries.push(I),p(!0))},T=function(I){I.forEach(f)},v=Bn("first-input",T);p=mt(c,y,Vd,u.reportAllChanges),v&&qi(ha(function(){T(v.takeRecords()),v.disconnect()})),v&&hn(function(){var I;y=ht("FID"),p=mt(c,y,Vd,u.reportAllChanges),Qi=[],Gr=-1,$t=null,Gd(addEventListener),I=f,Qi.push(I),Ld()})})}(o),function(c,u){u=u||{},Vr(function(){var p,m=ma(),y=ht("LCP"),f=function(I){var Z=I[I.length-1];Z&&Z.startTime<m.firstHiddenTime&&(y.value=Math.max(Z.startTime-$i(),0),y.entries=[Z],p())},T=Bn("largest-contentful-paint",f);if(T){p=mt(c,y,xd,u.reportAllChanges);var v=ha(function(){ya[y.id]||(f(T.takeRecords()),T.disconnect(),ya[y.id]=!0,p(!0))});["keydown","click"].forEach(function(I){addEventListener(I,function(){return setTimeout(v,0)},!0)}),qi(v),hn(function(I){y=ht("LCP"),p=mt(c,y,xd,u.reportAllChanges),pa(function(){y.value=performance.now()-I.timeStamp,ya[y.id]=!0,p(!0)})})}})}(o),rC(o),tC(o),()=>{}},Sa=o=>o/Math.pow(1e3,2),oC=o=>1024*o,Dd=typeof window!="undefined"&&"performance"in window&&"memory"in performance?performance:{memory:{}},Pr="highlightLogs",sC=o=>{if(!o)return;let r=at(Pr)||"";r&&(r.startsWith(o)?(r=r.slice(o.length),vt(Pr,r)):(a=>{let c=at(Pr)||"";c=c+"["+new Date().getTime()+"] "+a+`
`,vt(Pr,c)})("Unable to clear logs "+o.replace(`
`," ")+" from "+r.replace(`
`," ")))},no=()=>{var o;const r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var a="";const c=typeof window!="undefined"&&((o=window.crypto)==null?void 0:o.getRandomValues),u=new Uint32Array(28);c&&window.crypto.getRandomValues(u);for(let p=0;p<28;p++)a+=r.charAt(c?u[p]%62:Math.floor(62*Math.random()));return a},Fd="dmFyIF9fZGVmUHJvcD1PYmplY3QuZGVmaW5lUHJvcGVydHksX19kZWZQcm9wcz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxfX2dldE93blByb3BEZXNjcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxfX2dldE93blByb3BTeW1ib2xzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsX19oYXNPd25Qcm9wPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksX19wcm9wSXNFbnVtPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsX19kZWZOb3JtYWxQcm9wPShlLHQsbik9PnQgaW4gZT9fX2RlZlByb3AoZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6ZVt0XT1uLF9fc3ByZWFkVmFsdWVzPShlLHQpPT57Zm9yKHZhciBuIGluIHR8fCh0PXt9KSlfX2hhc093blByb3AuY2FsbCh0LG4pJiZfX2RlZk5vcm1hbFByb3AoZSxuLHRbbl0pO2lmKF9fZ2V0T3duUHJvcFN5bWJvbHMpZm9yKHZhciBuIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHModCkpX19wcm9wSXNFbnVtLmNhbGwodCxuKSYmX19kZWZOb3JtYWxQcm9wKGUsbix0W25dKTtyZXR1cm4gZX0sX19zcHJlYWRQcm9wcz0oZSx0KT0+X19kZWZQcm9wcyhlLF9fZ2V0T3duUHJvcERlc2NzKHQpKSxfX29ialJlc3Q9KGUsdCk9Pnt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlfX2hhc093blByb3AuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmX19nZXRPd25Qcm9wU3ltYm9scylmb3IodmFyIHIgb2YgX19nZXRPd25Qcm9wU3ltYm9scyhlKSl0LmluZGV4T2Yocik8MCYmX19wcm9wSXNFbnVtLmNhbGwoZSxyKSYmKG5bcl09ZVtyXSk7cmV0dXJuIG59LF9fcHVibGljRmllbGQ9KGUsdCxuKT0+KF9fZGVmTm9ybWFsUHJvcChlLCJzeW1ib2wiIT10eXBlb2YgdD90KyIiOnQsbiksbiksX19hc3luYz0oZSx0LG4pPT5uZXcgUHJvbWlzZSgoKHIsaSk9Pnt2YXIgcz1lPT57dHJ5e2Eobi5uZXh0KGUpKX1jYXRjaCh0KXtpKHQpfX0sbz1lPT57dHJ5e2Eobi50aHJvdyhlKSl9Y2F0Y2godCl7aSh0KX19LGE9ZT0+ZS5kb25lP3IoZS52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGUudmFsdWUpLnRoZW4ocyxvKTthKChuPW4uYXBwbHkoZSx0KSkubmV4dCgpKX0pKTshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlLHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJiJzdHJpbmciIT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCkmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCJkZWZhdWx0IiE9PW4mJiEobiBpbiBlKSl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sci5nZXQ/cjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX19KSl9KSksT2JqZWN0LmZyZWV6ZShlKX12YXIgdD0oZT0+KGVbZS5Jbml0aWFsaXplPTBdPSJJbml0aWFsaXplIixlW2UuQXN5bmNFdmVudHM9MV09IkFzeW5jRXZlbnRzIixlW2UuSWRlbnRpZnk9Ml09IklkZW50aWZ5IixlW2UuUHJvcGVydGllcz0zXT0iUHJvcGVydGllcyIsZVtlLk1ldHJpY3M9NF09Ik1ldHJpY3MiLGVbZS5GZWVkYmFjaz01XT0iRmVlZGJhY2siLGVbZS5DdXN0b21FdmVudD02XT0iQ3VzdG9tRXZlbnQiLGUpKSh0fHx7fSksbj0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRlZmF1bHQiKT9lLmRlZmF1bHQ6ZX12YXIgaT17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPVtdLHI9W107cmV0dXJuIG51bGw9PXQmJih0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5bMF09PT10PyJbQ2lyY3VsYXIgfl0iOiJbQ2lyY3VsYXIgfi4iK3Iuc2xpY2UoMCxuLmluZGV4T2YodCkpLmpvaW4oIi4iKSsiXSJ9KSxmdW5jdGlvbihpLHMpe2lmKG4ubGVuZ3RoPjApe3ZhciBvPW4uaW5kZXhPZih0aGlzKTt+bz9uLnNwbGljZShvKzEpOm4ucHVzaCh0aGlzKSx+bz9yLnNwbGljZShvLDEvMCxpKTpyLnB1c2goaSksfm4uaW5kZXhPZihzKSYmKHM9dC5jYWxsKHRoaXMsaSxzKSl9ZWxzZSBuLnB1c2gocyk7cmV0dXJuIG51bGw9PWU/czplLmNhbGwodGhpcyxpLHMpfX0oZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBKU09OLnN0cmluZ2lmeShlLG4odCxpKSxyKX0pLmdldFNlcmlhbGl6ZT1ufShpKTt2YXIgcz1yKGkuZXhwb3J0cyksbz1mdW5jdGlvbigpe3JldHVybiBvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0sby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGEoZSx0KXtpZighQm9vbGVhbihlKSl0aHJvdyBuZXcgRXJyb3IodCl9ZnVuY3Rpb24gYyhlLHQpe2lmKCFCb29sZWFuKGUpKXRocm93IG5ldyBFcnJvcihudWxsIT10P3Q6IlVuZXhwZWN0ZWQgaW52YXJpYW50IHRyaWdnZXJlZC4iKX1jb25zdCBsPS9cclxufFtcblxyXS9nO2Z1bmN0aW9uIHUoZSx0KXtsZXQgbj0wLHI9MTtmb3IoY29uc3QgaSBvZiBlLmJvZHkubWF0Y2hBbGwobCkpe2lmKCJudW1iZXIiPT10eXBlb2YgaS5pbmRleHx8YyghMSksaS5pbmRleD49dClicmVhaztuPWkuaW5kZXgraVswXS5sZW5ndGgscis9MX1yZXR1cm57bGluZTpyLGNvbHVtbjp0KzEtbn19ZnVuY3Rpb24gZChlLHQpe2NvbnN0IG49ZS5sb2NhdGlvbk9mZnNldC5jb2x1bW4tMSxyPSIiLnBhZFN0YXJ0KG4pK2UuYm9keSxpPXQubGluZS0xLHM9ZS5sb2NhdGlvbk9mZnNldC5saW5lLTEsbz10LmxpbmUrcyxhPTE9PT10LmxpbmU/bjowLGM9dC5jb2x1bW4rYSxsPWAke2UubmFtZX06JHtvfToke2N9XG5gLHU9ci5zcGxpdCgvXHJcbnxbXG5ccl0vZyksZD11W2ldO2lmKGQubGVuZ3RoPjEyMCl7Y29uc3QgZT1NYXRoLmZsb29yKGMvODApLHQ9YyU4MCxuPVtdO2ZvcihsZXQgcj0wO3I8ZC5sZW5ndGg7cis9ODApbi5wdXNoKGQuc2xpY2UocixyKzgwKSk7cmV0dXJuIGwrcChbW2Ake299IHxgLG5bMF1dLC4uLm4uc2xpY2UoMSxlKzEpLm1hcCgoZT0+WyJ8IixlXSkpLFsifCIsIl4iLnBhZFN0YXJ0KHQpXSxbInwiLG5bZSsxXV1dKX1yZXR1cm4gbCtwKFtbby0xKyIgfCIsdVtpLTFdXSxbYCR7b30gfGAsZF0sWyJ8IiwiXiIucGFkU3RhcnQoYyldLFtgJHtvKzF9IHxgLHVbaSsxXV1dKX1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKChbZSx0XSk9PnZvaWQgMCE9PXQpKSxuPU1hdGgubWF4KC4uLnQubWFwKCgoW2VdKT0+ZS5sZW5ndGgpKSk7cmV0dXJuIHQubWFwKCgoW2UsdF0pPT5lLnBhZFN0YXJ0KG4pKyh0PyIgIit0OiIiKSkpLmpvaW4oIlxuIil9Y2xhc3MgaCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsLi4udCl7dmFyIG4scixpO2NvbnN0e25vZGVzOnMsc291cmNlOm8scG9zaXRpb25zOmEscGF0aDpjLG9yaWdpbmFsRXJyb3I6bCxleHRlbnNpb25zOmR9PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZVswXTtyZXR1cm4gbnVsbD09dHx8ImtpbmQiaW4gdHx8Imxlbmd0aCJpbiB0P3tub2Rlczp0LHNvdXJjZTplWzFdLHBvc2l0aW9uczplWzJdLHBhdGg6ZVszXSxvcmlnaW5hbEVycm9yOmVbNF0sZXh0ZW5zaW9uczplWzVdfTp0fSh0KTtzdXBlcihlKSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPW51bGwhPWM/Yzp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPW51bGwhPWw/bDp2b2lkIDAsdGhpcy5ub2Rlcz1mKEFycmF5LmlzQXJyYXkocyk/czpzP1tzXTp2b2lkIDApO2NvbnN0IHA9ZihudWxsPT09KG49dGhpcy5ub2Rlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWFwKChlPT5lLmxvYykpLmZpbHRlcigoZT0+bnVsbCE9ZSkpKTt0aGlzLnNvdXJjZT1udWxsIT1vP286bnVsbD09cHx8bnVsbD09PShyPXBbMF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNvdXJjZSx0aGlzLnBvc2l0aW9ucz1udWxsIT1hP2E6bnVsbD09cD92b2lkIDA6cC5tYXAoKGU9PmUuc3RhcnQpKSx0aGlzLmxvY2F0aW9ucz1hJiZvP2EubWFwKChlPT51KG8sZSkpKTpudWxsPT1wP3ZvaWQgMDpwLm1hcCgoZT0+dShlLnNvdXJjZSxlLnN0YXJ0KSkpO2NvbnN0IHk9Im9iamVjdCI9PXR5cGVvZihtPW51bGw9PWw/dm9pZCAwOmwuZXh0ZW5zaW9ucykmJm51bGwhPT1tP251bGw9PWw/dm9pZCAwOmwuZXh0ZW5zaW9uczp2b2lkIDA7dmFyIG07dGhpcy5leHRlbnNpb25zPW51bGwhPT0oaT1udWxsIT1kP2Q6eSkmJnZvaWQgMCE9PWk/aTpPYmplY3QuY3JlYXRlKG51bGwpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse21lc3NhZ2U6e3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITB9LG5hbWU6e2VudW1lcmFibGU6ITF9LG5vZGVzOntlbnVtZXJhYmxlOiExfSxzb3VyY2U6e2VudW1lcmFibGU6ITF9LHBvc2l0aW9uczp7ZW51bWVyYWJsZTohMX0sb3JpZ2luYWxFcnJvcjp7ZW51bWVyYWJsZTohMX19KSxudWxsIT1sJiZsLnN0YWNrP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOmwuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk6RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxoKTpPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTpFcnJvcigpLnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIkdyYXBoUUxFcnJvciJ9dG9TdHJpbmcoKXtsZXQgZT10aGlzLm1lc3NhZ2U7aWYodGhpcy5ub2Rlcylmb3IoY29uc3QgbiBvZiB0aGlzLm5vZGVzKW4ubG9jJiYoZSs9IlxuXG4iK2QoKHQ9bi5sb2MpLnNvdXJjZSx1KHQuc291cmNlLHQuc3RhcnQpKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpZSs9IlxuXG4iK2QodGhpcy5zb3VyY2Usbik7dmFyIHQ7cmV0dXJuIGV9dG9KU09OKCl7Y29uc3QgZT17bWVzc2FnZTp0aGlzLm1lc3NhZ2V9O3JldHVybiBudWxsIT10aGlzLmxvY2F0aW9ucyYmKGUubG9jYXRpb25zPXRoaXMubG9jYXRpb25zKSxudWxsIT10aGlzLnBhdGgmJihlLnBhdGg9dGhpcy5wYXRoKSxudWxsIT10aGlzLmV4dGVuc2lvbnMmJk9iamVjdC5rZXlzKHRoaXMuZXh0ZW5zaW9ucykubGVuZ3RoPjAmJihlLmV4dGVuc2lvbnM9dGhpcy5leHRlbnNpb25zKSxlfX1mdW5jdGlvbiBmKGUpe3JldHVybiB2b2lkIDA9PT1lfHwwPT09ZS5sZW5ndGg/dm9pZCAwOmV9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIG5ldyBoKGBTeW50YXggRXJyb3I6ICR7bn1gLHtzb3VyY2U6ZSxwb3NpdGlvbnM6W3RdfSl9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5zdGFydD1lLnN0YXJ0LHRoaXMuZW5kPXQuZW5kLHRoaXMuc3RhcnRUb2tlbj1lLHRoaXMuZW5kVG9rZW49dCx0aGlzLnNvdXJjZT1ufWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIkxvY2F0aW9uIn10b0pTT04oKXtyZXR1cm57c3RhcnQ6dGhpcy5zdGFydCxlbmQ6dGhpcy5lbmR9fX1jbGFzcyB2e2NvbnN0cnVjdG9yKGUsdCxuLHIsaSxzKXt0aGlzLmtpbmQ9ZSx0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9bix0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1pLHRoaXMudmFsdWU9cyx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgXz17TmFtZTpbXSxEb2N1bWVudDpbImRlZmluaXRpb25zIl0sT3BlcmF0aW9uRGVmaW5pdGlvbjpbIm5hbWUiLCJ2YXJpYWJsZURlZmluaXRpb25zIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLFZhcmlhYmxlRGVmaW5pdGlvbjpbInZhcmlhYmxlIiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsImRpcmVjdGl2ZXMiXSxWYXJpYWJsZTpbIm5hbWUiXSxTZWxlY3Rpb25TZXQ6WyJzZWxlY3Rpb25zIl0sRmllbGQ6WyJhbGlhcyIsIm5hbWUiLCJhcmd1bWVudHMiLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sQXJndW1lbnQ6WyJuYW1lIiwidmFsdWUiXSxGcmFnbWVudFNwcmVhZDpbIm5hbWUiLCJkaXJlY3RpdmVzIl0sSW5saW5lRnJhZ21lbnQ6WyJ0eXBlQ29uZGl0aW9uIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEZyYWdtZW50RGVmaW5pdGlvbjpbIm5hbWUiLCJ2YXJpYWJsZURlZmluaXRpb25zIiwidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxJbnRWYWx1ZTpbXSxGbG9hdFZhbHVlOltdLFN0cmluZ1ZhbHVlOltdLEJvb2xlYW5WYWx1ZTpbXSxOdWxsVmFsdWU6W10sRW51bVZhbHVlOltdLExpc3RWYWx1ZTpbInZhbHVlcyJdLE9iamVjdFZhbHVlOlsiZmllbGRzIl0sT2JqZWN0RmllbGQ6WyJuYW1lIiwidmFsdWUiXSxEaXJlY3RpdmU6WyJuYW1lIiwiYXJndW1lbnRzIl0sTmFtZWRUeXBlOlsibmFtZSJdLExpc3RUeXBlOlsidHlwZSJdLE5vbk51bGxUeXBlOlsidHlwZSJdLFNjaGVtYURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsImRpcmVjdGl2ZXMiLCJvcGVyYXRpb25UeXBlcyJdLE9wZXJhdGlvblR5cGVEZWZpbml0aW9uOlsidHlwZSJdLFNjYWxhclR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyJdLE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiaW50ZXJmYWNlcyIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXSxGaWVsZERlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJ0eXBlIiwiZGlyZWN0aXZlcyJdLElucHV0VmFsdWVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsImRpcmVjdGl2ZXMiXSxJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sVW5pb25UeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiLCJ0eXBlcyJdLEVudW1UeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiLCJ2YWx1ZXMiXSxFbnVtVmFsdWVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyJdLElucHV0T2JqZWN0VHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRGlyZWN0aXZlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImFyZ3VtZW50cyIsImxvY2F0aW9ucyJdLFNjaGVtYUV4dGVuc2lvbjpbImRpcmVjdGl2ZXMiLCJvcGVyYXRpb25UeXBlcyJdLFNjYWxhclR5cGVFeHRlbnNpb246WyJuYW1lIiwiZGlyZWN0aXZlcyJdLE9iamVjdFR5cGVFeHRlbnNpb246WyJuYW1lIiwiaW50ZXJmYWNlcyIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXSxJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sVW5pb25UeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJ0eXBlcyJdLEVudW1UeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJ2YWx1ZXMiXSxJbnB1dE9iamVjdFR5cGVFeHRlbnNpb246WyJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdfSxnPW5ldyBTZXQoT2JqZWN0LmtleXMoXykpO2Z1bmN0aW9uIEUoZSl7Y29uc3QgdD1udWxsPT1lP3ZvaWQgMDplLmtpbmQ7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZnLmhhcyh0KX12YXIgVCxiLE4sSSxPLEEseCxTO2Z1bmN0aW9uIEQoZSl7cmV0dXJuIDk9PT1lfHwzMj09PWV9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gZT49NDgmJmU8PTU3fWZ1bmN0aW9uIGsoZSl7cmV0dXJuIGU+PTk3JiZlPD0xMjJ8fGU+PTY1JiZlPD05MH1mdW5jdGlvbiBDKGUpe3JldHVybiBrKGUpfHw5NT09PWV9ZnVuY3Rpb24gUChlKXtyZXR1cm4gayhlKXx8dyhlKXx8OTU9PT1lfWZ1bmN0aW9uIFIoZSl7dmFyIHQ7bGV0IG49TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIscj1udWxsLGk9LTE7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBzO2NvbnN0IHQ9ZVtvXSxhPUwodCk7YSE9PXQubGVuZ3RoJiYocj1udWxsIT09KHM9cikmJnZvaWQgMCE9PXM/czpvLGk9bywwIT09byYmYTxuJiYobj1hKSl9cmV0dXJuIGUubWFwKCgoZSx0KT0+MD09PXQ/ZTplLnNsaWNlKG4pKSkuc2xpY2UobnVsbCE9PSh0PXIpJiZ2b2lkIDAhPT10P3Q6MCxpKzEpfWZ1bmN0aW9uIEwoZSl7bGV0IHQ9MDtmb3IoO3Q8ZS5sZW5ndGgmJkQoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fShiPVR8fChUPXt9KSkuUVVFUlk9InF1ZXJ5IixiLk1VVEFUSU9OPSJtdXRhdGlvbiIsYi5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiIsKEk9Tnx8KE49e30pKS5RVUVSWT0iUVVFUlkiLEkuTVVUQVRJT049Ik1VVEFUSU9OIixJLlNVQlNDUklQVElPTj0iU1VCU0NSSVBUSU9OIixJLkZJRUxEPSJGSUVMRCIsSS5GUkFHTUVOVF9ERUZJTklUSU9OPSJGUkFHTUVOVF9ERUZJTklUSU9OIixJLkZSQUdNRU5UX1NQUkVBRD0iRlJBR01FTlRfU1BSRUFEIixJLklOTElORV9GUkFHTUVOVD0iSU5MSU5FX0ZSQUdNRU5UIixJLlZBUklBQkxFX0RFRklOSVRJT049IlZBUklBQkxFX0RFRklOSVRJT04iLEkuU0NIRU1BPSJTQ0hFTUEiLEkuU0NBTEFSPSJTQ0FMQVIiLEkuT0JKRUNUPSJPQkpFQ1QiLEkuRklFTERfREVGSU5JVElPTj0iRklFTERfREVGSU5JVElPTiIsSS5BUkdVTUVOVF9ERUZJTklUSU9OPSJBUkdVTUVOVF9ERUZJTklUSU9OIixJLklOVEVSRkFDRT0iSU5URVJGQUNFIixJLlVOSU9OPSJVTklPTiIsSS5FTlVNPSJFTlVNIixJLkVOVU1fVkFMVUU9IkVOVU1fVkFMVUUiLEkuSU5QVVRfT0JKRUNUPSJJTlBVVF9PQkpFQ1QiLEkuSU5QVVRfRklFTERfREVGSU5JVElPTj0iSU5QVVRfRklFTERfREVGSU5JVElPTiIsKEE9T3x8KE89e30pKS5OQU1FPSJOYW1lIixBLkRPQ1VNRU5UPSJEb2N1bWVudCIsQS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsQS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLEEuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixBLkZJRUxEPSJGaWVsZCIsQS5BUkdVTUVOVD0iQXJndW1lbnQiLEEuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsQS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixBLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsQS5WQVJJQUJMRT0iVmFyaWFibGUiLEEuSU5UPSJJbnRWYWx1ZSIsQS5GTE9BVD0iRmxvYXRWYWx1ZSIsQS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixBLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsQS5OVUxMPSJOdWxsVmFsdWUiLEEuRU5VTT0iRW51bVZhbHVlIixBLkxJU1Q9Ikxpc3RWYWx1ZSIsQS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixBLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLEEuRElSRUNUSVZFPSJEaXJlY3RpdmUiLEEuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixBLkxJU1RfVFlQRT0iTGlzdFR5cGUiLEEuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLEEuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLEEuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLEEuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLEEuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLEEuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixBLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixBLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixBLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsQS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixBLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsQS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixBLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixBLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsQS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLEEuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixBLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsQS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixBLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixBLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIiwoUz14fHwoeD17fSkpLlNPRj0iPFNPRj4iLFMuRU9GPSI8RU9GPiIsUy5CQU5HPSIhIixTLkRPTExBUj0iJCIsUy5BTVA9IiYiLFMuUEFSRU5fTD0iKCIsUy5QQVJFTl9SPSIpIixTLlNQUkVBRD0iLi4uIixTLkNPTE9OPSI6IixTLkVRVUFMUz0iPSIsUy5BVD0iQCIsUy5CUkFDS0VUX0w9IlsiLFMuQlJBQ0tFVF9SPSJdIixTLkJSQUNFX0w9InsiLFMuUElQRT0ifCIsUy5CUkFDRV9SPSJ9IixTLk5BTUU9Ik5hbWUiLFMuSU5UPSJJbnQiLFMuRkxPQVQ9IkZsb2F0IixTLlNUUklORz0iU3RyaW5nIixTLkJMT0NLX1NUUklORz0iQmxvY2tTdHJpbmciLFMuQ09NTUVOVD0iQ29tbWVudCI7Y2xhc3MgRntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PW5ldyB2KHguU09GLDAsMCwwLDApO3RoaXMuc291cmNlPWUsdGhpcy5sYXN0VG9rZW49dCx0aGlzLnRva2VuPXQsdGhpcy5saW5lPTEsdGhpcy5saW5lU3RhcnQ9MH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJMZXhlciJ9YWR2YW5jZSgpe3RoaXMubGFzdFRva2VuPXRoaXMudG9rZW47cmV0dXJuIHRoaXMudG9rZW49dGhpcy5sb29rYWhlYWQoKX1sb29rYWhlYWQoKXtsZXQgZT10aGlzLnRva2VuO2lmKGUua2luZCE9PXguRU9GKWRve2lmKGUubmV4dCllPWUubmV4dDtlbHNle2NvbnN0IHQ9cSh0aGlzLGUuZW5kKTtlLm5leHQ9dCx0LnByZXY9ZSxlPXR9fXdoaWxlKGUua2luZD09PXguQ09NTUVOVCk7cmV0dXJuIGV9fWZ1bmN0aW9uICQoZSl7cmV0dXJuIGU+PTAmJmU8PTU1Mjk1fHxlPj01NzM0NCYmZTw9MTExNDExMX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIFYoZS5jaGFyQ29kZUF0KHQpKSYmQihlLmNoYXJDb2RlQXQodCsxKSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZT49NTUyOTYmJmU8PTU2MzE5fWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiBqKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LmNvZGVQb2ludEF0KHQpO2lmKHZvaWQgMD09PW4pcmV0dXJuIHguRU9GO2lmKG4+PTMyJiZuPD0xMjYpe2NvbnN0IGU9U3RyaW5nLmZyb21Db2RlUG9pbnQobik7cmV0dXJuJyInPT09ZT8iJ1wiJyI6YCIke2V9ImB9cmV0dXJuIlUrIituLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDQsIjAiKX1mdW5jdGlvbiBVKGUsdCxuLHIsaSl7Y29uc3Qgcz1lLmxpbmUsbz0xK24tZS5saW5lU3RhcnQ7cmV0dXJuIG5ldyB2KHQsbixyLHMsbyxpKX1mdW5jdGlvbiBxKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9bi5sZW5ndGg7bGV0IGk9dDtmb3IoO2k8cjspe2NvbnN0IHQ9bi5jaGFyQ29kZUF0KGkpO3N3aXRjaCh0KXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytpO2NvbnRpbnVlO2Nhc2UgMTA6KytpLCsrZS5saW5lLGUubGluZVN0YXJ0PWk7Y29udGludWU7Y2FzZSAxMzoxMD09PW4uY2hhckNvZGVBdChpKzEpP2krPTI6KytpLCsrZS5saW5lLGUubGluZVN0YXJ0PWk7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4gSyhlLGkpO2Nhc2UgMzM6cmV0dXJuIFUoZSx4LkJBTkcsaSxpKzEpO2Nhc2UgMzY6cmV0dXJuIFUoZSx4LkRPTExBUixpLGkrMSk7Y2FzZSAzODpyZXR1cm4gVShlLHguQU1QLGksaSsxKTtjYXNlIDQwOnJldHVybiBVKGUseC5QQVJFTl9MLGksaSsxKTtjYXNlIDQxOnJldHVybiBVKGUseC5QQVJFTl9SLGksaSsxKTtjYXNlIDQ2OmlmKDQ2PT09bi5jaGFyQ29kZUF0KGkrMSkmJjQ2PT09bi5jaGFyQ29kZUF0KGkrMikpcmV0dXJuIFUoZSx4LlNQUkVBRCxpLGkrMyk7YnJlYWs7Y2FzZSA1ODpyZXR1cm4gVShlLHguQ09MT04saSxpKzEpO2Nhc2UgNjE6cmV0dXJuIFUoZSx4LkVRVUFMUyxpLGkrMSk7Y2FzZSA2NDpyZXR1cm4gVShlLHguQVQsaSxpKzEpO2Nhc2UgOTE6cmV0dXJuIFUoZSx4LkJSQUNLRVRfTCxpLGkrMSk7Y2FzZSA5MzpyZXR1cm4gVShlLHguQlJBQ0tFVF9SLGksaSsxKTtjYXNlIDEyMzpyZXR1cm4gVShlLHguQlJBQ0VfTCxpLGkrMSk7Y2FzZSAxMjQ6cmV0dXJuIFUoZSx4LlBJUEUsaSxpKzEpO2Nhc2UgMTI1OnJldHVybiBVKGUseC5CUkFDRV9SLGksaSsxKTtjYXNlIDM0OnJldHVybiAzND09PW4uY2hhckNvZGVBdChpKzEpJiYzND09PW4uY2hhckNvZGVBdChpKzIpP1ooZSxpKTpZKGUsaSl9aWYodyh0KXx8NDU9PT10KXJldHVybiBHKGUsaSx0KTtpZihDKHQpKXJldHVybiBlZShlLGkpO3Rocm93IHkoZS5zb3VyY2UsaSwzOT09PXQ/IlVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKFwiKT8iOiQodCl8fE0obixpKT9gVW5leHBlY3RlZCBjaGFyYWN0ZXI6ICR7aihlLGkpfS5gOmBJbnZhbGlkIGNoYXJhY3RlcjogJHtqKGUsaSl9LmApfXJldHVybiBVKGUseC5FT0YscixyKX1mdW5jdGlvbiBLKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9bi5sZW5ndGg7bGV0IGk9dCsxO2Zvcig7aTxyOyl7Y29uc3QgZT1uLmNoYXJDb2RlQXQoaSk7aWYoMTA9PT1lfHwxMz09PWUpYnJlYWs7aWYoJChlKSkrK2k7ZWxzZXtpZighTShuLGkpKWJyZWFrO2krPTJ9fXJldHVybiBVKGUseC5DT01NRU5ULHQsaSxuLnNsaWNlKHQrMSxpKSl9ZnVuY3Rpb24gRyhlLHQsbil7Y29uc3Qgcj1lLnNvdXJjZS5ib2R5O2xldCBpPXQscz1uLG89ITE7aWYoNDU9PT1zJiYocz1yLmNoYXJDb2RlQXQoKytpKSksNDg9PT1zKXtpZihzPXIuY2hhckNvZGVBdCgrK2kpLHcocykpdGhyb3cgeShlLnNvdXJjZSxpLGBJbnZhbGlkIG51bWJlciwgdW5leHBlY3RlZCBkaWdpdCBhZnRlciAwOiAke2ooZSxpKX0uYCl9ZWxzZSBpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpO2lmKDQ2PT09cyYmKG89ITAscz1yLmNoYXJDb2RlQXQoKytpKSxpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpKSw2OSE9PXMmJjEwMSE9PXN8fChvPSEwLHM9ci5jaGFyQ29kZUF0KCsraSksNDMhPT1zJiY0NSE9PXN8fChzPXIuY2hhckNvZGVBdCgrK2kpKSxpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpKSw0Nj09PXN8fEMocykpdGhyb3cgeShlLnNvdXJjZSxpLGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHtqKGUsaSl9LmApO3JldHVybiBVKGUsbz94LkZMT0FUOnguSU5ULHQsaSxyLnNsaWNlKHQsaSkpfWZ1bmN0aW9uIHooZSx0LG4pe2lmKCF3KG4pKXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBudW1iZXIsIGV4cGVjdGVkIGRpZ2l0IGJ1dCBnb3Q6ICR7aihlLHQpfS5gKTtjb25zdCByPWUuc291cmNlLmJvZHk7bGV0IGk9dCsxO2Zvcig7dyhyLmNoYXJDb2RlQXQoaSkpOykrK2k7cmV0dXJuIGl9ZnVuY3Rpb24gWShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxyPW4ubGVuZ3RoO2xldCBpPXQrMSxzPWksbz0iIjtmb3IoO2k8cjspe2NvbnN0IHI9bi5jaGFyQ29kZUF0KGkpO2lmKDM0PT09cilyZXR1cm4gbys9bi5zbGljZShzLGkpLFUoZSx4LlNUUklORyx0LGkrMSxvKTtpZig5MiE9PXIpe2lmKDEwPT09cnx8MTM9PT1yKWJyZWFrO2lmKCQocikpKytpO2Vsc2V7aWYoIU0obixpKSl0aHJvdyB5KGUuc291cmNlLGksYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7aihlLGkpfS5gKTtpKz0yfX1lbHNle28rPW4uc2xpY2UocyxpKTtjb25zdCB0PTExNz09PW4uY2hhckNvZGVBdChpKzEpPzEyMz09PW4uY2hhckNvZGVBdChpKzIpP0goZSxpKTpKKGUsaSk6VyhlLGkpO28rPXQudmFsdWUsaSs9dC5zaXplLHM9aX19dGhyb3cgeShlLnNvdXJjZSxpLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uIEgoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IHI9MCxpPTM7Zm9yKDtpPDEyOyl7Y29uc3QgZT1uLmNoYXJDb2RlQXQodCtpKyspO2lmKDEyNT09PWUpe2lmKGk8NXx8ISQocikpYnJlYWs7cmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KHIpLHNpemU6aX19aWYocj1yPDw0fFgoZSkscjwwKWJyZWFrfXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogIiR7bi5zbGljZSh0LHQraSl9Ii5gKX1mdW5jdGlvbiBKKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9UShuLHQrMik7aWYoJChyKSlyZXR1cm57dmFsdWU6U3RyaW5nLmZyb21Db2RlUG9pbnQociksc2l6ZTo2fTtpZihWKHIpJiY5Mj09PW4uY2hhckNvZGVBdCh0KzYpJiYxMTc9PT1uLmNoYXJDb2RlQXQodCs3KSl7Y29uc3QgZT1RKG4sdCs4KTtpZihCKGUpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChyLGUpLHNpemU6MTJ9fXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogIiR7bi5zbGljZSh0LHQrNil9Ii5gKX1mdW5jdGlvbiBRKGUsdCl7cmV0dXJuIFgoZS5jaGFyQ29kZUF0KHQpKTw8MTJ8WChlLmNoYXJDb2RlQXQodCsxKSk8PDh8WChlLmNoYXJDb2RlQXQodCsyKSk8PDR8WChlLmNoYXJDb2RlQXQodCszKSl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gZT49NDgmJmU8PTU3P2UtNDg6ZT49NjUmJmU8PTcwP2UtNTU6ZT49OTcmJmU8PTEwMj9lLTg3Oi0xfWZ1bmN0aW9uIFcoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOiJcbiIsc2l6ZToyfTtjYXNlIDExNDpyZXR1cm57dmFsdWU6IlxyIixzaXplOjJ9O2Nhc2UgMTE2OnJldHVybnt2YWx1ZToiXHQiLHNpemU6Mn19dGhyb3cgeShlLnNvdXJjZSx0LGBJbnZhbGlkIGNoYXJhY3RlciBlc2NhcGUgc2VxdWVuY2U6ICIke24uc2xpY2UodCx0KzIpfSIuYCl9ZnVuY3Rpb24gWihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxyPW4ubGVuZ3RoO2xldCBpPWUubGluZVN0YXJ0LHM9dCszLG89cyxhPSIiO2NvbnN0IGM9W107Zm9yKDtzPHI7KXtjb25zdCByPW4uY2hhckNvZGVBdChzKTtpZigzND09PXImJjM0PT09bi5jaGFyQ29kZUF0KHMrMSkmJjM0PT09bi5jaGFyQ29kZUF0KHMrMikpe2ErPW4uc2xpY2UobyxzKSxjLnB1c2goYSk7Y29uc3Qgcj1VKGUseC5CTE9DS19TVFJJTkcsdCxzKzMsUihjKS5qb2luKCJcbiIpKTtyZXR1cm4gZS5saW5lKz1jLmxlbmd0aC0xLGUubGluZVN0YXJ0PWkscn1pZig5MiE9PXJ8fDM0IT09bi5jaGFyQ29kZUF0KHMrMSl8fDM0IT09bi5jaGFyQ29kZUF0KHMrMil8fDM0IT09bi5jaGFyQ29kZUF0KHMrMykpaWYoMTAhPT1yJiYxMyE9PXIpaWYoJChyKSkrK3M7ZWxzZXtpZighTShuLHMpKXRocm93IHkoZS5zb3VyY2UscyxgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHtqKGUscyl9LmApO3MrPTJ9ZWxzZSBhKz1uLnNsaWNlKG8scyksYy5wdXNoKGEpLDEzPT09ciYmMTA9PT1uLmNoYXJDb2RlQXQocysxKT9zKz0yOisrcyxhPSIiLG89cyxpPXM7ZWxzZSBhKz1uLnNsaWNlKG8scyksbz1zKzEscys9NH10aHJvdyB5KGUuc291cmNlLHMsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gZWUoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHkscj1uLmxlbmd0aDtsZXQgaT10KzE7Zm9yKDtpPHI7KXtpZighUChuLmNoYXJDb2RlQXQoaSkpKWJyZWFrOysraX1yZXR1cm4gVShlLHguTkFNRSx0LGksbi5zbGljZSh0LGkpKX1jb25zdCB0ZT0xMCxuZT0yO2Z1bmN0aW9uIHJlKGUpe3JldHVybiBpZShlLFtdKX1mdW5jdGlvbiBpZShlLHQpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBKU09OLnN0cmluZ2lmeShlKTtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gZS5uYW1lP2BbZnVuY3Rpb24gJHtlLm5hbWV9XWA6IltmdW5jdGlvbl0iO2Nhc2Uib2JqZWN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYodC5pbmNsdWRlcyhlKSlyZXR1cm4iW0NpcmN1bGFyXSI7Y29uc3Qgbj1bLi4udCxlXTtpZihmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZS50b0pTT059KGUpKXtjb25zdCB0PWUudG9KU09OKCk7aWYodCE9PWUpcmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3Q6aWUodCxuKX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoMD09PWUubGVuZ3RoKXJldHVybiJbXSI7aWYodC5sZW5ndGg+bmUpcmV0dXJuIltBcnJheV0iO2NvbnN0IG49TWF0aC5taW4odGUsZS5sZW5ndGgpLHI9ZS5sZW5ndGgtbixpPVtdO2ZvcihsZXQgcz0wO3M8bjsrK3MpaS5wdXNoKGllKGVbc10sdCkpOzE9PT1yP2kucHVzaCgiLi4uIDEgbW9yZSBpdGVtIik6cj4xJiZpLnB1c2goYC4uLiAke3J9IG1vcmUgaXRlbXNgKTtyZXR1cm4iWyIraS5qb2luKCIsICIpKyJdIn0oZSxuKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4ie30iO2lmKHQubGVuZ3RoPm5lKXJldHVybiJbIitmdW5jdGlvbihlKXtjb25zdCB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5yZXBsYWNlKC9eXFtvYmplY3QgLywiIikucmVwbGFjZSgvXSQvLCIiKTtpZigiT2JqZWN0Ij09PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yKXtjb25zdCB0PWUuY29uc3RydWN0b3IubmFtZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJiIiIT09dClyZXR1cm4gdH1yZXR1cm4gdH0oZSkrIl0iO2NvbnN0IHI9bi5tYXAoKChbZSxuXSk9PmUrIjogIitpZShuLHQpKSk7cmV0dXJuInsgIityLmpvaW4oIiwgIikrIiB9In0oZSxuKX0oZSx0KTtkZWZhdWx0OnJldHVybiBTdHJpbmcoZSl9fWNvbnN0IHNlPWdsb2JhbFRoaXMucHJvY2VzcyYmInByb2R1Y3Rpb24iPT09Z2xvYmFsVGhpcy5wcm9jZXNzLmVudi5OT0RFX0VOVj9mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgdH06ZnVuY3Rpb24oZSx0KXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4hMDtpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgbjtjb25zdCByPXQucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ107aWYocj09PShTeW1ib2wudG9TdHJpbmdUYWcgaW4gZT9lW1N5bWJvbC50b1N0cmluZ1RhZ106bnVsbD09PShuPWUuY29uc3RydWN0b3IpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm5hbWUpKXtjb25zdCB0PXJlKGUpO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IHVzZSAke3J9ICIke3R9IiBmcm9tIGFub3RoZXIgbW9kdWxlIG9yIHJlYWxtLlxuXG5FbnN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBpbnN0YW5jZSBvZiAiZ3JhcGhxbCIgaW4gdGhlIG5vZGVfbW9kdWxlc1xuZGlyZWN0b3J5LiBJZiBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgImdyYXBocWwiIGFyZSB0aGUgZGVwZW5kZW5jaWVzIG9mIG90aGVyXG5yZWxpZWQgb24gbW9kdWxlcywgdXNlICJyZXNvbHV0aW9ucyIgdG8gZW5zdXJlIG9ubHkgb25lIHZlcnNpb24gaXMgaW5zdGFsbGVkLlxuXG5odHRwczovL3lhcm5wa2cuY29tL2VuL2RvY3Mvc2VsZWN0aXZlLXZlcnNpb24tcmVzb2x1dGlvbnNcblxuRHVwbGljYXRlICJncmFwaHFsIiBtb2R1bGVzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUgc2luY2UgZGlmZmVyZW50XG52ZXJzaW9ucyBtYXkgaGF2ZSBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzIGFuZCBiZWhhdmlvci4gVGhlIGRhdGEgZnJvbSBvbmVcbnZlcnNpb24gdXNlZCBpbiB0aGUgZnVuY3Rpb24gZnJvbSBhbm90aGVyIGNvdWxkIHByb2R1Y2UgY29uZnVzaW5nIGFuZFxuc3B1cmlvdXMgcmVzdWx0cy5gKX19cmV0dXJuITF9O2NsYXNzIG9le2NvbnN0cnVjdG9yKGUsdD0iR3JhcGhRTCByZXF1ZXN0IixuPXtsaW5lOjEsY29sdW1uOjF9KXsic3RyaW5nIj09dHlwZW9mIGV8fGEoITEsYEJvZHkgbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQ6ICR7cmUoZSl9LmApLHRoaXMuYm9keT1lLHRoaXMubmFtZT10LHRoaXMubG9jYXRpb25PZmZzZXQ9bix0aGlzLmxvY2F0aW9uT2Zmc2V0LmxpbmU+MHx8YSghMSwibGluZSBpbiBsb2NhdGlvbk9mZnNldCBpcyAxLWluZGV4ZWQgYW5kIG11c3QgYmUgcG9zaXRpdmUuIiksdGhpcy5sb2NhdGlvbk9mZnNldC5jb2x1bW4+MHx8YSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiBhZShlLHQpe3JldHVybiBuZXcgY2UoZSx0KS5wYXJzZURvY3VtZW50KCl9Y2xhc3MgY2V7Y29uc3RydWN0b3IoZSx0PXt9KXtjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybiBzZShlLG9lKX0oZSk/ZTpuZXcgb2UoZSk7dGhpcy5fbGV4ZXI9bmV3IEYobiksdGhpcy5fb3B0aW9ucz10LHRoaXMuX3Rva2VuQ291bnRlcj0wfXBhcnNlTmFtZSgpe2NvbnN0IGU9dGhpcy5leHBlY3RUb2tlbih4Lk5BTUUpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk5BTUUsdmFsdWU6ZS52YWx1ZX0pfXBhcnNlRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOk8uRE9DVU1FTlQsZGVmaW5pdGlvbnM6dGhpcy5tYW55KHguU09GLHRoaXMucGFyc2VEZWZpbml0aW9uLHguRU9GKX0pfXBhcnNlRGVmaW5pdGlvbigpe2lmKHRoaXMucGVlayh4LkJSQUNFX0wpKXJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2NvbnN0IGU9dGhpcy5wZWVrRGVzY3JpcHRpb24oKSx0PWU/dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk6dGhpcy5fbGV4ZXIudG9rZW47aWYodC5raW5kPT09eC5OQU1FKXtzd2l0Y2godC52YWx1ZSl7Y2FzZSJzY2hlbWEiOnJldHVybiB0aGlzLnBhcnNlU2NoZW1hRGVmaW5pdGlvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnRlcmZhY2UiOnJldHVybiB0aGlzLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnB1dCI6cmV0dXJuIHRoaXMucGFyc2VJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJkaXJlY3RpdmUiOnJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpfWlmKGUpdGhyb3cgeSh0aGlzLl9sZXhlci5zb3VyY2UsdGhpcy5fbGV4ZXIudG9rZW4uc3RhcnQsIlVuZXhwZWN0ZWQgZGVzY3JpcHRpb24sIGRlc2NyaXB0aW9ucyBhcmUgc3VwcG9ydGVkIG9ubHkgb24gdHlwZSBkZWZpbml0aW9ucy4iKTtzd2l0Y2godC52YWx1ZSl7Y2FzZSJxdWVyeSI6Y2FzZSJtdXRhdGlvbiI6Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2Nhc2UiZnJhZ21lbnQiOnJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7Y2FzZSJleHRlbmQiOnJldHVybiB0aGlzLnBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpfX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9cGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtpZih0aGlzLnBlZWsoeC5CUkFDRV9MKSlyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5PUEVSQVRJT05fREVGSU5JVElPTixvcGVyYXRpb246VC5RVUVSWSxuYW1lOnZvaWQgMCx2YXJpYWJsZURlZmluaXRpb25zOltdLGRpcmVjdGl2ZXM6W10sc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pO2NvbnN0IHQ9dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTtsZXQgbjtyZXR1cm4gdGhpcy5wZWVrKHguTkFNRSkmJihuPXRoaXMucGFyc2VOYW1lKCkpLHRoaXMubm9kZShlLHtraW5kOk8uT1BFUkFUSU9OX0RFRklOSVRJT04sb3BlcmF0aW9uOnQsbmFtZTpuLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VPcGVyYXRpb25UeXBlKCl7Y29uc3QgZT10aGlzLmV4cGVjdFRva2VuKHguTkFNRSk7c3dpdGNoKGUudmFsdWUpe2Nhc2UicXVlcnkiOnJldHVybiBULlFVRVJZO2Nhc2UibXV0YXRpb24iOnJldHVybiBULk1VVEFUSU9OO2Nhc2Uic3Vic2NyaXB0aW9uIjpyZXR1cm4gVC5TVUJTQ1JJUFRJT059dGhyb3cgdGhpcy51bmV4cGVjdGVkKGUpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueSh4LlBBUkVOX0wsdGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbix4LlBBUkVOX1IpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpPLlZBUklBQkxFX0RFRklOSVRJT04sdmFyaWFibGU6dGhpcy5wYXJzZVZhcmlhYmxlKCksdHlwZToodGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKSx0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpKSxkZWZhdWx0VmFsdWU6dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguRVFVQUxTKT90aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCl9KX1wYXJzZVZhcmlhYmxlKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbih4LkRPTExBUiksdGhpcy5ub2RlKGUse2tpbmQ6Ty5WQVJJQUJMRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wYXJzZVNlbGVjdGlvblNldCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5TRUxFQ1RJT05fU0VULHNlbGVjdGlvbnM6dGhpcy5tYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlU2VsZWN0aW9uLHguQlJBQ0VfUil9KX1wYXJzZVNlbGVjdGlvbigpe3JldHVybiB0aGlzLnBlZWsoeC5TUFJFQUQpP3RoaXMucGFyc2VGcmFnbWVudCgpOnRoaXMucGFyc2VGaWVsZCgpfXBhcnNlRmllbGQoKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU5hbWUoKTtsZXQgbixyO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oeC5DT0xPTik/KG49dCxyPXRoaXMucGFyc2VOYW1lKCkpOnI9dCx0aGlzLm5vZGUoZSx7a2luZDpPLkZJRUxELGFsaWFzOm4sbmFtZTpyLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCExKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wZWVrKHguQlJBQ0VfTCk/dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpOnZvaWQgMH0pfXBhcnNlQXJndW1lbnRzKGUpe2NvbnN0IHQ9ZT90aGlzLnBhcnNlQ29uc3RBcmd1bWVudDp0aGlzLnBhcnNlQXJndW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguUEFSRU5fTCx0LHguUEFSRU5fUil9cGFyc2VBcmd1bWVudChlPSExKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKSx0aGlzLm5vZGUodCx7a2luZDpPLkFSR1VNRU5ULG5hbWU6bix2YWx1ZTp0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKGUpfSl9cGFyc2VDb25zdEFyZ3VtZW50KCl7cmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudCghMCl9cGFyc2VGcmFnbWVudCgpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RUb2tlbih4LlNQUkVBRCk7Y29uc3QgdD10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgib24iKTtyZXR1cm4hdCYmdGhpcy5wZWVrKHguTkFNRSk/dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9TUFJFQUQsbmFtZTp0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSl9KTp0aGlzLm5vZGUoZSx7a2luZDpPLklOTElORV9GUkFHTUVOVCx0eXBlQ29uZGl0aW9uOnQ/dGhpcy5wYXJzZU5hbWVkVHlwZSgpOnZvaWQgMCxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudERlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdEtleXdvcmQoImZyYWdtZW50IiksITA9PT10aGlzLl9vcHRpb25zLmFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM/dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSk6dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHR5cGVDb25kaXRpb246KHRoaXMuZXhwZWN0S2V5d29yZCgib24iKSx0aGlzLnBhcnNlTmFtZWRUeXBlKCkpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KX1wYXJzZUZyYWdtZW50TmFtZSgpe2lmKCJvbiI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZSl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZVZhbHVlTGl0ZXJhbChlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3N3aXRjaCh0LmtpbmQpe2Nhc2UgeC5CUkFDS0VUX0w6cmV0dXJuIHRoaXMucGFyc2VMaXN0KGUpO2Nhc2UgeC5CUkFDRV9MOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0KGUpO2Nhc2UgeC5JTlQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKHQse2tpbmQ6Ty5JTlQsdmFsdWU6dC52YWx1ZX0pO2Nhc2UgeC5GTE9BVDpyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSx0aGlzLm5vZGUodCx7a2luZDpPLkZMT0FULHZhbHVlOnQudmFsdWV9KTtjYXNlIHguU1RSSU5HOmNhc2UgeC5CTE9DS19TVFJJTkc6cmV0dXJuIHRoaXMucGFyc2VTdHJpbmdMaXRlcmFsKCk7Y2FzZSB4Lk5BTUU6c3dpdGNoKHRoaXMuYWR2YW5jZUxleGVyKCksdC52YWx1ZSl7Y2FzZSJ0cnVlIjpyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Ty5CT09MRUFOLHZhbHVlOiEwfSk7Y2FzZSJmYWxzZSI6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uQk9PTEVBTix2YWx1ZTohMX0pO2Nhc2UibnVsbCI6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uTlVMTH0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uRU5VTSx2YWx1ZTp0LnZhbHVlfSl9Y2FzZSB4LkRPTExBUjppZihlKXtpZih0aGlzLmV4cGVjdFRva2VuKHguRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09eC5OQU1FKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IHkodGhpcy5fbGV4ZXIuc291cmNlLHQuc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2V9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9cmV0dXJuIHRoaXMucGFyc2VWYXJpYWJsZSgpO2RlZmF1bHQ6dGhyb3cgdGhpcy51bmV4cGVjdGVkKCl9fXBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKXtyZXR1cm4gdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCghMCl9cGFyc2VTdHJpbmdMaXRlcmFsKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSx0aGlzLm5vZGUoZSx7a2luZDpPLlNUUklORyx2YWx1ZTplLnZhbHVlLGJsb2NrOmUua2luZD09PXguQkxPQ0tfU1RSSU5HfSl9cGFyc2VMaXN0KGUpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5MSVNULHZhbHVlczp0aGlzLmFueSh4LkJSQUNLRVRfTCwoKCk9PnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwoZSkpLHguQlJBQ0tFVF9SKX0pfXBhcnNlT2JqZWN0KGUpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5PQkpFQ1QsZmllbGRzOnRoaXMuYW55KHguQlJBQ0VfTCwoKCk9PnRoaXMucGFyc2VPYmplY3RGaWVsZChlKSkseC5CUkFDRV9SKX0pfXBhcnNlT2JqZWN0RmllbGQoZSl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4oeC5DT0xPTiksdGhpcy5ub2RlKHQse2tpbmQ6Ty5PQkpFQ1RfRklFTEQsbmFtZTpuLHZhbHVlOnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwoZSl9KX1wYXJzZURpcmVjdGl2ZXMoZSl7Y29uc3QgdD1bXTtmb3IoO3RoaXMucGVlayh4LkFUKTspdC5wdXNoKHRoaXMucGFyc2VEaXJlY3RpdmUoZSkpO3JldHVybiB0fXBhcnNlQ29uc3REaXJlY3RpdmVzKCl7cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVzKCEwKX1wYXJzZURpcmVjdGl2ZShlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdFRva2VuKHguQVQpLHRoaXMubm9kZSh0LHtraW5kOk8uRElSRUNUSVZFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKSxhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyhlKX0pfXBhcnNlVHlwZVJlZmVyZW5jZSgpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47bGV0IHQ7aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguQlJBQ0tFVF9MKSl7Y29uc3Qgbj10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO3RoaXMuZXhwZWN0VG9rZW4oeC5CUkFDS0VUX1IpLHQ9dGhpcy5ub2RlKGUse2tpbmQ6Ty5MSVNUX1RZUEUsdHlwZTpufSl9ZWxzZSB0PXRoaXMucGFyc2VOYW1lZFR5cGUoKTtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguQkFORyk/dGhpcy5ub2RlKGUse2tpbmQ6Ty5OT05fTlVMTF9UWVBFLHR5cGU6dH0pOnR9cGFyc2VOYW1lZFR5cGUoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOk8uTkFNRURfVFlQRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wZWVrRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVrKHguU1RSSU5HKXx8dGhpcy5wZWVrKHguQkxPQ0tfU1RSSU5HKX1wYXJzZURlc2NyaXB0aW9uKCl7aWYodGhpcy5wZWVrRGVzY3JpcHRpb24oKSlyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKX1wYXJzZVNjaGVtYURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJzY2hlbWEiKTtjb25zdCBuPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMubWFueSh4LkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLHguQlJBQ0VfUik7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uU0NIRU1BX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxkaXJlY3RpdmVzOm4sb3BlcmF0aW9uVHlwZXM6cn0pfXBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTt0aGlzLmV4cGVjdFRva2VuKHguQ09MT04pO2NvbnN0IG49dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9QRVJBVElPTl9UWVBFX0RFRklOSVRJT04sb3BlcmF0aW9uOnQsdHlwZTpufSl9cGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5TQ0FMQVJfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOnQsbmFtZTpuLGRpcmVjdGl2ZXM6cn0pfXBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4saW50ZXJmYWNlczpyLGRpcmVjdGl2ZXM6aSxmaWVsZHM6c30pfXBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKXtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoImltcGxlbWVudHMiKT90aGlzLmRlbGltaXRlZE1hbnkoeC5BTVAsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLHguQlJBQ0VfUil9cGFyc2VGaWVsZERlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpO3RoaXMuZXhwZWN0VG9rZW4oeC5DT0xPTik7Y29uc3QgaT10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpLHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLkZJRUxEX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sYXJndW1lbnRzOnIsdHlwZTppLGRpcmVjdGl2ZXM6c30pfXBhcnNlQXJndW1lbnREZWZzKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguUEFSRU5fTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZix4LlBBUkVOX1IpfXBhcnNlSW5wdXRWYWx1ZURlZigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxuPXRoaXMucGFyc2VOYW1lKCk7dGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKTtjb25zdCByPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7bGV0IGk7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguRVFVQUxTKSYmKGk9dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCkpO2NvbnN0IHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLklOUFVUX1ZBTFVFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sdHlwZTpyLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6c30pfXBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnRlcmZhY2UiKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczppLGZpZWxkczpzfSl9cGFyc2VVbmlvblR5cGVEZWZpbml0aW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbix0PXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksaT10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlVOSU9OX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixkaXJlY3RpdmVzOnIsdHlwZXM6aX0pfXBhcnNlVW5pb25NZW1iZXJUeXBlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oeC5FUVVBTFMpP3RoaXMuZGVsaW1pdGVkTWFueSh4LlBJUEUsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VFbnVtVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRU5VTV9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sZGlyZWN0aXZlczpyLHZhbHVlczppfSl9cGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueSh4LkJSQUNFX0wsdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24seC5CUkFDRV9SKX1wYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksbj10aGlzLnBhcnNlRW51bVZhbHVlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLkVOVU1fVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixkaXJlY3RpdmVzOnJ9KX1wYXJzZUVudW1WYWx1ZU5hbWUoKXtpZigidHJ1ZSI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZXx8ImZhbHNlIj09PXRoaXMuX2xleGVyLnRva2VuLnZhbHVlfHwibnVsbCI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZSl0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCxgJHtsZSh0aGlzLl9sZXhlci50b2tlbil9IGlzIHJlc2VydmVkIGFuZCBjYW5ub3QgYmUgdXNlZCBmb3IgYW4gZW51bSB2YWx1ZS5gKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxpPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOnQsbmFtZTpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZix4LkJSQUNFX1IpfXBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk7aWYoZS5raW5kPT09eC5OQU1FKXN3aXRjaChlLnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFFeHRlbnNpb24oKTtjYXNlInNjYWxhciI6cmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ1bmlvbiI6cmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVFeHRlbnNpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpfXRocm93IHRoaXMudW5leHBlY3RlZChlKX1wYXJzZVNjaGVtYUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IHQ9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLG49dGhpcy5vcHRpb25hbE1hbnkoeC5CUkFDRV9MLHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbix4LkJSQUNFX1IpO2lmKDA9PT10Lmxlbmd0aCYmMD09PW4ubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlNDSEVNQV9FWFRFTlNJT04sZGlyZWN0aXZlczp0LG9wZXJhdGlvblR5cGVzOm59KX1wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJzY2FsYXIiKTtjb25zdCB0PXRoaXMucGFyc2VOYW1lKCksbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7aWYoMD09PW4ubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlNDQUxBUl9UWVBFX0VYVEVOU0lPTixuYW1lOnQsZGlyZWN0aXZlczpufSl9cGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidHlwZSIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCYmMD09PWkubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCYmMD09PWkubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTixuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlVW5pb25UeXBlRXh0ZW5zaW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCB0PXRoaXMucGFyc2VOYW1lKCksbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO2lmKDA9PT1uLmxlbmd0aCYmMD09PXIubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlVOSU9OX1RZUEVfRVhURU5TSU9OLG5hbWU6dCxkaXJlY3RpdmVzOm4sdHlwZXM6cn0pfXBhcnNlRW51bVR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3QgdD10aGlzLnBhcnNlTmFtZSgpLG49dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7aWYoMD09PW4ubGVuZ3RoJiYwPT09ci5sZW5ndGgpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRU5VTV9UWVBFX0VYVEVOU0lPTixuYW1lOnQsZGlyZWN0aXZlczpuLHZhbHVlczpyfSl9cGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5JTlBVVF9PQkpFQ1RfVFlQRV9FWFRFTlNJT04sbmFtZTp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pfXBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImRpcmVjdGl2ZSIpLHRoaXMuZXhwZWN0VG9rZW4oeC5BVCk7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpLGk9dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoInJlcGVhdGFibGUiKTt0aGlzLmV4cGVjdEtleXdvcmQoIm9uIik7Y29uc3Qgcz10aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRElSRUNUSVZFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sYXJndW1lbnRzOnIscmVwZWF0YWJsZTppLGxvY2F0aW9uczpzfSl9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKXtyZXR1cm4gdGhpcy5kZWxpbWl0ZWRNYW55KHguUElQRSx0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24pfXBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU5hbWUoKTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoTix0LnZhbHVlKSlyZXR1cm4gdDt0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoZSl9bm9kZShlLHQpe3JldHVybiEwIT09dGhpcy5fb3B0aW9ucy5ub0xvY2F0aW9uJiYodC5sb2M9bmV3IG0oZSx0aGlzLl9sZXhlci5sYXN0VG9rZW4sdGhpcy5fbGV4ZXIuc291cmNlKSksdH1wZWVrKGUpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09ZX1leHBlY3RUb2tlbihlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO2lmKHQua2luZD09PWUpcmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdDt0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBFeHBlY3RlZCAke3VlKGUpfSwgZm91bmQgJHtsZSh0KX0uYCl9ZXhwZWN0T3B0aW9uYWxUb2tlbihlKXtyZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZD09PWUmJih0aGlzLmFkdmFuY2VMZXhlcigpLCEwKX1leHBlY3RLZXl3b3JkKGUpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47aWYodC5raW5kIT09eC5OQU1FfHx0LnZhbHVlIT09ZSl0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBFeHBlY3RlZCAiJHtlfSIsIGZvdW5kICR7bGUodCl9LmApO3RoaXMuYWR2YW5jZUxleGVyKCl9ZXhwZWN0T3B0aW9uYWxLZXl3b3JkKGUpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHQua2luZD09PXguTkFNRSYmdC52YWx1ZT09PWUmJih0aGlzLmFkdmFuY2VMZXhlcigpLCEwKX11bmV4cGVjdGVkKGUpe2NvbnN0IHQ9bnVsbCE9ZT9lOnRoaXMuX2xleGVyLnRva2VuO3JldHVybiB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBVbmV4cGVjdGVkICR7bGUodCl9LmApfWFueShlLHQsbil7dGhpcy5leHBlY3RUb2tlbihlKTtjb25zdCByPVtdO2Zvcig7IXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihuKTspci5wdXNoKHQuY2FsbCh0aGlzKSk7cmV0dXJuIHJ9b3B0aW9uYWxNYW55KGUsdCxuKXtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSkpe2NvbnN0IGU9W107ZG97ZS5wdXNoKHQuY2FsbCh0aGlzKSl9d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihuKSk7cmV0dXJuIGV9cmV0dXJuW119bWFueShlLHQsbil7dGhpcy5leHBlY3RUb2tlbihlKTtjb25zdCByPVtdO2Rve3IucHVzaCh0LmNhbGwodGhpcykpfXdoaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obikpO3JldHVybiByfWRlbGltaXRlZE1hbnkoZSx0KXt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSk7Y29uc3Qgbj1bXTtkb3tuLnB1c2godC5jYWxsKHRoaXMpKX13aGlsZSh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSkpO3JldHVybiBufWFkdmFuY2VMZXhlcigpe2NvbnN0e21heFRva2VuczplfT10aGlzLl9vcHRpb25zLHQ9dGhpcy5fbGV4ZXIuYWR2YW5jZSgpO2lmKHZvaWQgMCE9PWUmJnQua2luZCE9PXguRU9GJiYoKyt0aGlzLl90b2tlbkNvdW50ZXIsdGhpcy5fdG9rZW5Db3VudGVyPmUpKXRocm93IHkodGhpcy5fbGV4ZXIuc291cmNlLHQuc3RhcnQsYERvY3VtZW50IGNvbnRhaW5zIG1vcmUgdGhhdCAke2V9IHRva2Vucy4gUGFyc2luZyBhYm9ydGVkLmApfX1mdW5jdGlvbiBsZShlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIHVlKGUua2luZCkrKG51bGwhPXQ/YCAiJHt0fSJgOiIiKX1mdW5jdGlvbiB1ZShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT14LkJBTkd8fGU9PT14LkRPTExBUnx8ZT09PXguQU1QfHxlPT09eC5QQVJFTl9MfHxlPT09eC5QQVJFTl9SfHxlPT09eC5TUFJFQUR8fGU9PT14LkNPTE9OfHxlPT09eC5FUVVBTFN8fGU9PT14LkFUfHxlPT09eC5CUkFDS0VUX0x8fGU9PT14LkJSQUNLRVRfUnx8ZT09PXguQlJBQ0VfTHx8ZT09PXguUElQRXx8ZT09PXguQlJBQ0VfUn0oZSk/YCIke2V9ImA6ZX1jb25zdCBkZT0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIHBlKGUpe3JldHVybiBoZVtlLmNoYXJDb2RlQXQoMCldfWNvbnN0IGhlPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLGZlPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIHllKGUsdCl7Y29uc3Qgbj1lW3RdO3JldHVybiJvYmplY3QiPT10eXBlb2Ygbj9uOiJmdW5jdGlvbiI9PXR5cGVvZiBuP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuPV8pe2NvbnN0IHI9bmV3IE1hcDtmb3IoY29uc3QgYSBvZiBPYmplY3QudmFsdWVzKE8pKXIuc2V0KGEseWUodCxhKSk7bGV0IGkscyxvLGM9QXJyYXkuaXNBcnJheShlKSxsPVtlXSx1PS0xLGQ9W10scD1lO2NvbnN0IGg9W10sZj1bXTtkb3t1Kys7Y29uc3QgZT11PT09bC5sZW5ndGgsXz1lJiYwIT09ZC5sZW5ndGg7aWYoZSl7aWYocz0wPT09Zi5sZW5ndGg/dm9pZCAwOmhbaC5sZW5ndGgtMV0scD1vLG89Zi5wb3AoKSxfKWlmKGMpe3A9cC5zbGljZSgpO2xldCBlPTA7Zm9yKGNvbnN0W3Qsbl1vZiBkKXtjb25zdCByPXQtZTtudWxsPT09bj8ocC5zcGxpY2UociwxKSxlKyspOnBbcl09bn19ZWxzZXtwPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHApKTtmb3IoY29uc3RbZSx0XW9mIGQpcFtlXT10fXU9aS5pbmRleCxsPWkua2V5cyxkPWkuZWRpdHMsYz1pLmluQXJyYXksaT1pLnByZXZ9ZWxzZSBpZihvKXtpZihzPWM/dTpsW3VdLHA9b1tzXSxudWxsPT1wKWNvbnRpbnVlO2gucHVzaChzKX1sZXQgZztpZighQXJyYXkuaXNBcnJheShwKSl7dmFyIHksbTtFKHApfHxhKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke3JlKHApfS5gKTtjb25zdCBuPWU/bnVsbD09PSh5PXIuZ2V0KHAua2luZCkpfHx2b2lkIDA9PT15P3ZvaWQgMDp5LmxlYXZlOm51bGw9PT0obT1yLmdldChwLmtpbmQpKXx8dm9pZCAwPT09bT92b2lkIDA6bS5lbnRlcjtpZihnPW51bGw9PW4/dm9pZCAwOm4uY2FsbCh0LHAscyxvLGgsZiksZz09PWZlKWJyZWFrO2lmKCExPT09Zyl7aWYoIWUpe2gucG9wKCk7Y29udGludWV9fWVsc2UgaWYodm9pZCAwIT09ZyYmKGQucHVzaChbcyxnXSksIWUpKXtpZighRShnKSl7aC5wb3AoKTtjb250aW51ZX1wPWd9fXZhciB2O3ZvaWQgMD09PWcmJl8mJmQucHVzaChbcyxwXSksZT9oLnBvcCgpOihpPXtpbkFycmF5OmMsaW5kZXg6dSxrZXlzOmwsZWRpdHM6ZCxwcmV2Oml9LGM9QXJyYXkuaXNBcnJheShwKSxsPWM/cDpudWxsIT09KHY9bltwLmtpbmRdKSYmdm9pZCAwIT09dj92OltdLHU9LTEsZD1bXSxvJiZmLnB1c2gobyksbz1wKX13aGlsZSh2b2lkIDAhPT1pKTtyZXR1cm4gMCE9PWQubGVuZ3RoP2RbZC5sZW5ndGgtMV1bMV06ZX0oZSx2ZSl9Y29uc3QgdmU9e05hbWU6e2xlYXZlOmU9PmUudmFsdWV9LFZhcmlhYmxlOntsZWF2ZTplPT4iJCIrZS5uYW1lfSxEb2N1bWVudDp7bGVhdmU6ZT0+X2UoZS5kZWZpbml0aW9ucywiXG5cbiIpfSxPcGVyYXRpb25EZWZpbml0aW9uOntsZWF2ZShlKXtjb25zdCB0PUVlKCIoIixfZShlLnZhcmlhYmxlRGVmaW5pdGlvbnMsIiwgIiksIikiKSxuPV9lKFtlLm9wZXJhdGlvbixfZShbZS5uYW1lLHRdKSxfZShlLmRpcmVjdGl2ZXMsIiAiKV0sIiAiKTtyZXR1cm4oInF1ZXJ5Ij09PW4/IiI6bisiICIpK2Uuc2VsZWN0aW9uU2V0fX0sVmFyaWFibGVEZWZpbml0aW9uOntsZWF2ZTooe3ZhcmlhYmxlOmUsdHlwZTp0LGRlZmF1bHRWYWx1ZTpuLGRpcmVjdGl2ZXM6cn0pPT5lKyI6ICIrdCtFZSgiID0gIixuKStFZSgiICIsX2UociwiICIpKX0sU2VsZWN0aW9uU2V0OntsZWF2ZTooe3NlbGVjdGlvbnM6ZX0pPT5nZShlKX0sRmllbGQ6e2xlYXZlKHthbGlhczplLG5hbWU6dCxhcmd1bWVudHM6bixkaXJlY3RpdmVzOnIsc2VsZWN0aW9uU2V0Oml9KXtjb25zdCBzPUVlKCIiLGUsIjogIikrdDtsZXQgbz1zK0VlKCIoIixfZShuLCIsICIpLCIpIik7cmV0dXJuIG8ubGVuZ3RoPjgwJiYobz1zK0VlKCIoXG4iLFRlKF9lKG4sIlxuIikpLCJcbikiKSksX2UoW28sX2UociwiICIpLGldLCIgIil9fSxBcmd1bWVudDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRnJhZ21lbnRTcHJlYWQ6e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT4iLi4uIitlK0VlKCIgIixfZSh0LCIgIikpfSxJbmxpbmVGcmFnbWVudDp7bGVhdmU6KHt0eXBlQ29uZGl0aW9uOmUsZGlyZWN0aXZlczp0LHNlbGVjdGlvblNldDpufSk9Pl9lKFsiLi4uIixFZSgib24gIixlKSxfZSh0LCIgIiksbl0sIiAiKX0sRnJhZ21lbnREZWZpbml0aW9uOntsZWF2ZTooe25hbWU6ZSx0eXBlQ29uZGl0aW9uOnQsdmFyaWFibGVEZWZpbml0aW9uczpuLGRpcmVjdGl2ZXM6cixzZWxlY3Rpb25TZXQ6aX0pPT5gZnJhZ21lbnQgJHtlfSR7RWUoIigiLF9lKG4sIiwgIiksIikiKX0gb24gJHt0fSAke0VlKCIiLF9lKHIsIiAiKSwiICIpfWAraX0sSW50VmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lfSxGbG9hdFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sU3RyaW5nVmFsdWU6e2xlYXZlOih7dmFsdWU6ZSxibG9jazp0fSk9PnQ/ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUucmVwbGFjZSgvIiIiL2csJ1xcIiIiJykscj1uLnNwbGl0KC9cclxufFtcblxyXS9nKSxpPTE9PT1yLmxlbmd0aCxzPXIubGVuZ3RoPjEmJnIuc2xpY2UoMSkuZXZlcnkoKGU9PjA9PT1lLmxlbmd0aHx8RChlLmNoYXJDb2RlQXQoMCkpKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGE9ZS5lbmRzV2l0aCgnIicpJiYhbyxjPWUuZW5kc1dpdGgoIlxcIiksbD1hfHxjLHU9IShudWxsIT10JiZ0Lm1pbmltaXplKSYmKCFpfHxlLmxlbmd0aD43MHx8bHx8c3x8byk7bGV0IGQ9IiI7Y29uc3QgcD1pJiZEKGUuY2hhckNvZGVBdCgwKSk7cmV0dXJuKHUmJiFwfHxzKSYmKGQrPSJcbiIpLGQrPW4sKHV8fGwpJiYoZCs9IlxuIiksJyIiIicrZCsnIiIiJ30oZSk6YCIke2UucmVwbGFjZShkZSxwZSl9ImB9LEJvb2xlYW5WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmU/InRydWUiOiJmYWxzZSJ9LE51bGxWYWx1ZTp7bGVhdmU6KCk9PiJudWxsIn0sRW51bVZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sTGlzdFZhbHVlOntsZWF2ZTooe3ZhbHVlczplfSk9PiJbIitfZShlLCIsICIpKyJdIn0sT2JqZWN0VmFsdWU6e2xlYXZlOih7ZmllbGRzOmV9KT0+InsiK19lKGUsIiwgIikrIn0ifSxPYmplY3RGaWVsZDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRGlyZWN0aXZlOntsZWF2ZTooe25hbWU6ZSxhcmd1bWVudHM6dH0pPT4iQCIrZStFZSgiKCIsX2UodCwiLCAiKSwiKSIpfSxOYW1lZFR5cGU6e2xlYXZlOih7bmFtZTplfSk9PmV9LExpc3RUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT4iWyIrZSsiXSJ9LE5vbk51bGxUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT5lKyIhIn0sU2NoZW1hRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLGRpcmVjdGl2ZXM6dCxvcGVyYXRpb25UeXBlczpufSk9PkVlKCIiLGUsIlxuIikrX2UoWyJzY2hlbWEiLF9lKHQsIiAiKSxnZShuKV0sIiAiKX0sT3BlcmF0aW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7b3BlcmF0aW9uOmUsdHlwZTp0fSk9PmUrIjogIit0fSxTY2FsYXJUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+RWUoIiIsZSwiXG4iKStfZShbInNjYWxhciIsdCxfZShuLCIgIildLCIgIil9LE9iamVjdFR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOnIsZmllbGRzOml9KT0+RWUoIiIsZSwiXG4iKStfZShbInR5cGUiLHQsRWUoImltcGxlbWVudHMgIixfZShuLCIgJiAiKSksX2UociwiICIpLGdlKGkpXSwiICIpfSxGaWVsZERlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsYXJndW1lbnRzOm4sdHlwZTpyLGRpcmVjdGl2ZXM6aX0pPT5FZSgiIixlLCJcbiIpK3QrKGJlKG4pP0VlKCIoXG4iLFRlKF9lKG4sIlxuIikpLCJcbikiKTpFZSgiKCIsX2UobiwiLCAiKSwiKSIpKSsiOiAiK3IrRWUoIiAiLF9lKGksIiAiKSl9LElucHV0VmFsdWVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LHR5cGU6bixkZWZhdWx0VmFsdWU6cixkaXJlY3RpdmVzOml9KT0+RWUoIiIsZSwiXG4iKStfZShbdCsiOiAiK24sRWUoIj0gIixyKSxfZShpLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOnIsZmllbGRzOml9KT0+RWUoIiIsZSwiXG4iKStfZShbImludGVyZmFjZSIsdCxFZSgiaW1wbGVtZW50cyAiLF9lKG4sIiAmICIpKSxfZShyLCIgIiksZ2UoaSldLCIgIil9LFVuaW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHR5cGVzOnJ9KT0+RWUoIiIsZSwiXG4iKStfZShbInVuaW9uIix0LF9lKG4sIiAiKSxFZSgiPSAiLF9lKHIsIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bix2YWx1ZXM6cn0pPT5FZSgiIixlLCJcbiIpK19lKFsiZW51bSIsdCxfZShuLCIgIiksZ2UocildLCIgIil9LEVudW1WYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpufSk9PkVlKCIiLGUsIlxuIikrX2UoW3QsX2UobiwiICIpXSwiICIpfSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT5FZSgiIixlLCJcbiIpK19lKFsiaW5wdXQiLHQsX2UobiwiICIpLGdlKHIpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6cixsb2NhdGlvbnM6aX0pPT5FZSgiIixlLCJcbiIpKyJkaXJlY3RpdmUgQCIrdCsoYmUobik/RWUoIihcbiIsVGUoX2UobiwiXG4iKSksIlxuKSIpOkVlKCIoIixfZShuLCIsICIpLCIpIikpKyhyPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitfZShpLCIgfCAiKX0sU2NoZW1hRXh0ZW5zaW9uOntsZWF2ZTooe2RpcmVjdGl2ZXM6ZSxvcGVyYXRpb25UeXBlczp0fSk9Pl9lKFsiZXh0ZW5kIHNjaGVtYSIsX2UoZSwiICIpLGdlKHQpXSwiICIpfSxTY2FsYXJUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+X2UoWyJleHRlbmQgc2NhbGFyIixlLF9lKHQsIiAiKV0sIiAiKX0sT2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT5fZShbImV4dGVuZCB0eXBlIixlLEVlKCJpbXBsZW1lbnRzICIsX2UodCwiICYgIikpLF9lKG4sIiAiKSxnZShyKV0sIiAiKX0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT5fZShbImV4dGVuZCBpbnRlcmZhY2UiLGUsRWUoImltcGxlbWVudHMgIixfZSh0LCIgJiAiKSksX2UobiwiICIpLGdlKHIpXSwiICIpfSxVbmlvblR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCx0eXBlczpufSk9Pl9lKFsiZXh0ZW5kIHVuaW9uIixlLF9lKHQsIiAiKSxFZSgiPSAiLF9lKG4sIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCx2YWx1ZXM6bn0pPT5fZShbImV4dGVuZCBlbnVtIixlLF9lKHQsIiAiKSxnZShuKV0sIiAiKX0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsZmllbGRzOm59KT0+X2UoWyJleHRlbmQgaW5wdXQiLGUsX2UodCwiICIpLGdlKG4pXSwiICIpfX07ZnVuY3Rpb24gX2UoZSx0PSIiKXt2YXIgbjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuZmlsdGVyKChlPT5lKSkuam9pbih0KSkmJnZvaWQgMCE9PW4/bjoiIn1mdW5jdGlvbiBnZShlKXtyZXR1cm4gRWUoIntcbiIsVGUoX2UoZSwiXG4iKSksIlxufSIpfWZ1bmN0aW9uIEVlKGUsdCxuPSIiKXtyZXR1cm4gbnVsbCE9dCYmIiIhPT10P2UrdCtuOiIifWZ1bmN0aW9uIFRlKGUpe3JldHVybiBFZSgiICAiLGUucmVwbGFjZSgvXG4vZywiXG4gICIpKX1mdW5jdGlvbiBiZShlKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUuc29tZSgoZT0+ZS5pbmNsdWRlcygiXG4iKSkpKSYmdm9pZCAwIT09dCYmdH12YXIgTmU9bmV3IE1hcCxJZT1uZXcgTWFwLE9lPSEwLEFlPSExO2Z1bmN0aW9uIHhlKGUpe3JldHVybiBlLnJlcGxhY2UoL1tccyxdKy9nLCIgIikudHJpbSgpfWZ1bmN0aW9uIFNlKGUpe3ZhciB0PW5ldyBTZXQsbj1bXTtyZXR1cm4gZS5kZWZpbml0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigiRnJhZ21lbnREZWZpbml0aW9uIj09PWUua2luZCl7dmFyIHI9ZS5uYW1lLnZhbHVlLGk9eGUoKG89ZS5sb2MpLnNvdXJjZS5ib2R5LnN1YnN0cmluZyhvLnN0YXJ0LG8uZW5kKSkscz1JZS5nZXQocik7cyYmIXMuaGFzKGkpP09lJiZjb25zb2xlLndhcm4oIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSAiK3IrIiBhbHJlYWR5IGV4aXN0cy5cbmdyYXBocWwtdGFnIGVuZm9yY2VzIGFsbCBmcmFnbWVudCBuYW1lcyBhY3Jvc3MgeW91ciBhcHBsaWNhdGlvbiB0byBiZSB1bmlxdWU7IHJlYWQgbW9yZSBhYm91dFxudGhpcyBpbiB0aGUgZG9jczogaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2ZyYWdtZW50cy5odG1sI3VuaXF1ZS1uYW1lcyIpOnN8fEllLnNldChyLHM9bmV3IFNldCkscy5hZGQoaSksdC5oYXMoaSl8fCh0LmFkZChpKSxuLnB1c2goZSkpfWVsc2Ugbi5wdXNoKGUpO3ZhciBvfSkpLG8obyh7fSxlKSx7ZGVmaW5pdGlvbnM6bn0pfWZ1bmN0aW9uIERlKGUpe3ZhciB0PXhlKGUpO2lmKCFOZS5oYXModCkpe3ZhciBuPWFlKGUse2V4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOkFlLGFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM6QWV9KTtpZighbnx8IkRvY3VtZW50IiE9PW4ua2luZCl0aHJvdyBuZXcgRXJyb3IoIk5vdCBhIHZhbGlkIEdyYXBoUUwgZG9jdW1lbnQuIik7TmUuc2V0KHQsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFNldChlLmRlZmluaXRpb25zKTt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubG9jJiZkZWxldGUgZS5sb2MsT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVtuXTtyJiYib2JqZWN0Ij09dHlwZW9mIHImJnQuYWRkKHIpfSkpfSkpO3ZhciBuPWUubG9jO3JldHVybiBuJiYoZGVsZXRlIG4uc3RhcnRUb2tlbixkZWxldGUgbi5lbmRUb2tlbiksZX0oU2UobikpKX1yZXR1cm4gTmUuZ2V0KHQpfWZ1bmN0aW9uIHdlKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dOyJzdHJpbmciPT10eXBlb2YgZSYmKGU9W2VdKTt2YXIgcj1lWzBdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dCYmIkRvY3VtZW50Ij09PXQua2luZD9yKz10LmxvYy5zb3VyY2UuYm9keTpyKz10LHIrPWVbbisxXX0pKSxEZShyKX12YXIga2UsQ2U9d2UsUGU9ZnVuY3Rpb24oKXtOZS5jbGVhcigpLEllLmNsZWFyKCl9LFJlPWZ1bmN0aW9uKCl7T2U9ITF9LExlPWZ1bmN0aW9uKCl7QWU9ITB9LEZlPWZ1bmN0aW9uKCl7QWU9ITF9OyhrZT13ZXx8KHdlPXt9KSkuZ3FsPUNlLGtlLnJlc2V0Q2FjaGVzPVBlLGtlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzPVJlLGtlLmVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzPUxlLGtlLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1GZSx3ZS5kZWZhdWx0PXdlO2NvbnN0ICRlPXdlYAoJbXV0YXRpb24gUHVzaFBheWxvYWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRldmVudHM6IFJlcGxheUV2ZW50c0lucHV0IQoJCSRtZXNzYWdlczogU3RyaW5nIQoJCSRyZXNvdXJjZXM6IFN0cmluZyEKCQkkd2ViX3NvY2tldF9ldmVudHM6IFN0cmluZyEKCQkkZXJyb3JzOiBbRXJyb3JPYmplY3RJbnB1dF0hCgkJJGlzX2JlYWNvbjogQm9vbGVhbgoJCSRoYXNfc2Vzc2lvbl91bmxvYWRlZDogQm9vbGVhbgoJCSRoaWdobGlnaHRfbG9nczogU3RyaW5nCgkpIHsKCQlwdXNoUGF5bG9hZCgKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCQlldmVudHM6ICRldmVudHMKCQkJbWVzc2FnZXM6ICRtZXNzYWdlcwoJCQlyZXNvdXJjZXM6ICRyZXNvdXJjZXMKCQkJd2ViX3NvY2tldF9ldmVudHM6ICR3ZWJfc29ja2V0X2V2ZW50cwoJCQllcnJvcnM6ICRlcnJvcnMKCQkJaXNfYmVhY29uOiAkaXNfYmVhY29uCgkJCWhhc19zZXNzaW9uX3VubG9hZGVkOiAkaGFzX3Nlc3Npb25fdW5sb2FkZWQKCQkJaGlnaGxpZ2h0X2xvZ3M6ICRoaWdobGlnaHRfbG9ncwoJCSkKCX0KYCxNZT13ZWAKCW11dGF0aW9uIFB1c2hQYXlsb2FkQ29tcHJlc3NlZCgKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkcGF5bG9hZF9pZDogSUQhCgkJJGRhdGE6IFN0cmluZyEKCSkgewoJCXB1c2hQYXlsb2FkQ29tcHJlc3NlZCgKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCQlkYXRhOiAkZGF0YQoJCSkKCX0KYCxWZT13ZWAKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxCZT13ZWAKCW11dGF0aW9uIGFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRwcm9wZXJ0aWVzX29iamVjdDogQW55CgkpIHsKCQlhZGRTZXNzaW9uUHJvcGVydGllcygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwcm9wZXJ0aWVzX29iamVjdDogJHByb3BlcnRpZXNfb2JqZWN0CgkJKQoJfQpgLGplPXdlYAoJbXV0YXRpb24gcHVzaE1ldHJpY3MoJG1ldHJpY3M6IFtNZXRyaWNJbnB1dF0hKSB7CgkJcHVzaE1ldHJpY3MobWV0cmljczogJG1ldHJpY3MpCgl9CmAsVWU9d2VgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAscWU9d2VgCgltdXRhdGlvbiBpbml0aWFsaXplU2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6IFN0cmluZyEKCQkkZW5hYmxlX3N0cmljdF9wcml2YWN5OiBCb29sZWFuIQoJCSRwcml2YWN5X3NldHRpbmc6IFN0cmluZyEKCQkkZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzOiBCb29sZWFuIQoJCSRjbGllbnRWZXJzaW9uOiBTdHJpbmchCgkJJGZpcnN0bG9hZFZlcnNpb246IFN0cmluZyEKCQkkY2xpZW50Q29uZmlnOiBTdHJpbmchCgkJJGVudmlyb25tZW50OiBTdHJpbmchCgkJJGlkOiBTdHJpbmchCgkJJGFwcFZlcnNpb246IFN0cmluZwoJCSRzZXJ2aWNlTmFtZTogU3RyaW5nIQoJCSRjbGllbnRfaWQ6IFN0cmluZyEKCQkkbmV0d29ya19yZWNvcmRpbmdfZG9tYWluczogW1N0cmluZyFdCgkJJGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6IEJvb2xlYW4KCSkgewoJCWluaXRpYWxpemVTZXNzaW9uKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCW9yZ2FuaXphdGlvbl92ZXJib3NlX2lkOiAkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQKCQkJZW5hYmxlX3N0cmljdF9wcml2YWN5OiAkZW5hYmxlX3N0cmljdF9wcml2YWN5CgkJCWVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50czogJGVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50cwoJCQljbGllbnRWZXJzaW9uOiAkY2xpZW50VmVyc2lvbgoJCQlmaXJzdGxvYWRWZXJzaW9uOiAkZmlyc3Rsb2FkVmVyc2lvbgoJCQljbGllbnRDb25maWc6ICRjbGllbnRDb25maWcKCQkJZW52aXJvbm1lbnQ6ICRlbnZpcm9ubWVudAoJCQlhcHBWZXJzaW9uOiAkYXBwVmVyc2lvbgoJCQlzZXJ2aWNlTmFtZTogJHNlcnZpY2VOYW1lCgkJCWZpbmdlcnByaW50OiAkaWQKCQkJY2xpZW50X2lkOiAkY2xpZW50X2lkCgkJCW5ldHdvcmtfcmVjb3JkaW5nX2RvbWFpbnM6ICRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zCgkJCWRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ICRkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nCgkJCXByaXZhY3lfc2V0dGluZzogJHByaXZhY3lfc2V0dGluZwoJCSkgewoJCQlzZWN1cmVfaWQKCQkJcHJvamVjdF9pZAoJCX0KCX0KYCxLZT13ZWAKCXF1ZXJ5IElnbm9yZSgkaWQ6IElEISkgewoJCWlnbm9yZShpZDogJGlkKQoJfQpgLEdlPShlLHQsbixyKT0+ZSgpO2NvbnN0IHplPUpTT04sWWU9ZT0+e3ZhciB0LG47bGV0IHI7Y29uc3QgaT1lLmRlZmluaXRpb25zLmZpbHRlcigoZT0+Ik9wZXJhdGlvbkRlZmluaXRpb24iPT09ZS5raW5kKSk7cmV0dXJuIDE9PT1pLmxlbmd0aCYmKHI9bnVsbD09KG49bnVsbD09KHQ9aVswXSk/dm9pZCAwOnQubmFtZSk/dm9pZCAwOm4udmFsdWUpLHJ9LEhlPWU9PntpZigic3RyaW5nIj09dHlwZW9mIGUpe2xldCB0O3RyeXtjb25zdCBuPWFlKGUpO3Q9WWUobil9Y2F0Y2gobil7fXJldHVybntxdWVyeTplLG9wZXJhdGlvbk5hbWU6dH19Y29uc3QgdD1ZZShlKTtyZXR1cm57cXVlcnk6bWUoZSksb3BlcmF0aW9uTmFtZTp0fX07Y2xhc3MgSmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGAke0plLmV4dHJhY3RNZXNzYWdlKGUpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6ZSxyZXF1ZXN0OnR9KX1gKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxKZS5wcm90b3R5cGUpLHRoaXMucmVzcG9uc2U9ZSx0aGlzLnJlcXVlc3Q9dCwiZnVuY3Rpb24iPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSmUpfXN0YXRpYyBleHRyYWN0TWVzc2FnZShlKXt2YXIgdCxuLHI7cmV0dXJuIG51bGwhPShyPW51bGw9PShuPW51bGw9PSh0PWUuZXJyb3JzKT92b2lkIDA6dFswXSk/dm9pZCAwOm4ubWVzc2FnZSk/cjpgR3JhcGhRTCBFcnJvciAoQ29kZTogJHtlLnN0YXR1c30pYH19dmFyIFFlPXtleHBvcnRzOnt9fTshZnVuY3Rpb24oZSx0KXt2YXIgcixpPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOm4scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmZldGNoPSExLHRoaXMuRE9NRXhjZXB0aW9uPWkuRE9NRXhjZXB0aW9ufXJldHVybiBlLnByb3RvdHlwZT1pLG5ldyBlfSgpO3I9cyxmdW5jdGlvbihlKXt2YXIgdD0iVVJMU2VhcmNoUGFyYW1zImluIHIsbj0iU3ltYm9sImluIHImJiJpdGVyYXRvciJpbiBTeW1ib2wsaT0iRmlsZVJlYWRlciJpbiByJiYiQmxvYiJpbiByJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHM9IkZvcm1EYXRhImluIHIsbz0iQXJyYXlCdWZmZXIiaW4gcjtpZihvKXZhciBhPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sYz1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZhLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKT4tMX07ZnVuY3Rpb24gbChlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJihlPVN0cmluZyhlKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLGV9ZnVuY3Rpb24gZChlKXt2YXIgdD17bmV4dDpmdW5jdGlvbigpe3ZhciB0PWUuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT10LHZhbHVlOnR9fX07cmV0dXJuIG4mJih0W1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdH0pLHR9ZnVuY3Rpb24gcChlKXt0aGlzLm1hcD17fSxlIGluc3RhbmNlb2YgcD9lLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dGhpcy5hcHBlbmQodCxlKX0pLHRoaXMpOkFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0aGlzLmFwcGVuZChlWzBdLGVbMV0pfSksdGhpcyk6ZSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dGhpcy5hcHBlbmQodCxlW3RdKX0pLHRoaXMpfWZ1bmN0aW9uIGgoZSl7aWYoZS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2UuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gZihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5vbmxvYWQ9ZnVuY3Rpb24oKXt0KGUucmVzdWx0KX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7bihlLmVycm9yKX19KSl9ZnVuY3Rpb24geShlKXt2YXIgdD1uZXcgRmlsZVJlYWRlcixuPWYodCk7cmV0dXJuIHQucmVhZEFzQXJyYXlCdWZmZXIoZSksbn1mdW5jdGlvbiBtKGUpe2lmKGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UoMCk7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gdC5zZXQobmV3IFVpbnQ4QXJyYXkoZSkpLHQuYnVmZmVyfWZ1bmN0aW9uIHYoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbihlKXt2YXIgbjt0aGlzLl9ib2R5SW5pdD1lLGU/InN0cmluZyI9PXR5cGVvZiBlP3RoaXMuX2JvZHlUZXh0PWU6aSYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKT90aGlzLl9ib2R5QmxvYj1lOnMmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP3RoaXMuX2JvZHlGb3JtRGF0YT1lOnQmJlVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKT90aGlzLl9ib2R5VGV4dD1lLnRvU3RyaW5nKCk6byYmaSYmKG49ZSkmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pPyh0aGlzLl9ib2R5QXJyYXlCdWZmZXI9bShlLmJ1ZmZlciksdGhpcy5fYm9keUluaXQ9bmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTpvJiYoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSl8fGMoZSkpP3RoaXMuX2JvZHlBcnJheUJ1ZmZlcj1tKGUpOnRoaXMuX2JvZHlUZXh0PWU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpOnRoaXMuX2JvZHlUZXh0PSIiLHRoaXMuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpfHwoInN0cmluZyI9PXR5cGVvZiBlP3RoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOCIpOnRoaXMuX2JvZHlCbG9iJiZ0aGlzLl9ib2R5QmxvYi50eXBlP3RoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsdGhpcy5fYm9keUJsb2IudHlwZSk6dCYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0saSYmKHRoaXMuYmxvYj1mdW5jdGlvbigpe3ZhciBlPWgodGhpcyk7aWYoZSlyZXR1cm4gZTtpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYiIpO3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpfSx0aGlzLmFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj9oKHRoaXMpfHxQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKTp0aGlzLmJsb2IoKS50aGVuKHkpfSksdGhpcy50ZXh0PWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9aCh0aGlzKTtpZihyKXJldHVybiByO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBlPXRoaXMuX2JvZHlCbG9iLHQ9bmV3IEZpbGVSZWFkZXIsbj1mKHQpLHQucmVhZEFzVGV4dChlKSxuO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheShlKSxuPW5ldyBBcnJheSh0Lmxlbmd0aCkscj0wO3I8dC5sZW5ndGg7cisrKW5bcl09U3RyaW5nLmZyb21DaGFyQ29kZSh0W3JdKTtyZXR1cm4gbi5qb2luKCIiKX0odGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LHMmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oRSl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc31wLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXtlPWwoZSksdD11KHQpO3ZhciBuPXRoaXMubWFwW2VdO3RoaXMubWFwW2VdPW4/bisiLCAiK3Q6dH0scC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLm1hcFtsKGUpXX0scC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlPWwoZSksdGhpcy5oYXMoZSk/dGhpcy5tYXBbZV06bnVsbH0scC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShsKGUpKX0scC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5tYXBbbChlKV09dSh0KX0scC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5jYWxsKHQsdGhpcy5tYXBbbl0sbix0aGlzKX0scC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSkpLGQoZSl9LHAucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKSxkKGUpfSxwLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtlLnB1c2goW24sdF0pfSkpLGQoZSl9LG4mJihwLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPXAucHJvdG90eXBlLmVudHJpZXMpO3ZhciBfPVsiREVMRVRFIiwiR0VUIiwiSEVBRCIsIk9QVElPTlMiLCJQT1NUIiwiUFVUIl07ZnVuY3Rpb24gZyhlLHQpe3ZhciBuLHIsaT0odD10fHx7fSkuYm9keTtpZihlIGluc3RhbmNlb2YgZyl7aWYoZS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1lLnVybCx0aGlzLmNyZWRlbnRpYWxzPWUuY3JlZGVudGlhbHMsdC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBwKGUuaGVhZGVycykpLHRoaXMubWV0aG9kPWUubWV0aG9kLHRoaXMubW9kZT1lLm1vZGUsdGhpcy5zaWduYWw9ZS5zaWduYWwsaXx8bnVsbD09ZS5fYm9keUluaXR8fChpPWUuX2JvZHlJbml0LGUuYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKGUpO2lmKHRoaXMuY3JlZGVudGlhbHM9dC5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8InNhbWUtb3JpZ2luIiwhdC5oZWFkZXJzJiZ0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHAodC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9KG49dC5tZXRob2R8fHRoaXMubWV0aG9kfHwiR0VUIixyPW4udG9VcHBlckNhc2UoKSxfLmluZGV4T2Yocik+LTE/cjpuKSx0aGlzLm1vZGU9dC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9dC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwoIkdFVCI9PT10aGlzLm1ldGhvZHx8IkhFQUQiPT09dGhpcy5tZXRob2QpJiZpKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoaSl9ZnVuY3Rpb24gRShlKXt2YXIgdD1uZXcgRm9ybURhdGE7cmV0dXJuIGUudHJpbSgpLnNwbGl0KCImIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49ZS5zcGxpdCgiPSIpLHI9bi5zaGlmdCgpLnJlcGxhY2UoL1wrL2csIiAiKSxpPW4uam9pbigiPSIpLnJlcGxhY2UoL1wrL2csIiAiKTt0LmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQociksZGVjb2RlVVJJQ29tcG9uZW50KGkpKX19KSksdH1mdW5jdGlvbiBUKGUsdCl7dHx8KHQ9e30pLHRoaXMudHlwZT0iZGVmYXVsdCIsdGhpcy5zdGF0dXM9dm9pZCAwPT09dC5zdGF0dXM/MjAwOnQuc3RhdHVzLHRoaXMub2s9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwLHRoaXMuc3RhdHVzVGV4dD0ic3RhdHVzVGV4dCJpbiB0P3Quc3RhdHVzVGV4dDoiT0siLHRoaXMuaGVhZGVycz1uZXcgcCh0LmhlYWRlcnMpLHRoaXMudXJsPXQudXJsfHwiIix0aGlzLl9pbml0Qm9keShlKX1nLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZyh0aGlzLHtib2R5OnRoaXMuX2JvZHlJbml0fSl9LHYuY2FsbChnLnByb3RvdHlwZSksdi5jYWxsKFQucHJvdG90eXBlKSxULnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVCh0aGlzLl9ib2R5SW5pdCx7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dGhpcy5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IHAodGhpcy5oZWFkZXJzKSx1cmw6dGhpcy51cmx9KX0sVC5lcnJvcj1mdW5jdGlvbigpe3ZhciBlPW5ldyBUKG51bGwse3N0YXR1czowLHN0YXR1c1RleHQ6IiJ9KTtyZXR1cm4gZS50eXBlPSJlcnJvciIsZX07dmFyIGI9WzMwMSwzMDIsMzAzLDMwNywzMDhdO1QucmVkaXJlY3Q9ZnVuY3Rpb24oZSx0KXtpZigtMT09PWIuaW5kZXhPZih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBzdGF0dXMgY29kZSIpO3JldHVybiBuZXcgVChudWxsLHtzdGF0dXM6dCxoZWFkZXJzOntsb2NhdGlvbjplfX0pfSxlLkRPTUV4Y2VwdGlvbj1yLkRPTUV4Y2VwdGlvbjt0cnl7bmV3IGUuRE9NRXhjZXB0aW9ufWNhdGNoKEkpe2UuRE9NRXhjZXB0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5tZXNzYWdlPWUsdGhpcy5uYW1lPXQ7dmFyIG49RXJyb3IoZSk7dGhpcy5zdGFjaz1uLnN0YWNrfSxlLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGUuRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLkRPTUV4Y2VwdGlvbn1mdW5jdGlvbiBOKHQsbil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLHMpe3ZhciBvPW5ldyBnKHQsbik7aWYoby5zaWduYWwmJm8uc2lnbmFsLmFib3J0ZWQpcmV0dXJuIHMobmV3IGUuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gYygpe2EuYWJvcnQoKX1hLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlLHQsbj17c3RhdHVzOmEuc3RhdHVzLHN0YXR1c1RleHQ6YS5zdGF0dXNUZXh0LGhlYWRlcnM6KGU9YS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8IiIsdD1uZXcgcCxlLnJlcGxhY2UoL1xyP1xuW1x0IF0rL2csIiAiKS5zcGxpdCgvXHI/XG4vKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnNwbGl0KCI6Iikscj1uLnNoaWZ0KCkudHJpbSgpO2lmKHIpe3ZhciBpPW4uam9pbigiOiIpLnRyaW0oKTt0LmFwcGVuZChyLGkpfX0pKSx0KX07bi51cmw9InJlc3BvbnNlVVJMImluIGE/YS5yZXNwb25zZVVSTDpuLmhlYWRlcnMuZ2V0KCJYLVJlcXVlc3QtVVJMIik7dmFyIGk9InJlc3BvbnNlImluIGE/YS5yZXNwb25zZTphLnJlc3BvbnNlVGV4dDtyKG5ldyBUKGksbikpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtzKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LGEub250aW1lb3V0PWZ1bmN0aW9uKCl7cyhuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSxhLm9uYWJvcnQ9ZnVuY3Rpb24oKXtzKG5ldyBlLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LGEub3BlbihvLm1ldGhvZCxvLnVybCwhMCksImluY2x1ZGUiPT09by5jcmVkZW50aWFscz9hLndpdGhDcmVkZW50aWFscz0hMDoib21pdCI9PT1vLmNyZWRlbnRpYWxzJiYoYS53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4gYSYmaSYmKGEucmVzcG9uc2VUeXBlPSJibG9iIiksby5oZWFkZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7YS5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksby5zaWduYWwmJihvLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYyksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09YS5yZWFkeVN0YXRlJiZvLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYyl9KSxhLnNlbmQodm9pZCAwPT09by5fYm9keUluaXQ/bnVsbDpvLl9ib2R5SW5pdCl9KSl9Ti5wb2x5ZmlsbD0hMCxyLmZldGNofHwoci5mZXRjaD1OLHIuSGVhZGVycz1wLHIuUmVxdWVzdD1nLHIuUmVzcG9uc2U9VCksZS5IZWFkZXJzPXAsZS5SZXF1ZXN0PWcsZS5SZXNwb25zZT1ULGUuZmV0Y2g9TixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KHt9KSxzLmZldGNoLnBvbnlmaWxsPSEwLGRlbGV0ZSBzLmZldGNoLnBvbHlmaWxsO3ZhciBvPXM7KHQ9by5mZXRjaCkuZGVmYXVsdD1vLmZldGNoLHQuZmV0Y2g9by5mZXRjaCx0LkhlYWRlcnM9by5IZWFkZXJzLHQuUmVxdWVzdD1vLlJlcXVlc3QsdC5SZXNwb25zZT1vLlJlc3BvbnNlLGUuZXhwb3J0cz10fShRZSxRZS5leHBvcnRzKTt2YXIgWGU9UWUuZXhwb3J0cyxXZT1yKFhlKSxaZT1lKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OldlfSxbWGVdKTtjb25zdCBldD1lPT57bGV0IHQ9e307cmV0dXJuIGUmJigidW5kZWZpbmVkIiE9dHlwZW9mIEhlYWRlcnMmJmUgaW5zdGFuY2VvZiBIZWFkZXJzfHxaZSYmWGUuSGVhZGVycyYmZSBpbnN0YW5jZW9mIFhlLkhlYWRlcnM/dD0oZT0+e2NvbnN0IHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoKGUsbik9Pnt0W25dPWV9KSksdH0pKGUpOkFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKCgoW2Usbl0pPT57ZSYmdm9pZCAwIT09biYmKHRbZV09bil9KSk6dD1lKSx0fSx0dD1lPT5lLnJlcGxhY2UoLyhbXHMsXXwjW15cblxyXSspKy9nLCIgIikudHJpbSgpLG50PWU9PnQ9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXt2YXIgbjtjb25zdHt1cmw6cixxdWVyeTppLHZhcmlhYmxlczpzLG9wZXJhdGlvbk5hbWU6byxmZXRjaDphLGZldGNoT3B0aW9uczpjLG1pZGRsZXdhcmU6bH09dCx1PV9fc3ByZWFkVmFsdWVzKHt9LHQuaGVhZGVycyk7bGV0IGQscD0iIjsiUE9TVCI9PT1lPyhkPXN0KGkscyxvLGMuanNvblNlcmlhbGl6ZXIpLCJzdHJpbmciPT10eXBlb2YgZCYmKHVbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi9qc29uIikpOnA9KGU9PntpZighQXJyYXkuaXNBcnJheShlLnF1ZXJ5KSl7Y29uc3QgdD1lLG49W2BxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudCh0dCh0LnF1ZXJ5KSl9YF07cmV0dXJuIGUudmFyaWFibGVzJiZuLnB1c2goYHZhcmlhYmxlcz0ke2VuY29kZVVSSUNvbXBvbmVudCh0Lmpzb25TZXJpYWxpemVyLnN0cmluZ2lmeSh0LnZhcmlhYmxlcykpfWApLHQub3BlcmF0aW9uTmFtZSYmbi5wdXNoKGBvcGVyYXRpb25OYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQub3BlcmF0aW9uTmFtZSl9YCksbi5qb2luKCImIil9aWYodm9pZCAwIT09ZS52YXJpYWJsZXMmJiFBcnJheS5pc0FycmF5KGUudmFyaWFibGVzKSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgcXVlcnkgd2l0aCBnaXZlbiB2YXJpYWJsZSB0eXBlLCBhcnJheSBleHBlY3RlZCIpO2NvbnN0IHQ9ZSxuPWUucXVlcnkucmVkdWNlKCgoZSxuLHIpPT4oZS5wdXNoKHtxdWVyeTp0dChuKSx2YXJpYWJsZXM6dC52YXJpYWJsZXM/dC5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkodC52YXJpYWJsZXNbcl0pOnZvaWQgMH0pLGUpKSxbXSk7cmV0dXJuYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KG4pKX1gfSkoe3F1ZXJ5OmksdmFyaWFibGVzOnMsb3BlcmF0aW9uTmFtZTpvLGpzb25TZXJpYWxpemVyOm51bGwhPShuPWMuanNvblNlcmlhbGl6ZXIpP246emV9KTtjb25zdCBoPV9fc3ByZWFkVmFsdWVzKHttZXRob2Q6ZSxoZWFkZXJzOnUsYm9keTpkfSxjKTtsZXQgZj1yLHk9aDtpZihsKXtjb25zdCBlPXlpZWxkIFByb21pc2UucmVzb2x2ZShsKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30saCkse3VybDpyLG9wZXJhdGlvbk5hbWU6byx2YXJpYWJsZXM6c30pKSkse3VybDp0fT1lO2Y9dCx5PV9fb2JqUmVzdChlLFsidXJsIl0pfXJldHVybiBwJiYoZj1gJHtmfT8ke3B9YCkseWllbGQgYShmLHkpfSkpO2NsYXNzIHJ0e2NvbnN0cnVjdG9yKGUsdD17fSl7dGhpcy51cmw9ZSx0aGlzLnJlcXVlc3RDb25maWc9dCx0aGlzLnJhd1JlcXVlc3Q9KC4uLmUpPT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3RbdCxuLHJdPWUsaT0oKGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0pKHQsbixyKSxzPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpvLGZldGNoOmE9V2UsbWV0aG9kOmM9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOmwscmVzcG9uc2VNaWRkbGV3YXJlOnV9PXMsZD1fX29ialJlc3QocyxbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcXVlc3RNaWRkbGV3YXJlIiwicmVzcG9uc2VNaWRkbGV3YXJlIl0pLHt1cmw6cH09dGhpczt2b2lkIDAhPT1pLnNpZ25hbCYmKGQuc2lnbmFsPWkuc2lnbmFsKTtjb25zdHtvcGVyYXRpb25OYW1lOmh9PUhlKGkucXVlcnkpO3JldHVybiBpdCh7dXJsOnAscXVlcnk6aS5xdWVyeSx2YXJpYWJsZXM6aS52YXJpYWJsZXMsaGVhZGVyczpfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxldChhdChvKSkpLGV0KGkucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOmgsZmV0Y2g6YSxtZXRob2Q6YyxmZXRjaE9wdGlvbnM6ZCxtaWRkbGV3YXJlOmx9KS50aGVuKChlPT4odSYmdShlKSxlKSkpLmNhdGNoKChlPT57dGhyb3cgdSYmdShlKSxlfSkpfSkpfXJlcXVlc3QoZSwuLi50KXtyZXR1cm4gX19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0W24scl09dCxpPSgoZSx0LG4pPT5lLmRvY3VtZW50P2U6e2RvY3VtZW50OmUsdmFyaWFibGVzOnQscmVxdWVzdEhlYWRlcnM6bixzaWduYWw6dm9pZCAwfSkoZSxuLHIpLHM9dGhpcy5yZXF1ZXN0Q29uZmlnLHtoZWFkZXJzOm8sZmV0Y2g6YT1XZSxtZXRob2Q6Yz0iUE9TVCIscmVxdWVzdE1pZGRsZXdhcmU6bCxyZXNwb25zZU1pZGRsZXdhcmU6dX09cyxkPV9fb2JqUmVzdChzLFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDpwfT10aGlzO3ZvaWQgMCE9PWkuc2lnbmFsJiYoZC5zaWduYWw9aS5zaWduYWwpO2NvbnN0e3F1ZXJ5Omgsb3BlcmF0aW9uTmFtZTpmfT1IZShpLmRvY3VtZW50KTtyZXR1cm4gaXQoe3VybDpwLHF1ZXJ5OmgsdmFyaWFibGVzOmkudmFyaWFibGVzLGhlYWRlcnM6X19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sZXQoYXQobykpKSxldChpLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTpmLGZldGNoOmEsbWV0aG9kOmMsZmV0Y2hPcHRpb25zOmQsbWlkZGxld2FyZTpsfSkudGhlbigoZT0+KHUmJnUoZSksZS5kYXRhKSkpLmNhdGNoKChlPT57dGhyb3cgdSYmdShlKSxlfSkpfSkpfWJhdGNoUmVxdWVzdHMoZSx0KXt2YXIgbjtjb25zdCByPSgoZSx0KT0+ZS5kb2N1bWVudHM/ZTp7ZG9jdW1lbnRzOmUscmVxdWVzdEhlYWRlcnM6dCxzaWduYWw6dm9pZCAwfSkoZSx0KSxpPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpzfT1pLG89X19vYmpSZXN0KGksWyJoZWFkZXJzIl0pO3ZvaWQgMCE9PXIuc2lnbmFsJiYoby5zaWduYWw9ci5zaWduYWwpO2NvbnN0IGE9ci5kb2N1bWVudHMubWFwKCgoe2RvY3VtZW50OmV9KT0+SGUoZSkucXVlcnkpKSxjPXIuZG9jdW1lbnRzLm1hcCgoKHt2YXJpYWJsZXM6ZX0pPT5lKSk7cmV0dXJuIGl0KHt1cmw6dGhpcy51cmwscXVlcnk6YSx2YXJpYWJsZXM6YyxoZWFkZXJzOl9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LGV0KGF0KHMpKSksZXQoci5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6dm9pZCAwLGZldGNoOm51bGwhPShuPXRoaXMucmVxdWVzdENvbmZpZy5mZXRjaCk/bjpXZSxtZXRob2Q6dGhpcy5yZXF1ZXN0Q29uZmlnLm1ldGhvZHx8IlBPU1QiLGZldGNoT3B0aW9uczpvLG1pZGRsZXdhcmU6dGhpcy5yZXF1ZXN0Q29uZmlnLnJlcXVlc3RNaWRkbGV3YXJlfSkudGhlbigoZT0+KHRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUmJnRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUoZSksZS5kYXRhKSkpLmNhdGNoKChlPT57dGhyb3cgdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSYmdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZShlKSxlfSkpfXNldEhlYWRlcnMoZSl7cmV0dXJuIHRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzPWUsdGhpc31zZXRIZWFkZXIoZSx0KXtjb25zdHtoZWFkZXJzOm59PXRoaXMucmVxdWVzdENvbmZpZztyZXR1cm4gbj9uW2VdPXQ6dGhpcy5yZXF1ZXN0Q29uZmlnLmhlYWRlcnM9e1tlXTp0fSx0aGlzfXNldEVuZHBvaW50KGUpe3JldHVybiB0aGlzLnVybD1lLHRoaXN9fWNvbnN0IGl0PWU9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXt2YXIgdCxuO2NvbnN0e3F1ZXJ5OnIsdmFyaWFibGVzOmksZmV0Y2hPcHRpb25zOnN9PWUsbz1udCgobnVsbCE9KHQ9ZS5tZXRob2QpP3Q6InBvc3QiKS50b1VwcGVyQ2FzZSgpKTtjb25zdCBhPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksYz15aWVsZCBvKGUpLGw9eWllbGQgb3QoYyxudWxsIT0obj1zLmpzb25TZXJpYWxpemVyKT9uOnplKSx1PUFycmF5LmlzQXJyYXkobCk/IWwuc29tZSgoKHtkYXRhOmV9KT0+IWUpKTpCb29sZWFuKGwuZGF0YSksZD1BcnJheS5pc0FycmF5KGwpfHwhbC5lcnJvcnN8fEFycmF5LmlzQXJyYXkobC5lcnJvcnMpJiYhbC5lcnJvcnMubGVuZ3RofHwiYWxsIj09PXMuZXJyb3JQb2xpY3l8fCJpZ25vcmUiPT09cy5lcnJvclBvbGljeTtpZihjLm9rJiZkJiZ1KXtjb25zdCBlPShBcnJheS5pc0FycmF5KGwpLGwpLHtlcnJvcnM6dH09ZSxuPV9fb2JqUmVzdChlLFsiZXJyb3JzIl0pLHI9Imlnbm9yZSI9PT1zLmVycm9yUG9saWN5P246bDtyZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSxhP3tkYXRhOnJ9OnIpLHtoZWFkZXJzOmMuaGVhZGVycyxzdGF0dXM6Yy5zdGF0dXN9KX10aHJvdyBuZXcgSmUoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwic3RyaW5nIj09dHlwZW9mIGw/e2Vycm9yOmx9OmwpLHtzdGF0dXM6Yy5zdGF0dXMsaGVhZGVyczpjLmhlYWRlcnN9KSx7cXVlcnk6cix2YXJpYWJsZXM6aX0pfSkpLHN0PShlLHQsbixyKT0+e2NvbnN0IGk9bnVsbCE9cj9yOnplO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBpLnN0cmluZ2lmeSh7cXVlcnk6ZSx2YXJpYWJsZXM6dCxvcGVyYXRpb25OYW1lOm59KTtpZih2b2lkIDAhPT10JiYhQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgcmVxdWVzdCBib2R5IHdpdGggZ2l2ZW4gdmFyaWFibGUgdHlwZSwgYXJyYXkgZXhwZWN0ZWQiKTtjb25zdCBzPWUucmVkdWNlKCgoZSxuLHIpPT4oZS5wdXNoKHtxdWVyeTpuLHZhcmlhYmxlczp0P3Rbcl06dm9pZCAwfSksZSkpLFtdKTtyZXR1cm4gaS5zdHJpbmdpZnkocyl9LG90PShlLHQpPT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7bGV0IG47cmV0dXJuIGUuaGVhZGVycy5mb3JFYWNoKCgoZSx0KT0+eyJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYobj1lKX0pKSxuJiYobi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2pzb24iKXx8bi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2dyYXBocWwranNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uIikpP3QucGFyc2UoeWllbGQgZS50ZXh0KCkpOmUudGV4dCgpfSkpLGF0PWU9PiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoKTplO3ZhciBjdD0oZT0+KGUuQmlsbGluZ1F1b3RhRXhjZWVkZWQ9IkJpbGxpbmdRdW90YUV4Y2VlZGVkIixlKSkoY3R8fHt9KTtjb25zdCBsdD1bY3QuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sdXQ9ZT0+e2NvbnN0IHQ9KG4scixpLHMsbz0wKT0+X19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbigpfWNhdGNoKGEpe2lmKGEgaW5zdGFuY2VvZiBKZSYmIShlPT57dmFyIHQ7cmV0dXJuIHZvaWQgMD09PShudWxsPT0odD1lLnJlc3BvbnNlLmVycm9ycyk/dm9pZCAwOnQuZmluZCgoZT0+bHQuaW5jbHVkZXMoZS5tZXNzYWdlKSkpKX0pKGEpKXRocm93IGE7aWYobzwxMClyZXR1cm4geWllbGQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMrNTAwKk1hdGgucG93KDIsbykpKSkseWllbGQgdChuLHIsaSxzLG8rMSk7dGhyb3cgY29uc29sZS5lcnJvcihgaGlnaGxpZ2h0LmlvOiBbJHtlfHxlfV0gZGF0YSByZXF1ZXN0IGZhaWxlZCBhZnRlciAke299IHJldHJpZXNgKSxhfX0pKTtyZXR1cm4gdH0sZHQ9WyJudW1iZXIiLCJzdHJpbmciLCJib29sZWFuIl07Y2xhc3MgcHR7Y29uc3RydWN0b3IoZSx0KXtfX3B1YmxpY0ZpZWxkKHRoaXMsImRlYnVnIiksX19wdWJsaWNGaWVsZCh0aGlzLCJuYW1lIiksdGhpcy5kZWJ1Zz1lLHRoaXMubmFtZT10fWxvZyguLi5lKXtpZih0aGlzLmRlYnVnKXtsZXQgdD1gWyR7RGF0ZS5ub3coKX1dYDt0aGlzLm5hbWUmJih0Kz1gIC0gJHt0aGlzLm5hbWV9YCksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxbdCwuLi5lXSl9fX12YXIgaHQ9VWludDhBcnJheSxmdD1VaW50MTZBcnJheSx5dD1JbnQzMkFycmF5LG10PW5ldyBodChbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSksdnQ9bmV3IGh0KFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzLDAsMF0pLF90PW5ldyBodChbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLGd0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5ldyBmdCgzMSkscj0wO3I8MzE7KytyKW5bcl09dCs9MTw8ZVtyLTFdO3ZhciBpPW5ldyB5dChuWzMwXSk7Zm9yKHI9MTtyPDMwOysrcilmb3IodmFyIHM9bltyXTtzPG5bcisxXTsrK3MpaVtzXT1zLW5bcl08PDV8cjtyZXR1cm57YjpuLHI6aX19LEV0PWd0KG10LDIpLFR0PUV0LmIsYnQ9RXQucjtUdFsyOF09MjU4LGJ0WzI1OF09Mjg7Zm9yKHZhciBOdD1ndCh2dCwwKS5yLEl0PW5ldyBmdCgzMjc2OCksT3Q9MDtPdDwzMjc2ODsrK090KXt2YXIgQXQ9KDQzNjkwJk90KT4+MXwoMjE4NDUmT3QpPDwxO0F0PSg2MTY4MCYoQXQ9KDUyNDI4JkF0KT4+MnwoMTMxMDcmQXQpPDwyKSk+PjR8KDM4NTUmQXQpPDw0LEl0W090XT0oKDY1MjgwJkF0KT4+OHwoMjU1JkF0KTw8OCk+PjF9dmFyIHh0PWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5sZW5ndGgsaT0wLHM9bmV3IGZ0KHQpO2k8cjsrK2kpZVtpXSYmKytzW2VbaV0tMV07dmFyIG8sYT1uZXcgZnQodCk7Zm9yKGk9MTtpPHQ7KytpKWFbaV09YVtpLTFdK3NbaS0xXTw8MTtpZihuKXtvPW5ldyBmdCgxPDx0KTt2YXIgYz0xNS10O2ZvcihpPTA7aTxyOysraSlpZihlW2ldKWZvcih2YXIgbD1pPDw0fGVbaV0sdT10LWVbaV0sZD1hW2VbaV0tMV0rKzw8dSxwPWR8KDE8PHUpLTE7ZDw9cDsrK2Qpb1tJdFtkXT4+Y109bH1lbHNlIGZvcihvPW5ldyBmdChyKSxpPTA7aTxyOysraSllW2ldJiYob1tpXT1JdFthW2VbaV0tMV0rK10+PjE1LWVbaV0pO3JldHVybiBvfSxTdD1uZXcgaHQoMjg4KTtmb3IoT3Q9MDtPdDwxNDQ7KytPdClTdFtPdF09ODtmb3IoT3Q9MTQ0O090PDI1NjsrK090KVN0W090XT05O2ZvcihPdD0yNTY7T3Q8MjgwOysrT3QpU3RbT3RdPTc7Zm9yKE90PTI4MDtPdDwyODg7KytPdClTdFtPdF09ODt2YXIgRHQ9bmV3IGh0KDMyKTtmb3IoT3Q9MDtPdDwzMjsrK090KUR0W090XT01O3ZhciB3dD14dChTdCw5LDApLGt0PXh0KER0LDUsMCksQ3Q9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrNykvOHwwfSxQdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuKG51bGw9PXR8fHQ8MCkmJih0PTApLChudWxsPT1ufHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLG5ldyBodChlLnN1YmFycmF5KHQsbikpfSxSdD1mdW5jdGlvbihlLHQsbil7bjw8PTcmdDt2YXIgcj10Lzh8MDtlW3JdfD1uLGVbcisxXXw9bj4+OH0sTHQ9ZnVuY3Rpb24oZSx0LG4pe248PD03JnQ7dmFyIHI9dC84fDA7ZVtyXXw9bixlW3IrMV18PW4+PjgsZVtyKzJdfD1uPj4xNn0sRnQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7KytyKWVbcl0mJm4ucHVzaCh7czpyLGY6ZVtyXX0pO3ZhciBpPW4ubGVuZ3RoLHM9bi5zbGljZSgpO2lmKCFpKXJldHVybnt0OnF0LGw6MH07aWYoMT09aSl7dmFyIG89bmV3IGh0KG5bMF0ucysxKTtyZXR1cm4gb1tuWzBdLnNdPTEse3Q6byxsOjF9fW4uc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mLXQuZn0pKSxuLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPW5bMF0sYz1uWzFdLGw9MCx1PTEsZD0yO2ZvcihuWzBdPXtzOi0xLGY6YS5mK2MuZixsOmEscjpjfTt1IT1pLTE7KWE9bltuW2xdLmY8bltkXS5mP2wrKzpkKytdLGM9bltsIT11JiZuW2xdLmY8bltkXS5mP2wrKzpkKytdLG5bdSsrXT17czotMSxmOmEuZitjLmYsbDphLHI6Y307dmFyIHA9c1swXS5zO2ZvcihyPTE7cjxpOysrcilzW3JdLnM+cCYmKHA9c1tyXS5zKTt2YXIgaD1uZXcgZnQocCsxKSxmPSR0KG5bdS0xXSxoLDApO2lmKGY+dCl7cj0wO3ZhciB5PTAsbT1mLXQsdj0xPDxtO2ZvcihzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhbdC5zXS1oW2Uuc118fGUuZi10LmZ9KSk7cjxpOysrcil7dmFyIF89c1tyXS5zO2lmKCEoaFtfXT50KSlicmVhazt5Kz12LSgxPDxmLWhbX10pLGhbX109dH1mb3IoeT4+PW07eT4wOyl7dmFyIGc9c1tyXS5zO2hbZ108dD95LT0xPDx0LWhbZ10rKy0xOisrcn1mb3IoO3I+PTAmJnk7LS1yKXt2YXIgRT1zW3JdLnM7aFtFXT09dCYmKC0taFtFXSwrK3kpfWY9dH1yZXR1cm57dDpuZXcgaHQoaCksbDpmfX0sJHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybi0xPT1lLnM/TWF0aC5tYXgoJHQoZS5sLHQsbisxKSwkdChlLnIsdCxuKzEpKTp0W2Uuc109bn0sTXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QmJiFlWy0tdF07KTtmb3IodmFyIG49bmV3IGZ0KCsrdCkscj0wLGk9ZVswXSxzPTEsbz1mdW5jdGlvbihlKXtuW3IrK109ZX0sYT0xO2E8PXQ7KythKWlmKGVbYV09PWkmJmEhPXQpKytzO2Vsc2V7aWYoIWkmJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhpKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKGkpO3M9MSxpPWVbYV19cmV0dXJue2M6bi5zdWJhcnJheSgwLHIpLG46dH19LFZ0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj0wO3I8dC5sZW5ndGg7KytyKW4rPWVbcl0qdFtyXTtyZXR1cm4gbn0sQnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4ubGVuZ3RoLGk9Q3QodCsyKTtlW2ldPTI1NSZyLGVbaSsxXT1yPj44LGVbaSsyXT0yNTVeZVtpXSxlW2krM109MjU1XmVbaSsxXTtmb3IodmFyIHM9MDtzPHI7KytzKWVbaStzKzRdPW5bc107cmV0dXJuIDgqKGkrNCtyKX0sanQ9ZnVuY3Rpb24oZSx0LG4scixpLHMsbyxhLGMsbCx1KXtSdCh0LHUrKyxuKSwrK2lbMjU2XTtmb3IodmFyIGQ9RnQoaSwxNSkscD1kLnQsaD1kLmwsZj1GdChzLDE1KSx5PWYudCxtPWYubCx2PU10KHApLF89di5jLGc9di5uLEU9TXQoeSksVD1FLmMsYj1FLm4sTj1uZXcgZnQoMTkpLEk9MDtJPF8ubGVuZ3RoOysrSSkrK05bMzEmX1tJXV07Zm9yKEk9MDtJPFQubGVuZ3RoOysrSSkrK05bMzEmVFtJXV07Zm9yKHZhciBPPUZ0KE4sNyksQT1PLnQseD1PLmwsUz0xOTtTPjQmJiFBW190W1MtMV1dOy0tUyk7dmFyIEQsdyxrLEMsUD1sKzU8PDMsUj1WdChpLFN0KStWdChzLER0KStvLEw9VnQoaSxwKStWdChzLHkpK28rMTQrMypTK1Z0KE4sQSkrMipOWzE2XSszKk5bMTddKzcqTlsxOF07aWYoYz49MCYmUDw9UiYmUDw9TClyZXR1cm4gQnQodCx1LGUuc3ViYXJyYXkoYyxjK2wpKTtpZihSdCh0LHUsMSsoTDxSKSksdSs9MixMPFIpe0Q9eHQocCxoLDApLHc9cCxrPXh0KHksbSwwKSxDPXk7dmFyIEY9eHQoQSx4LDApO1J0KHQsdSxnLTI1NyksUnQodCx1KzUsYi0xKSxSdCh0LHUrMTAsUy00KSx1Kz0xNDtmb3IoST0wO0k8UzsrK0kpUnQodCx1KzMqSSxBW190W0ldXSk7dSs9MypTO2Zvcih2YXIgJD1bXyxUXSxNPTA7TTwyOysrTSl7dmFyIFY9JFtNXTtmb3IoST0wO0k8Vi5sZW5ndGg7KytJKXt2YXIgQj0zMSZWW0ldO1J0KHQsdSxGW0JdKSx1Kz1BW0JdLEI+MTUmJihSdCh0LHUsVltJXT4+NSYxMjcpLHUrPVZbSV0+PjEyKX19fWVsc2UgRD13dCx3PVN0LGs9a3QsQz1EdDtmb3IoST0wO0k8YTsrK0kpe3ZhciBqPXJbSV07aWYoaj4yNTUpe0x0KHQsdSxEWyhCPWo+PjE4JjMxKSsyNTddKSx1Kz13W0IrMjU3XSxCPjcmJihSdCh0LHUsaj4+MjMmMzEpLHUrPW10W0JdKTt2YXIgVT0zMSZqO0x0KHQsdSxrW1VdKSx1Kz1DW1VdLFU+MyYmKEx0KHQsdSxqPj41JjgxOTEpLHUrPXZ0W1VdKX1lbHNlIEx0KHQsdSxEW2pdKSx1Kz13W2pdfXJldHVybiBMdCh0LHUsRFsyNTZdKSx1K3dbMjU2XX0sVXQ9bmV3IHl0KFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLHF0PW5ldyBodCgwKSxLdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgSW50MzJBcnJheSgyNTYpLHQ9MDt0PDI1NjsrK3Qpe2Zvcih2YXIgbj10LHI9OTstLXI7KW49KDEmbiYmLTMwNjY3NDkxMilebj4+PjE7ZVt0XT1ufXJldHVybiBlfSgpLEd0PWZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYoIWkmJihpPXtsOjF9LHQuZGljdGlvbmFyeSkpe3ZhciBzPXQuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpLG89bmV3IGh0KHMubGVuZ3RoK2UubGVuZ3RoKTtvLnNldChzKSxvLnNldChlLHMubGVuZ3RoKSxlPW8saS53PXMubGVuZ3RofXJldHVybiBmdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89cy56fHxlLmxlbmd0aCxhPW5ldyBodChyK28rNSooMStNYXRoLmNlaWwoby83ZTMpKStpKSxjPWEuc3ViYXJyYXkocixhLmxlbmd0aC1pKSxsPXMubCx1PTcmKHMucnx8MCk7aWYodCl7dSYmKGNbMF09cy5yPj4zKTtmb3IodmFyIGQ9VXRbdC0xXSxwPWQ+PjEzLGg9ODE5MSZkLGY9KDE8PG4pLTEseT1zLnB8fG5ldyBmdCgzMjc2OCksbT1zLmh8fG5ldyBmdChmKzEpLHY9TWF0aC5jZWlsKG4vMyksXz0yKnYsZz1mdW5jdGlvbih0KXtyZXR1cm4oZVt0XV5lW3QrMV08PHZeZVt0KzJdPDxfKSZmfSxFPW5ldyB5dCgyNWUzKSxUPW5ldyBmdCgyODgpLGI9bmV3IGZ0KDMyKSxOPTAsST0wLE89cy5pfHwwLEE9MCx4PXMud3x8MCxTPTA7TysyPG87KytPKXt2YXIgRD1nKE8pLHc9MzI3NjcmTyxrPW1bRF07aWYoeVt3XT1rLG1bRF09dyx4PD1PKXt2YXIgQz1vLU87aWYoKE4+N2UzfHxBPjI0NTc2KSYmKEM+NDIzfHwhbCkpe3U9anQoZSxjLDAsRSxULGIsSSxBLFMsTy1TLHUpLEE9Tj1JPTAsUz1PO2Zvcih2YXIgUD0wO1A8Mjg2OysrUClUW1BdPTA7Zm9yKFA9MDtQPDMwOysrUCliW1BdPTB9dmFyIFI9MixMPTAsRj1oLCQ9dy1rJjMyNzY3O2lmKEM+MiYmRD09ZyhPLSQpKWZvcih2YXIgTT1NYXRoLm1pbihwLEMpLTEsVj1NYXRoLm1pbigzMjc2NyxPKSxCPU1hdGgubWluKDI1OCxDKTskPD1WJiYtLUYmJnchPWs7KXtpZihlW08rUl09PWVbTytSLSRdKXtmb3IodmFyIGo9MDtqPEImJmVbTytqXT09ZVtPK2otJF07KytqKTtpZihqPlIpe2lmKFI9aixMPSQsaj5NKWJyZWFrO3ZhciBVPU1hdGgubWluKCQsai0yKSxxPTA7Zm9yKFA9MDtQPFU7KytQKXt2YXIgSz1PLSQrUCYzMjc2NyxHPUsteVtLXSYzMjc2NztHPnEmJihxPUcsaz1LKX19fSQrPSh3PWspLShrPXlbd10pJjMyNzY3fWlmKEwpe0VbQSsrXT0yNjg0MzU0NTZ8YnRbUl08PDE4fE50W0xdO3ZhciB6PTMxJmJ0W1JdLFk9MzEmTnRbTF07SSs9bXRbel0rdnRbWV0sKytUWzI1Nyt6XSwrK2JbWV0seD1PK1IsKytOfWVsc2UgRVtBKytdPWVbT10sKytUW2VbT11dfX1mb3IoTz1NYXRoLm1heChPLHgpO088bzsrK08pRVtBKytdPWVbT10sKytUW2VbT11dO3U9anQoZSxjLGwsRSxULGIsSSxBLFMsTy1TLHUpLGx8fChzLnI9NyZ1fGNbdS84fDBdPDwzLHUtPTcscy5oPW0scy5wPXkscy5pPU8scy53PXgpfWVsc2V7Zm9yKE89cy53fHwwO088bytsO08rPTY1NTM1KXt2YXIgSD1PKzY1NTM1O0g+PW8mJihjW3UvOHwwXT1sLEg9byksdT1CdChjLHUrMSxlLnN1YmFycmF5KE8sSCkpfXMuaT1vfXJldHVybiBQdChhLDAscitDdCh1KStpKX0oZSxudWxsPT10LmxldmVsPzY6dC5sZXZlbCxudWxsPT10Lm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2coZS5sZW5ndGgpKSkpOjEyK3QubWVtLG4scixpKX0senQ9ZnVuY3Rpb24oZSx0LG4pe2Zvcig7bjsrK3QpZVt0XT1uLG4+Pj49OH07ZnVuY3Rpb24gWXQoZSx0KXt0fHwodD17fSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT0tMTtyZXR1cm57cDpmdW5jdGlvbih0KXtmb3IodmFyIG49ZSxyPTA7cjx0Lmxlbmd0aDsrK3Ipbj1LdFsyNTUmbl50W3JdXV5uPj4+ODtlPW59LGQ6ZnVuY3Rpb24oKXtyZXR1cm5+ZX19fSgpLHI9ZS5sZW5ndGg7bi5wKGUpO3ZhciBpLHM9R3QoZSx0LDEwKygoaT10KS5maWxlbmFtZT9pLmZpbGVuYW1lLmxlbmd0aCsxOjApLDgpLG89cy5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5maWxlbmFtZTtpZihlWzBdPTMxLGVbMV09MTM5LGVbMl09OCxlWzhdPXQubGV2ZWw8Mj80Ojk9PXQubGV2ZWw/MjowLGVbOV09MywwIT10Lm10aW1lJiZ6dChlLDQsTWF0aC5mbG9vcihuZXcgRGF0ZSh0Lm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxuKXtlWzNdPTg7Zm9yKHZhciByPTA7cjw9bi5sZW5ndGg7KytyKWVbcisxMF09bi5jaGFyQ29kZUF0KHIpfX0ocyx0KSx6dChzLG8tOCxuLmQoKSksenQocyxvLTQsciksc312YXIgSHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RW5jb2RlciYmbmV3IFRleHRFbmNvZGVyLEp0PSJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dERlY29kZXImJm5ldyBUZXh0RGVjb2Rlcjt0cnl7SnQuZGVjb2RlKHF0LHtzdHJlYW06ITB9KSwxfWNhdGNoKFd0KXt9Y29uc3QgUXQ9c2VsZjtmdW5jdGlvbiBYdChlLHQpe2NvbnN0IG49e30scj1bXSxpPVtdO2Zvcihjb25zdFtvLGFdb2YgT2JqZWN0LmVudHJpZXMoZSkpe2lmKG51bGw9PWEpY29udGludWU7bGV0IGU7ZHQuaW5jbHVkZXModHlwZW9mIGEpfHxyLnB1c2goe1tvXTphfSksZT0ic3RyaW5nIj09dHlwZW9mIGE/YTpzKGEpLGUubGVuZ3RoPjJlMyYmKGkucHVzaCh7W29dOmF9KSxlPWUuc3Vic3RyaW5nKDAsMmUzKSksbltvXT1lfXJldHVybiJzZXNzaW9uIiE9PXQmJihyLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBub3Qgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbi5gLHIpLGkubGVuZ3RoPjAmJmNvbnNvbGUud2FybihgSGlnaGxpZ2h0IHdhcyBwYXNzZWQgb25lIG9yIG1vcmUgJHt0fSBwcm9wZXJ0aWVzIGV4Y2VlZGluZyAyMDAwIGNoYXJhY3RlcnMsIHdoaWNoIHdpbGwgYmUgdHJ1bmNhdGVkLmAsaSkpLG59e2xldCBlLG4scixpPTAsbz0hMSxhPTAsYz1uZXcgcHQoITEsIlt3b3JrZXJdIik7Y29uc3QgbD1bXSx1PSgpPT4wIT09YSYmaTw1JiYhIShudWxsPT1yP3ZvaWQgMDpyLmxlbmd0aCksZD0oZSxuKT0+e1F0LnBvc3RNZXNzYWdlKHtyZXNwb25zZTp7dHlwZTp0LkN1c3RvbUV2ZW50LHRhZzplLHBheWxvYWQ6bn19KX0scD1uPT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3R7aWQ6aSxldmVudHM6byxtZXNzYWdlczphLGVycm9yczp1LHJlc291cmNlc1N0cmluZzpkLHdlYlNvY2tldEV2ZW50c1N0cmluZzpwLGhhc1Nlc3Npb25VbmxvYWRlZDpoLGhpZ2hsaWdodExvZ3M6Zn09bix5PXMoe21lc3NhZ2VzOmF9KTtsZXQgbT17c2Vzc2lvbl9zZWN1cmVfaWQ6cixwYXlsb2FkX2lkOmkudG9TdHJpbmcoKSxldmVudHM6e2V2ZW50czpvfSxtZXNzYWdlczp5LHJlc291cmNlczpkLHdlYl9zb2NrZXRfZXZlbnRzOnAsZXJyb3JzOnUsaXNfYmVhY29uOiExLGhhc19zZXNzaW9uX3VubG9hZGVkOmh9O2YmJihtLmhpZ2hsaWdodF9sb2dzPWYpO2NvbnN0IHY9ZnVuY3Rpb24oZSx0KXtpZih0KXtmb3IodmFyIG49bmV3IGh0KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1lLmNoYXJDb2RlQXQocik7cmV0dXJuIG59aWYoSHQpcmV0dXJuIEh0LmVuY29kZShlKTt2YXIgaT1lLmxlbmd0aCxzPW5ldyBodChlLmxlbmd0aCsoZS5sZW5ndGg+PjEpKSxvPTAsYT1mdW5jdGlvbihlKXtzW28rK109ZX07Zm9yKHI9MDtyPGk7KytyKXtpZihvKzU+cy5sZW5ndGgpe3ZhciBjPW5ldyBodChvKzgrKGktcjw8MSkpO2Muc2V0KHMpLHM9Y312YXIgbD1lLmNoYXJDb2RlQXQocik7bDwxMjh8fHQ/YShsKTpsPDIwNDg/KGEoMTkyfGw+PjYpLGEoMTI4fDYzJmwpKTpsPjU1Mjk1JiZsPDU3MzQ0PyhhKDI0MHwobD02NTUzNisoMTA0NzU1MiZsKXwxMDIzJmUuY2hhckNvZGVBdCgrK3IpKT4+MTgpLGEoMTI4fGw+PjEyJjYzKSxhKDEyOHxsPj42JjYzKSxhKDEyOHw2MyZsKSk6KGEoMjI0fGw+PjEyKSxhKDEyOHxsPj42JjYzKSxhKDEyOHw2MyZsKSl9cmV0dXJuIFB0KHMsMCxvKX0oSlNPTi5zdHJpbmdpZnkobSkpLF89WXQodiksZz15aWVsZCBmdW5jdGlvbihlKXtyZXR1cm4gX19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0IHQ9eWllbGQgbmV3IFByb21pc2UoKHQ9Pntjb25zdCBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkPSgpPT50KG4ucmVzdWx0KSxuLnJlYWRBc0RhdGFVUkwobmV3IEJsb2IoW2VdKSl9KSk7cmV0dXJuIHQuc2xpY2UodC5pbmRleE9mKCIsIikrMSl9KSl9KF8pO2MubG9nKGBQdXNoaW5nIHBheWxvYWQ6ICR7SlNPTi5zdHJpbmdpZnkoe3Nlc3Npb25TZWN1cmVJRDpyLGlkOmksZmlyc3RTSUQ6TWF0aC5taW4oLi4ubS5ldmVudHMuZXZlbnRzLm1hcCgoZT0+bnVsbD09ZT92b2lkIDA6ZS5fc2lkKSkuZmlsdGVyKChlPT4hIWUpKSksZXZlbnRzTGVuZ3RoOm0uZXZlbnRzLmV2ZW50cy5sZW5ndGgsbWVzc2FnZXNMZW5ndGg6YS5sZW5ndGgscmVzb3VyY2VzTGVuZ3RoOmQubGVuZ3RoLHdlYlNvY2tldExlbmd0aDpwLmxlbmd0aCxlcnJvcnNMZW5ndGg6dS5sZW5ndGgsYnVmTGVuZ3RoOnYubGVuZ3RoLGNvbXByZXNzZWRMZW5ndGg6Xy5sZW5ndGgsY29tcHJlc3NlZEJhc2U2NExlbmd0aDpnLmxlbmd0aH0sdm9pZCAwLDIpfWApO2NvbnN0IEU9ZS5QdXNoUGF5bG9hZENvbXByZXNzZWQoe3Nlc3Npb25fc2VjdXJlX2lkOnIscGF5bG9hZF9pZDppLnRvU3RyaW5nKCksZGF0YTpnfSk7bGV0IFQ9UHJvbWlzZS5yZXNvbHZlKCk7bC5sZW5ndGgmJihUPWUucHVzaE1ldHJpY3Moe21ldHJpY3M6bH0pLGwuc3BsaWNlKDApKSx5aWVsZCBQcm9taXNlLmFsbChbRSxUXSksUXQucG9zdE1lc3NhZ2Uoe3Jlc3BvbnNlOnt0eXBlOnQuQXN5bmNFdmVudHMsaWQ6aSxldmVudHNTaXplOnYubGVuZ3RoLGNvbXByZXNzZWRTaXplOmcubGVuZ3RofX0pfSkpLGg9dD0+X19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0e3VzZXJPYmplY3Q6aSx1c2VySWRlbnRpZmllcjpvLHNvdXJjZTphfT10O2QoInNlZ21lbnQiPT09YT8iU2VnbWVudCBJZGVudGlmeSI6IklkZW50aWZ5IixzKF9fc3ByZWFkVmFsdWVzKHt1c2VySWRlbnRpZmllcjpvfSxpKSkpLHlpZWxkIGUuaWRlbnRpZnlTZXNzaW9uKHtzZXNzaW9uX3NlY3VyZV9pZDpyLHVzZXJfaWRlbnRpZmllcjpvLHVzZXJfb2JqZWN0Olh0KGksInVzZXIiKX0pO2NvbnN0IGw9InNlZ21lbnQiPT09YT9hOiJkZWZhdWx0IjtjLmxvZyhgSWRlbnRpZnkgKCR7b30sIHNvdXJjZTogJHtsfSkgdy8gb2JqOiAke3MoaSl9IEAgJHtufWApfSkpLGY9dD0+X19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0e3Byb3BlcnRpZXNPYmplY3Q6aSxwcm9wZXJ0eVR5cGU6b309dDtsZXQgYTt2b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5jbGlja1RleHRDb250ZW50KT8oYT0iQ2xpY2tUZXh0Q29udGVudCIseWllbGQgZS5hZGRTZXNzaW9uUHJvcGVydGllcyh7c2Vzc2lvbl9zZWN1cmVfaWQ6cixwcm9wZXJ0aWVzX29iamVjdDpYdChpLCJzZXNzaW9uIil9KSk6InNlc3Npb24iPT09KG51bGw9PW8/dm9pZCAwOm8udHlwZSk/KGE9IlNlc3Npb24iLHlpZWxkIGUuYWRkU2Vzc2lvblByb3BlcnRpZXMoe3Nlc3Npb25fc2VjdXJlX2lkOnIscHJvcGVydGllc19vYmplY3Q6WHQoaSwic2Vzc2lvbiIpfSkpOiJzZWdtZW50Ij09PShudWxsPT1vP3ZvaWQgMDpvLnNvdXJjZSk/KGE9IlNlZ21lbnQiLGQoIlNlZ21lbnQgVHJhY2siLHMoaSkpKTooYT0iVHJhY2siLGQoYSxzKGkpKSksYy5sb2coYEFkZGluZyAke2F9IFByb3BlcnRpZXMgdG8gc2Vzc2lvbiAoJHtyfSkgdy8gb2JqOiAke0pTT04uc3RyaW5naWZ5KGkpfSBAICR7bn1gKX0pKSx5PWU9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXtsLnB1c2goLi4uZS5tZXRyaWNzLm1hcCgoZT0+KHtuYW1lOmUubmFtZSx2YWx1ZTplLnZhbHVlLHNlc3Npb25fc2VjdXJlX2lkOnIsY2F0ZWdvcnk6ZS5jYXRlZ29yeSxncm91cDplLmdyb3VwLHRpbWVzdGFtcDplLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLHRhZ3M6ZS50YWdzfSkpKSl9KSksbT10PT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3R7dGltZXN0YW1wOm4sdmVyYmF0aW06aSx1c2VyRW1haWw6cyx1c2VyTmFtZTpvfT10O3lpZWxkIGUuYWRkU2Vzc2lvbkZlZWRiYWNrKHtzZXNzaW9uX3NlY3VyZV9pZDpyLHRpbWVzdGFtcDpuLHZlcmJhdGltOmksdXNlcl9lbWFpbDpzLHVzZXJfbmFtZTpvfSl9KSk7UXQub25tZXNzYWdlPWZ1bmN0aW9uKHMpe3JldHVybiBfX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7aWYocy5kYXRhLm1lc3NhZ2UudHlwZT09PXQuSW5pdGlhbGl6ZSlyZXR1cm4gbj1zLmRhdGEubWVzc2FnZS5iYWNrZW5kLHI9cy5kYXRhLm1lc3NhZ2Uuc2Vzc2lvblNlY3VyZUlELG89cy5kYXRhLm1lc3NhZ2UuZGVidWcsYT1zLmRhdGEubWVzc2FnZS5yZWNvcmRpbmdTdGFydFRpbWUsYy5kZWJ1Zz1vLHZvaWQoZT1mdW5jdGlvbihlLHQ9R2Upe3JldHVybntQdXNoUGF5bG9hZDoobixyKT0+dCgodD0+ZS5yZXF1ZXN0KCRlLG4sX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sciksdCkpKSwiUHVzaFBheWxvYWQiLCJtdXRhdGlvbiIsbiksUHVzaFBheWxvYWRDb21wcmVzc2VkOihuLHIpPT50KCh0PT5lLnJlcXVlc3QoTWUsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJQdXNoUGF5bG9hZENvbXByZXNzZWQiLCJtdXRhdGlvbiIsbiksaWRlbnRpZnlTZXNzaW9uOihuLHIpPT50KCh0PT5lLnJlcXVlc3QoVmUsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJpZGVudGlmeVNlc3Npb24iLCJtdXRhdGlvbiIsbiksYWRkU2Vzc2lvblByb3BlcnRpZXM6KG4scik9PnQoKHQ9PmUucmVxdWVzdChCZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksImFkZFNlc3Npb25Qcm9wZXJ0aWVzIiwibXV0YXRpb24iLG4pLHB1c2hNZXRyaWNzOihuLHIpPT50KCh0PT5lLnJlcXVlc3QoamUsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJwdXNoTWV0cmljcyIsIm11dGF0aW9uIixuKSxhZGRTZXNzaW9uRmVlZGJhY2s6KG4scik9PnQoKHQ9PmUucmVxdWVzdChVZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksImFkZFNlc3Npb25GZWVkYmFjayIsIm11dGF0aW9uIixuKSxpbml0aWFsaXplU2Vzc2lvbjoobixyKT0+dCgodD0+ZS5yZXF1ZXN0KHFlLG4sX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sciksdCkpKSwiaW5pdGlhbGl6ZVNlc3Npb24iLCJtdXRhdGlvbiIsbiksSWdub3JlOihuLHIpPT50KCh0PT5lLnJlcXVlc3QoS2UsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJJZ25vcmUiLCJxdWVyeSIsbil9fShuZXcgcnQobix7aGVhZGVyczp7fX0pLHV0KHIpKSk7aWYodSgpKXRyeXtzLmRhdGEubWVzc2FnZS50eXBlPT09dC5Bc3luY0V2ZW50cz95aWVsZCBwKHMuZGF0YS5tZXNzYWdlKTpzLmRhdGEubWVzc2FnZS50eXBlPT09dC5JZGVudGlmeT95aWVsZCBoKHMuZGF0YS5tZXNzYWdlKTpzLmRhdGEubWVzc2FnZS50eXBlPT09dC5Qcm9wZXJ0aWVzP3lpZWxkIGYocy5kYXRhLm1lc3NhZ2UpOnMuZGF0YS5tZXNzYWdlLnR5cGU9PT10Lk1ldHJpY3M/eWllbGQgeShzLmRhdGEubWVzc2FnZSk6cy5kYXRhLm1lc3NhZ2UudHlwZT09PXQuRmVlZGJhY2smJih5aWVsZCBtKHMuZGF0YS5tZXNzYWdlKSksaT0wfWNhdGNoKGwpe28mJmNvbnNvbGUuZXJyb3IobCksaSs9MX19KSl9fX0oKTsK",Yd=typeof window!="undefined"&&window.Blob&&new Blob([(o=>Uint8Array.from(atob(o),r=>r.charCodeAt(0)))(Fd)],{type:"text/javascript;charset=utf-8"});function aC(o){let r;try{if(r=Yd&&(window.URL||window.webkitURL).createObjectURL(Yd),!r)throw"";const a=new Worker(r,{name:o==null?void 0:o.name});return a.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(r)}),a}catch(a){return new Worker("data:text/javascript;base64,"+Fd,{name:o==null?void 0:o.name})}finally{r&&(window.URL||window.webkitURL).revokeObjectURL(r)}}var Hd=(o=>(o.BillingQuotaExceeded="BillingQuotaExceeded",o))(Hd||{});const lC=[Hd.BillingQuotaExceeded.toString()],cC=o=>{const r=(a,c,u,p,m=0)=>w(this,null,function*(){try{return yield a()}catch(y){if(y instanceof Kn&&!(f=>{var T;return((T=f.response.errors)==null?void 0:T.find(v=>lC.includes(v.message)))===void 0})(y))throw y;if(m<10)return yield new Promise(f=>setTimeout(f,1e3+500*Math.pow(2,m))),yield r(a,c,u,p,m+1);throw console.error(`highlight.io: [${o||o}] data request failed after ${m} retries`),y}});return r};var Yt=(o=>(o[o.Initialize=0]="Initialize",o[o.AsyncEvents=1]="AsyncEvents",o[o.Identify=2]="Identify",o[o.Properties=3]="Properties",o[o.Metrics=4]="Metrics",o[o.Feedback=5]="Feedback",o[o.CustomEvent=6]="CustomEvent",o))(Yt||{});class uC{constructor(r,a){N(this,"debug"),N(this,"name"),this.debug=r,this.name=a}log(...r){if(this.debug){let a=`[${Date.now()}]`;this.name&&(a+=` - ${this.name}`),console.log.apply(console,[a,...r])}}}const dC=()=>w(this,null,function*(){const o=[];for(let r=0;r<30;r++)o.push(yield new Promise(a=>requestAnimationFrame(c=>requestAnimationFrame(u=>a(u-c)))));return o.reduce((r,a)=>r+a,0)/o.length}),Kd="iframe parent ready",Jd="iframe ok",Wr=(o,r)=>{console.warn(`Highlight Warning: (${o}): `,{output:r})},Bd="app.highlight.run";class ga{constructor(r,a){var c,u,p,m,y,f;N(this,"options"),N(this,"isRunningOnHighlight"),N(this,"organizationID"),N(this,"graphqlSDK"),N(this,"events"),N(this,"sessionData"),N(this,"ready"),N(this,"manualStopped"),N(this,"state"),N(this,"logger"),N(this,"enableSegmentIntegration"),N(this,"privacySetting"),N(this,"enableCanvasRecording"),N(this,"enablePerformanceRecording"),N(this,"samplingStrategy"),N(this,"inlineImages"),N(this,"inlineStylesheet"),N(this,"debugOptions"),N(this,"listeners"),N(this,"firstloadVersion"),N(this,"environment"),N(this,"sessionShortcut"),N(this,"appVersion"),N(this,"serviceName"),N(this,"_worker"),N(this,"_optionsInternal"),N(this,"_backendUrl"),N(this,"_recordingStartTime"),N(this,"_isOnLocalHost"),N(this,"_onToggleFeedbackFormVisibility"),N(this,"_firstLoadListeners"),N(this,"_isCrossOriginIframe"),N(this,"_eventBytesSinceSnapshot"),N(this,"_lastSnapshotTime"),N(this,"_lastVisibilityChangeTime"),N(this,"pushPayloadTimerId"),N(this,"hasSessionUnloaded"),N(this,"hasPushedData"),N(this,"reloaded"),N(this,"_hasPreviouslyInitialized"),N(this,"_payloadId"),N(this,"_recordStop"),r.sessionSecureID||(r.sessionSecureID=no()),this.options=r,typeof((c=this.options)==null?void 0:c.debug)=="boolean"?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=(p=(u=this.options)==null?void 0:u.debug)!=null?p:{},this.logger=new uC(this.debugOptions.clientInteractions),r.storageMode&&(this.logger.log(`initializing in ${r.storageMode} session mode`),f=r.storageMode,Fs=f),this._worker=new aC,this._worker.onmessage=v=>{var I,Z;((I=v.data.response)==null?void 0:I.type)===Yt.AsyncEvents?(this._eventBytesSinceSnapshot+=v.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${v.data.response.id} size ${v.data.response.eventsSize} bytes, compression ratio ${v.data.response.eventsSize/v.data.response.compressedSize}.
                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):((Z=v.data.response)==null?void 0:Z.type)===Yt.CustomEvent&&this.addCustomEvent(v.data.response.tag,v.data.response.payload)};let T=Uu();if(this.reloaded=!1,!((m=this.sessionData)!=null&&m.sessionSecureID)&&(T==null?void 0:T.sessionSecureID))this.sessionData=T,this.options.sessionSecureID=T.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);else{for(const v of Object.values(Ue))Hs(v);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,sessionStartTime:Date.now()}}this._hasPreviouslyInitialized=!1,this._firstLoadListeners=a||new Ft(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch(v){this._isCrossOriginIframe=(y=this.options.recordCrossOriginIframe)==null||y}this._initMembers(this.options)}static create(r){return new ga(r)}_reset(r){return w(this,arguments,function*({forceNew:a}){let c,u;if(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),!a)try{c=at(Ue.USER_IDENTIFIER);const p=at(Ue.USER_OBJECT);p&&(u=JSON.parse(p))}catch(p){}for(const p of Object.values(Ue))Hs(p);this.sessionData.sessionSecureID=no(),this.sessionData.sessionStartTime=Date.now(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._payloadId=0,this.stopRecording(),this._firstLoadListeners=new Ft(this.options),yield this.initialize(),c&&u&&this.identify(c,u)})}_initMembers(r){var a,c,u,p,m,y,f,T,v,I,Z,C;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="",this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!r.enableSegmentIntegration,this.privacySetting=(a=r.privacySetting)!=null?a:"default",this.enableCanvasRecording=(c=r.enableCanvasRecording)!=null&&c,this.enablePerformanceRecording=(u=r.enablePerformanceRecording)==null||u,this.inlineImages=(p=r.inlineImages)!=null?p:this._isOnLocalHost,this.inlineStylesheet=(m=r.inlineStylesheet)==null||m,this.samplingStrategy=S({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0,dataUrlOptions:wN()},(y=r.samplingStrategy)!=null?y:{canvas:2}),this._backendUrl=(f=r==null?void 0:r.backendUrl)!=null?f:"https://pub.highlight.io",this._backendUrl[0]==="/"&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const k=new RZ(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=function(V,X=DZ){return{PushPayload:(O,P)=>X(Y=>V.request(bd,O,S(S({},P),Y)),"PushPayload","mutation",O),PushPayloadCompressed:(O,P)=>X(Y=>V.request(PZ,O,S(S({},P),Y)),"PushPayloadCompressed","mutation",O),identifySession:(O,P)=>X(Y=>V.request(WZ,O,S(S({},P),Y)),"identifySession","mutation",O),addSessionProperties:(O,P)=>X(Y=>V.request(kZ,O,S(S({},P),Y)),"addSessionProperties","mutation",O),pushMetrics:(O,P)=>X(Y=>V.request(AZ,O,S(S({},P),Y)),"pushMetrics","mutation",O),addSessionFeedback:(O,P)=>X(Y=>V.request(MZ,O,S(S({},P),Y)),"addSessionFeedback","mutation",O),initializeSession:(O,P)=>X(Y=>V.request(xZ,O,S(S({},P),Y)),"initializeSession","mutation",O),Ignore:(O,P)=>X(Y=>V.request(UZ,O,S(S({},P),Y)),"Ignore","query",O)}}(k,cC(((T=this.sessionData)==null?void 0:T.sessionSecureID)||((v=this.options)==null?void 0:v.sessionSecureID))),this.environment=(I=r.environment)!=null?I:"production",this.appVersion=r.appVersion,this.serviceName=(Z=r.serviceName)!=null?Z:"",typeof r.organizationID=="string"?this.organizationID=r.organizationID:this.organizationID=r.organizationID.toString(),this.isRunningOnHighlight=this.organizationID==="1"||this.organizationID==="1jdkoe52",this.firstloadVersion=r.firstloadVersion||"unknown",this.sessionShortcut=r.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const G=r,A=R(G,["firstloadVersion"]);this._optionsInternal=A,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime(),this._lastVisibilityChangeTime=new Date().getTime(),this._payloadId=(C=Number(at(Ue.PAYLOAD_ID)))!=null?C:1,vt(Ue.PAYLOAD_ID,this._payloadId.toString())}identify(r,a={},c){r&&r!==""?(this.sessionData.userIdentifier=r.toString(),this.sessionData.userObject=a,vt(Ue.USER_IDENTIFIER,r.toString()),vt(Ue.USER_OBJECT,JSON.stringify(a)),this._worker.postMessage({message:{type:Yt.Identify,userIdentifier:r,userObject:a,source:c}})):console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:r,user_object:a})}pushCustomError(r,a){return this.consumeCustomError(new Error(r),void 0,a)}consumeCustomError(r,a,c){let u={};if(c)try{u=S(S({},JSON.parse(c)),u)}catch(p){}return this.consumeError(r,{message:a,payload:u})}consumeError(r,{message:a,payload:c,source:u,type:p}){var m,y,f,T;r.cause&&(c=_(S({},c),{"exception.cause":r.cause}));let v=a?a+":"+r.message:r.message;p==="React.ErrorBoundary"&&(v="ErrorBoundary: "+v);const I=Cr.parse(r);this._firstLoadListeners.errors.push({event:v,type:p!=null?p:"custom",url:window.location.href,source:u!=null?u:"",lineNumber:(m=I[0])!=null&&m.lineNumber?(y=I[0])==null?void 0:y.lineNumber:0,columnNumber:(f=I[0])!=null&&f.columnNumber?(T=I[0])==null?void 0:T.columnNumber:0,stackTrace:I,timestamp:new Date().toISOString(),payload:JSON.stringify(c)})}addProperties(r={},a){const c=S({},r);Object.entries(c).forEach(([u,p])=>{try{structuredClone(p)}catch(m){delete c[u]}}),this._worker.postMessage({message:{type:Yt.Properties,propertiesObject:c,propertyType:a}})}initialize(r){return w(this,null,function*(){var a,c,u,p,m,y;if(this.logger.log("Initializing...",r,this.sessionData,this.options),(navigator==null?void 0:navigator.webdriver)&&!window.Cypress||((a=navigator==null?void 0:navigator.userAgent)==null?void 0:a.includes("Googlebot"))||((c=navigator==null?void 0:navigator.userAgent)==null?void 0:c.includes("AdsBot")))(u=this._firstLoadListeners)==null||u.stopListening();else try{if(r!=null&&r.forceNew)return void(yield this._reset(r));const f=at(Ue.RECORDING_START_TIME);f?this._recordingStartTime=parseInt(f,10):(this._recordingStartTime=new Date().getTime(),vt(Ue.RECORDING_START_TIME,this._recordingStartTime.toString()));let T,v=at("highlightClientID");v||(v=no(),vt("highlightClientID",v)),Ks(null),T=!this.options.disableSessionRecording&&this.options.disableNetworkRecording===void 0&&typeof this.options.networkRecording!="boolean"&&(((p=this.options.networkRecording)==null?void 0:p.recordHeadersAndBody)||!1);let I=[];if(typeof this.options.networkRecording=="object"&&((m=this.options.networkRecording.destinationDomains)!=null&&m.length)&&(I=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const A=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.privacySetting==="strict",privacy_setting:this.privacySetting,enable_recording_network_contents:T,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:v,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,client_id:v,network_recording_domains:I,disable_session_recording:this.options.disableSessionRecording});if(A.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${A.initializeSession.secure_id}, expected ${this.sessionData.sessionSecureID}`),this.sessionData.sessionSecureID=A.initializeSession.secure_id,this.sessionData.projectID=parseInt(((y=A==null?void 0:A.initializeSession)==null?void 0:y.project_id)||"0"),!this.sessionData.projectID||!this.sessionData.sessionSecureID)return void console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData)}if(this.logger.log(`Loaded Highlight
Remote: ${this._backendUrl}
Project ID: ${this.sessionData.projectID}
SessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:Yt.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),Du(this.sessionData.sessionSecureID),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||Ft.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout(()=>{this._save()},1e3)),this.options.disableSessionRecording)return this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",void(this.manualStopped=!1);const{getDeviceDetails:Z}=(()=>{if(!("performance"in window)||!("memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const A=window.performance;return{getDeviceDetails:()=>({deviceMemory:oC(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>({jsHeapSizeLimit:Sa(A.memory.jsHeapSizeLimit),totalJSHeapSize:Sa(A.memory.totalJSHeapSize),usedJSHeapSize:Sa(A.memory.usedJSHeapSize)})}})();Z&&this.recordMetric([{name:un.DeviceMemory,value:Z().deviceMemory,category:pt.Device,group:window.location.href}]);const C=A=>{this.events.push(A)};C.bind(this),this._recordStop&&(this._recordStop(),this._recordStop=void 0);const[k,G]=(A=>{switch(A){case"strict":case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}})(this.privacySetting);this._recordStop=Dt({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:C,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:k,maskInputOptions:G,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:this.samplingStrategy.dataUrlOptions,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:A=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[CN()],logger:typeof this.options.debug=="boolean"&&this.options.debug||typeof this.options.debug=="object"&&this.options.debug.domRecording?{debug:this.logger.log,warn:Wr}:void 0}),this._recordStop||this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent(),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(f){this._isOnLocalHost&&(console.error(f),Wr("initializeSession",f))}})}_visibilityHandler(r){return w(this,null,function*(){this.manualStopped?this.logger.log("Ignoring visibility event due to manual stop."):new Date().getTime()-this._lastVisibilityChangeTime<100||(this._lastVisibilityChangeTime=new Date().getTime(),this.logger.log(`Detected window ${r?"hidden":"visible"}.`),r?(this.addCustomEvent("TabHidden",!0),this.options.disableBackgroundRecording&&this.stopRecording()):(this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)))})}_setupCrossOriginIframe(){return w(this,null,function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise(r=>{const a=c=>{if(c.data.highlight===Kd){const u=c.data;this.logger.log("highlight got window message ",u),this.sessionData.projectID=u.projectID,this.sessionData.sessionSecureID=u.sessionSecureID,window.parent.postMessage({highlight:Jd},"*"),window.removeEventListener("message",a),r()}};window.addEventListener("message",a)})})}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval(()=>{window.document.querySelectorAll("iframe").forEach(r=>{var a;(a=r.contentWindow)==null||a.postMessage({highlight:Kd,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")})},1e3),window.addEventListener("message",r=>{r.data.highlight===Jd&&this.logger.log("highlight got response from initialized iframe")})}_setupWindowListeners(){var r;try{const c=this;this.enableSegmentIntegration&&this.listeners.push(FZ(p=>{if(p.type==="track"){const m={};m["segment-event"]=p.event,c.addProperties(m,{type:"track",source:"segment"})}else if(p.type==="identify"){const m=p.userId.replace(/^"(.*)"$/,"$1");c.identify(m,p.traits,"segment")}})),this.listeners.push(jN(p=>{this.reloaded?(this.addCustomEvent("Reload",p),this.reloaded=!1,c.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",p),c.addProperties({"visited-url":p},{type:"session"})})),this.listeners.push((p=>{let m;const y=()=>{clearTimeout(m),m=setTimeout(()=>{p({height:window.innerHeight,width:window.innerWidth,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,orientation:window.screen.orientation.angle})},500)};return window.addEventListener("resize",y),y(),()=>window.removeEventListener("resize",y)})(p=>{this.addCustomEvent("Viewport",p),this.submitViewportMetrics(p)})),this.listeners.push((p=>{const m=y=>{if(y.target){const f=Sd(y.target);p(f,y)}};return window.addEventListener("click",m),()=>window.removeEventListener("click",m)})((p,m)=>{p&&this.addCustomEvent("Click",p);let y=null,f=null;if(m&&m.target){const T=m.target;y=gd(T),f=T.textContent,f&&f.length>2e3&&(f=f.substring(0,2e3))}c.addProperties({clickTextContent:f,clickSelector:y},{type:"session"})})),this.listeners.push((p=>{const m=y=>{if(y.target){const f=Sd(y.target);p(f)}};return window.addEventListener("focusin",m),()=>window.removeEventListener("focusin",m)})(p=>{p&&this.addCustomEvent("Focus",p)})),this.listeners.push(iC(p=>{const{name:m,value:y}=p;this.recordMetric([{name:m,value:y,group:window.location.href,category:pt.WebVital}])})),this.sessionShortcut&&KZ(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push(((p,m)=>{let y=0,f=0;const T=()=>{const k=(new Date().getTime()-m)/1e3,G=Dd.memory.jsHeapSizeLimit||0,A=Dd.memory.usedJSHeapSize||0;p({jsHeapSizeLimit:G,usedJSHeapSize:A,relativeTimestamp:k,fps:y})};let v;T(),v=setInterval(()=>{T()},5e3);let I=0,Z=Date.now();const C=function(){var k=Date.now();I++,k>1e3+Z&&(y=Math.round(1e3*I/(k-Z)),I=0,Z=k),f=requestAnimationFrame(C)};return C(),()=>{clearInterval(v),cancelAnimationFrame(f)}})(p=>{this.addCustomEvent("Performance",cn(p)),this.recordMetric(Object.entries(p).map(([m,y])=>y?{name:m,value:y,category:pt.Performance,group:window.location.href}:void 0).filter(m=>m))},this._recordingStartTime)),this.listeners.push(((p,m)=>{let y={},f=16.666666666666668;dC().then(C=>f=C);const T=C=>{var k;y!=null&&y.event||(y={event:C,location:window.location.href,timerStart:(k=window.performance)==null?void 0:k.now()},window.requestAnimationFrame(v))},v=()=>{if(!(y!=null&&y.timerStart))return;const C=window.performance.now()-y.timerStart-f;I(C),y={}},I=C=>{const k=(new Date().getTime()-m)/1e3;p({relativeTimestamp:k,jankAmount:C,querySelector:Z(),newLocation:window.location.href!=y.location?window.location.href:void 0})},Z=()=>{var C;return(C=y==null?void 0:y.event)!=null&&C.target?gd(y.event.target):""};return window.addEventListener("click",T,!0),window.addEventListener("keydown",T,!0),()=>{window.removeEventListener("keydown",T,!0),window.removeEventListener("click",T,!0)}})(p=>{this.addCustomEvent("Jank",cn(p)),this.recordMetric([{name:"Jank",value:p.jankAmount,category:pt.WebVital,group:p.querySelector}])},this._recordingStartTime))),this._hasPreviouslyInitialized||((r=window.electron)!=null&&r.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:p})=>{this._visibilityHandler(!p)}),this.logger.log("Set up Electron highlight.run events.")):((p=>{let m,y;if(document.hidden!==void 0?(m="hidden",y="visibilitychange"):document.msHidden!==void 0?(m="msHidden",y="msvisibilitychange"):document.webkitHidden!==void 0&&(m="webkitHidden",y="webkitvisibilitychange"),y===void 0)return()=>{};if(m===void 0)return()=>{};const f=m,T=()=>{const v=document[f];p(!!v)};document.addEventListener(y,T)})(p=>this._visibilityHandler(p)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const u=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",u),this.listeners.push(()=>window.removeEventListener("beforeunload",u))}catch(c){this._isOnLocalHost&&(console.error(c),Wr("initializeSession _setupWindowListeners",c))}const a=()=>{this.addCustomEvent("Page Unload",""),Ks(this.sessionData)};if(window.addEventListener("beforeunload",a),this.listeners.push(()=>window.removeEventListener("beforeunload",a)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const c=()=>{this.addCustomEvent("Page Unload",""),Ks(this.sessionData)};window.addEventListener("pagehide",c),this.listeners.push(()=>window.removeEventListener("beforeunload",c))}}submitViewportMetrics({height:r,width:a,availHeight:c,availWidth:u}){this.recordMetric([{name:un.ViewportHeight,value:r,category:pt.Device,group:window.location.href},{name:un.ViewportWidth,value:a,category:pt.Device,group:window.location.href},{name:un.ScreenHeight,value:c,category:pt.Device,group:window.location.href},{name:un.ScreenWidth,value:u,category:pt.Device,group:window.location.href},{name:un.ViewportArea,value:r*a,category:pt.Device,group:window.location.href}])}recordMetric(r){this._worker.postMessage({message:{type:Yt.Metrics,metrics:r.map(a=>_(S({},a),{tags:a.tags||[],group:a.group||window.location.href,category:a.category||pt.Frontend,timestamp:new Date}))}})}stopRecording(r){this.manualStopped=!!r,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",r&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach(a=>a()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const r=new Date().getTime(),{projectID:a,sessionSecureID:c}=this.sessionData,u=(r-this._recordingStartTime)/1e3;return`https://${Bd}/${a}/sessions/${c}?ts=${u}`}getCurrentSessionURL(){const r=this.sessionData.projectID,a=this.sessionData.sessionSecureID;return r&&a?`https://${Bd}/${r}/sessions/${a}`:null}snapshot(r){return w(this,null,function*(){yield Dt.snapshotCanvas(r)})}addSessionFeedback({timestamp:r,verbatim:a,user_email:c,user_name:u}){var p;this._worker.postMessage({message:{type:Yt.Feedback,verbatim:a,timestamp:r,userName:u||this.sessionData.userIdentifier,userEmail:c||((p=this.sessionData.userObject)==null?void 0:p.name)}})}_save(){return w(this,null,function*(){var r;try{let a;this.state==="Recording"&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>144e5&&(this.logger.log("Resetting session",{start:this.sessionData.sessionStartTime}),yield this._reset({})),((r=this.options)==null?void 0:r.sendMode)==="local"&&(a=c=>w(this,null,function*(){let u=new Blob([JSON.stringify({query:ud(bd),variables:c})],{type:"application/json"});return yield window.fetch(`${this._backendUrl}`,{method:"POST",body:u}),0})),yield this._sendPayload({sendFn:a}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now()}catch(a){this._isOnLocalHost&&(console.error(a),Wr("_save",a))}this.state==="Recording"&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},2e3))})}addCustomEvent(r,a){if(this.state==="NotRecording"){let c;const u=()=>{clearInterval(c),this.state==="Recording"&&this.events.length>0?Cu(r,a):c=setTimeout(u,500)};c=setTimeout(u,500)}else this.state==="Recording"&&(this.events.length>0||this.hasPushedData)&&Cu(r,a)}_sendPayload(r){return w(this,arguments,function*({sendFn:a}){const c=Ft.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),u=Ft.getRecordedWebSocketEvents(this._firstLoadListeners),p=[...this.events],m=[...this._firstLoadListeners.messages],y=[...this._firstLoadListeners.errors],{bytes:f,time:T}=this.enableCanvasRecording?xu.canvas:xu.normal;this._eventBytesSinceSnapshot>=f&&new Date().getTime()-this._lastSnapshotTime>=T&&this.takeFullSnapshot(),this.logger.log(`Sending: ${p.length} events, ${m.length} messages, ${c.length} network resources, ${y.length} errors 
To: ${this._backendUrl}
Org: ${this.organizationID}
SessionSecureID: ${this.sessionData.sessionSecureID}`);const v=at(Pr)||"";a?yield a({session_secure_id:this.sessionData.sessionSecureID,payload_id:this._payloadId.toString(),events:{events:p},messages:cn({messages:m}),resources:JSON.stringify({resources:c}),web_socket_events:JSON.stringify({webSocketEvents:u}),errors:y,is_beacon:!1,has_session_unloaded:this.hasSessionUnloaded}):this._worker.postMessage({message:{type:Yt.AsyncEvents,id:this._payloadId,events:p,messages:m,errors:y,resourcesString:JSON.stringify({resources:c}),webSocketEventsString:JSON.stringify({webSocketEvents:u}),hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:v}}),this._payloadId++,vt(Ue.PAYLOAD_ID,this._payloadId.toString()),Ft.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(p.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(m.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(y.length),sC(v)})}takeFullSnapshot(){Dt.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime()}}const pC=Object.freeze(Object.defineProperty({__proto__:null,shutdown:()=>w(this,null,function*(){})},Symbol.toStringTag,{value:"Module"}));n.FirstLoadListeners=Ft,n.GenerateSecureID=no,n.Highlight=ga,n.HighlightWarning=Wr,n.MetricCategory=pt,n.getPreviousSessionData=Uu,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})})})(Ts,Ts.exports);var qR=Ts.exports;const eN=Ne({__proto__:null},[qR]);Se.H=ke,Se.HighlightSegmentMiddleware=Np,Se.configureElectronHighlight=Zp,Object.defineProperty(Se,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
