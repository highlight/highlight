mutation MarkSessionAsViewed($id: ID!, $viewed: Boolean!) {
    markSessionAsViewed(id: $id, viewed: $viewed) {
        id
        viewed
    }
}

mutation MarkSessionAsStarred($id: ID!, $starred: Boolean!) {
    markSessionAsStarred(id: $id, starred: $starred) {
        id
        starred
    }
}

mutation CreateOrUpdateSubscription(
    $organization_id: ID!
    $plan_type: PlanType!
) {
    createOrUpdateSubscription(
        organization_id: $organization_id
        plan_type: $plan_type
    )
}

mutation markErrorGroupAsResolved($id: ID!, $resolved: Boolean!) {
    markErrorGroupAsResolved(id: $id, resolved: $resolved) {
        id
        resolved
    }
}

mutation SendEmailSignup($email: String!) {
    emailSignup(email: $email)
}

mutation AddAdminToOrganization($organization_id: ID!, $invite_id: String!) {
    addAdminToOrganization(
        organization_id: $organization_id
        invite_id: $invite_id
    )
}

mutation AddSlackIntegrationToWorkspace(
    $organization_id: ID!
    $code: String!
    $redirect_path: String!
) {
    addSlackIntegrationToWorkspace(
        organization_id: $organization_id
        code: $code
        redirect_path: $redirect_path
    )
}

mutation CreateOrganization($name: String!) {
    createOrganization(name: $name) {
        id
        name
    }
}

mutation EditOrganization($id: ID!, $name: String, $billing_email: String) {
    editOrganization(id: $id, name: $name, billing_email: $billing_email) {
        name
        billing_email
    }
}

mutation DeleteOrganization($id: ID!) {
    deleteOrganization(id: $id)
}

mutation DeleteSegment($segment_id: ID!) {
    deleteSegment(segment_id: $segment_id)
}

mutation EditSegment(
    $organization_id: ID!
    $id: ID!
    $params: SearchParamsInput!
) {
    editSegment(organization_id: $organization_id, id: $id, params: $params)
}

mutation CreateSegment(
    $organization_id: ID!
    $name: String!
    $params: SearchParamsInput!
) {
    createSegment(
        organization_id: $organization_id
        name: $name
        params: $params
    ) {
        name
        id
        params {
            user_properties {
                name
                value
            }
            excluded_properties {
                name
                value
            }
            date_range {
                start_date
                end_date
            }
            os
            browser
            visited_url
            referrer
            identified
            hide_viewed
        }
    }
}

mutation CreateSessionComment(
    $organization_id: ID!
    $admin_id: ID!
    $session_id: ID!
    $session_timestamp: Int!
    $text: String!
    $text_for_email: String!
    $x_coordinate: Float!
    $y_coordinate: Float!
    $tagged_admins: [SanitizedAdminInput]!
    $session_url: String!
    $time: Float!
    $author_name: String!
    $session_image: String
) {
    createSessionComment(
        organization_id: $organization_id
        admin_id: $admin_id
        session_id: $session_id
        session_timestamp: $session_timestamp
        text: $text
        text_for_email: $text_for_email
        x_coordinate: $x_coordinate
        y_coordinate: $y_coordinate
        tagged_admins: $tagged_admins
        session_url: $session_url
        time: $time
        author_name: $author_name
        session_image: $session_image
    ) {
        id
        timestamp
        created_at
        updated_at
        author {
            id
            name
            email
        }
        text
        x_coordinate
        y_coordinate
    }
}

mutation DeleteSessionComment($id: ID!) {
    deleteSessionComment(id: $id)
}

mutation CreateErrorComment(
    $organization_id: ID!
    $admin_id: ID!
    $error_group_id: ID!
    $text: String!
    $text_for_email: String!
    $tagged_admins: [SanitizedAdminInput]!
    $error_url: String!
    $author_name: String!
) {
    createErrorComment(
        organization_id: $organization_id
        admin_id: $admin_id
        error_group_id: $error_group_id
        text: $text
        text_for_email: $text_for_email
        tagged_admins: $tagged_admins
        error_url: $error_url
        author_name: $author_name
    ) {
        id
        created_at
        updated_at
        author {
            id
            name
            email
        }
        text
    }
}

mutation DeleteErrorComment($id: ID!) {
    deleteErrorComment(id: $id)
}

mutation DeleteErrorSegment($segment_id: ID!) {
    deleteErrorSegment(segment_id: $segment_id)
}

mutation EditErrorSegment(
    $organization_id: ID!
    $id: ID!
    $params: ErrorSearchParamsInput!
) {
    editErrorSegment(
        organization_id: $organization_id
        id: $id
        params: $params
    )
}

mutation CreateErrorSegment(
    $organization_id: ID!
    $name: String!
    $params: ErrorSearchParamsInput!
) {
    createErrorSegment(
        organization_id: $organization_id
        name: $name
        params: $params
    ) {
        name
        id
        params {
            date_range {
                start_date
                end_date
            }
            os
            browser
            visited_url
            hide_resolved
        }
    }
}

mutation UpdateErrorAlert(
    $organization_id: ID!
    $error_alert_id: ID!
    $count_threshold: Int!
    $threshold_window: Int!
    $slack_channels: [SanitizedSlackChannelInput]!
    $environments: [String]!
) {
    updateErrorAlert(
        organization_id: $organization_id
        error_alert_id: $error_alert_id
        count_threshold: $count_threshold
        slack_channels: $slack_channels
        environments: $environments
        threshold_window: $threshold_window
    ) {
        ChannelsToNotify {
            webhook_channel
            webhook_channel_id
        }
        ExcludedEnvironments
        CountThreshold
        ThresholdWindow
    }
}

mutation UpdateNewUserAlert(
    $organization_id: ID!
    $session_alert_id: ID!
    $count_threshold: Int!
    $slack_channels: [SanitizedSlackChannelInput]!
    $environments: [String]!
) {
    updateNewUserAlert(
        organization_id: $organization_id
        session_alert_id: $session_alert_id
        count_threshold: $count_threshold
        slack_channels: $slack_channels
        environments: $environments
    ) {
        ChannelsToNotify {
            webhook_channel
            webhook_channel_id
        }
        ExcludedEnvironments
        CountThreshold
    }
}

mutation UpdateTrackPropertiesAlert(
    $organization_id: ID!
    $session_alert_id: ID!
    $slack_channels: [SanitizedSlackChannelInput]!
    $environments: [String]!
    $track_properties: [TrackPropertyInput]!
) {
    updateTrackPropertiesAlert(
        organization_id: $organization_id
        session_alert_id: $session_alert_id
        slack_channels: $slack_channels
        environments: $environments
        track_properties: $track_properties
    ) {
        ChannelsToNotify {
            webhook_channel
            webhook_channel_id
        }
        ExcludedEnvironments
        CountThreshold
    }
}

mutation UpdateUserPropertiesAlert(
    $organization_id: ID!
    $session_alert_id: ID!
    $slack_channels: [SanitizedSlackChannelInput]!
    $environments: [String]!
    $user_properties: [UserPropertyInput]!
) {
    updateUserPropertiesAlert(
        organization_id: $organization_id
        session_alert_id: $session_alert_id
        slack_channels: $slack_channels
        environments: $environments
        user_properties: $user_properties
    ) {
        ChannelsToNotify {
            webhook_channel
            webhook_channel_id
        }
        ExcludedEnvironments
        CountThreshold
    }
}
